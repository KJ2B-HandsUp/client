function _C(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ba(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var s_={exports:{}},Kl={},o_={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ra=Symbol.for("react.element"),SC=Symbol.for("react.portal"),bC=Symbol.for("react.fragment"),RC=Symbol.for("react.strict_mode"),CC=Symbol.for("react.profiler"),xC=Symbol.for("react.provider"),TC=Symbol.for("react.context"),EC=Symbol.for("react.forward_ref"),PC=Symbol.for("react.suspense"),kC=Symbol.for("react.memo"),DC=Symbol.for("react.lazy"),ug=Symbol.iterator;function LC(e){return e===null||typeof e!="object"?null:(e=ug&&e[ug]||e["@@iterator"],typeof e=="function"?e:null)}var a_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c_=Object.assign,l_={};function Gs(e,t,n){this.props=e,this.context=t,this.refs=l_,this.updater=n||a_}Gs.prototype.isReactComponent={};Gs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function u_(){}u_.prototype=Gs.prototype;function Zf(e,t,n){this.props=e,this.context=t,this.refs=l_,this.updater=n||a_}var eh=Zf.prototype=new u_;eh.constructor=Zf;c_(eh,Gs.prototype);eh.isPureReactComponent=!0;var dg=Array.isArray,d_=Object.prototype.hasOwnProperty,th={current:null},p_={key:!0,ref:!0,__self:!0,__source:!0};function f_(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)d_.call(t,r)&&!p_.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ra,type:e,key:s,ref:o,props:i,_owner:th.current}}function AC(e,t){return{$$typeof:Ra,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ra}function OC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var pg=/\/+/g;function Xu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?OC(""+e.key):t.toString(36)}function Mc(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ra:case SC:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Xu(o,0):r,dg(i)?(n="",e!=null&&(n=e.replace(pg,"$&/")+"/"),Mc(i,t,n,"",function(l){return l})):i!=null&&(nh(i)&&(i=AC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(pg,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",dg(e))for(var a=0;a<e.length;a++){s=e[a];var c=r+Xu(s,a);o+=Mc(s,t,n,c,i)}else if(c=LC(e),typeof c=="function")for(e=c.call(e),a=0;!(s=e.next()).done;)s=s.value,c=r+Xu(s,a++),o+=Mc(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ya(e,t,n){if(e==null)return e;var r=[],i=0;return Mc(e,r,"","",function(s){return t.call(n,s,i++)}),r}function MC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vt={current:null},Ic={transition:null},IC={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:Ic,ReactCurrentOwner:th};ee.Children={map:Ya,forEach:function(e,t,n){Ya(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ya(e,function(){t++}),t},toArray:function(e){return Ya(e,function(t){return t})||[]},only:function(e){if(!nh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=Gs;ee.Fragment=bC;ee.Profiler=CC;ee.PureComponent=Zf;ee.StrictMode=RC;ee.Suspense=PC;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IC;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=c_({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=th.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)d_.call(t,c)&&!p_.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Ra,type:e.type,key:i,ref:s,props:r,_owner:o}};ee.createContext=function(e){return e={$$typeof:TC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xC,_context:e},e.Consumer=e};ee.createElement=f_;ee.createFactory=function(e){var t=f_.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:EC,render:e}};ee.isValidElement=nh;ee.lazy=function(e){return{$$typeof:DC,_payload:{_status:-1,_result:e},_init:MC}};ee.memo=function(e,t){return{$$typeof:kC,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=Ic.transition;Ic.transition={};try{e()}finally{Ic.transition=t}};ee.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ee.useCallback=function(e,t){return vt.current.useCallback(e,t)};ee.useContext=function(e){return vt.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return vt.current.useDeferredValue(e)};ee.useEffect=function(e,t){return vt.current.useEffect(e,t)};ee.useId=function(){return vt.current.useId()};ee.useImperativeHandle=function(e,t,n){return vt.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return vt.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return vt.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return vt.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return vt.current.useReducer(e,t,n)};ee.useRef=function(e){return vt.current.useRef(e)};ee.useState=function(e){return vt.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return vt.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return vt.current.useTransition()};ee.version="18.2.0";o_.exports=ee;var _=o_.exports;const Fe=ba(_),jC=_C({__proto__:null,default:Fe},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NC=_,FC=Symbol.for("react.element"),BC=Symbol.for("react.fragment"),$C=Object.prototype.hasOwnProperty,UC=NC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VC={key:!0,ref:!0,__self:!0,__source:!0};function h_(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)$C.call(t,r)&&!VC.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:FC,type:e,key:s,ref:o,props:i,_owner:UC.current}}Kl.Fragment=BC;Kl.jsx=h_;Kl.jsxs=h_;s_.exports=Kl;var b=s_.exports,vp={},m_={exports:{}},It={},g_={exports:{}},y_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,D){var A=T.length;T.push(D);e:for(;0<A;){var O=A-1>>>1,G=T[O];if(0<i(G,D))T[O]=D,T[A]=G,A=O;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var D=T[0],A=T.pop();if(A!==D){T[0]=A;e:for(var O=0,G=T.length,se=G>>>1;O<se;){var he=2*(O+1)-1,Ee=T[he],pe=he+1,De=T[pe];if(0>i(Ee,A))pe<G&&0>i(De,Ee)?(T[O]=De,T[pe]=A,O=pe):(T[O]=Ee,T[he]=A,O=he);else if(pe<G&&0>i(De,A))T[O]=De,T[pe]=A,O=pe;else break e}}return D}function i(T,D){var A=T.sortIndex-D.sortIndex;return A!==0?A:T.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,d=null,p=3,f=!1,h=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var D=n(l);D!==null;){if(D.callback===null)r(l);else if(D.startTime<=T)r(l),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(l)}}function S(T){if(m=!1,y(T),!h)if(n(c)!==null)h=!0,le(R);else{var D=n(l);D!==null&&ie(S,D.startTime-T)}}function R(T,D){h=!1,m&&(m=!1,v(P),P=-1),f=!0;var A=p;try{for(y(D),d=n(c);d!==null&&(!(d.expirationTime>D)||T&&!W());){var O=d.callback;if(typeof O=="function"){d.callback=null,p=d.priorityLevel;var G=O(d.expirationTime<=D);D=e.unstable_now(),typeof G=="function"?d.callback=G:d===n(c)&&r(c),y(D)}else r(c);d=n(c)}if(d!==null)var se=!0;else{var he=n(l);he!==null&&ie(S,he.startTime-D),se=!1}return se}finally{d=null,p=A,f=!1}}var x=!1,C=null,P=-1,M=5,I=-1;function W(){return!(e.unstable_now()-I<M)}function Q(){if(C!==null){var T=e.unstable_now();I=T;var D=!0;try{D=C(!0,T)}finally{D?fe():(x=!1,C=null)}}else x=!1}var fe;if(typeof g=="function")fe=function(){g(Q)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,de=te.port2;te.port1.onmessage=Q,fe=function(){de.postMessage(null)}}else fe=function(){w(Q,0)};function le(T){C=T,x||(x=!0,fe())}function ie(T,D){P=w(function(){T(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){h||f||(h=!0,le(R))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(p){case 1:case 2:case 3:var D=3;break;default:D=p}var A=p;p=D;try{return T()}finally{p=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,D){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var A=p;p=T;try{return D()}finally{p=A}},e.unstable_scheduleCallback=function(T,D,A){var O=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?O+A:O):A=O,T){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=A+G,T={id:u++,callback:D,priorityLevel:T,startTime:A,expirationTime:G,sortIndex:-1},A>O?(T.sortIndex=A,t(l,T),n(c)===null&&T===n(l)&&(m?(v(P),P=-1):m=!0,ie(S,A-O))):(T.sortIndex=G,t(c,T),h||f||(h=!0,le(R))),T},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(T){var D=p;return function(){var A=p;p=D;try{return T.apply(this,arguments)}finally{p=A}}}})(y_);g_.exports=y_;var zC=g_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_=_,Ot=zC;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w_=new Set,Yo={};function bi(e,t){Ps(e,t),Ps(e+"Capture",t)}function Ps(e,t){for(Yo[e]=t,e=0;e<t.length;e++)w_.add(t[e])}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wp=Object.prototype.hasOwnProperty,HC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fg={},hg={};function WC(e){return wp.call(hg,e)?!0:wp.call(fg,e)?!1:HC.test(e)?hg[e]=!0:(fg[e]=!0,!1)}function GC(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function KC(e,t,n,r){if(t===null||typeof t>"u"||GC(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ct[e]=new wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ct[t]=new wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ct[e]=new wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ct[e]=new wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ct[e]=new wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ct[e]=new wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ct[e]=new wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ct[e]=new wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ct[e]=new wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var rh=/[\-:]([a-z])/g;function ih(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rh,ih);ct[t]=new wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rh,ih);ct[t]=new wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rh,ih);ct[t]=new wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ct[e]=new wt(e,1,!1,e.toLowerCase(),null,!1,!1)});ct.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ct[e]=new wt(e,1,!1,e.toLowerCase(),null,!0,!0)});function sh(e,t,n,r){var i=ct.hasOwnProperty(t)?ct[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(KC(t,n,i,r)&&(n=null),r||i===null?WC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var or=v_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xa=Symbol.for("react.element"),es=Symbol.for("react.portal"),ts=Symbol.for("react.fragment"),oh=Symbol.for("react.strict_mode"),_p=Symbol.for("react.profiler"),__=Symbol.for("react.provider"),S_=Symbol.for("react.context"),ah=Symbol.for("react.forward_ref"),Sp=Symbol.for("react.suspense"),bp=Symbol.for("react.suspense_list"),ch=Symbol.for("react.memo"),vr=Symbol.for("react.lazy"),b_=Symbol.for("react.offscreen"),mg=Symbol.iterator;function oo(e){return e===null||typeof e!="object"?null:(e=mg&&e[mg]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Object.assign,Ju;function Co(e){if(Ju===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ju=t&&t[1]||""}return`
`+Ju+e}var Zu=!1;function ed(e,t){if(!e||Zu)return"";Zu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{Zu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Co(e):""}function qC(e){switch(e.tag){case 5:return Co(e.type);case 16:return Co("Lazy");case 13:return Co("Suspense");case 19:return Co("SuspenseList");case 0:case 2:case 15:return e=ed(e.type,!1),e;case 11:return e=ed(e.type.render,!1),e;case 1:return e=ed(e.type,!0),e;default:return""}}function Rp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ts:return"Fragment";case es:return"Portal";case _p:return"Profiler";case oh:return"StrictMode";case Sp:return"Suspense";case bp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case S_:return(e.displayName||"Context")+".Consumer";case __:return(e._context.displayName||"Context")+".Provider";case ah:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ch:return t=e.displayName||null,t!==null?t:Rp(e.type)||"Memo";case vr:t=e._payload,e=e._init;try{return Rp(e(t))}catch{}}return null}function QC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rp(t);case 8:return t===oh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ur(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function R_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YC(e){var t=R_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ja(e){e._valueTracker||(e._valueTracker=YC(e))}function C_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=R_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cp(e,t){var n=t.checked;return Ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function gg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ur(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function x_(e,t){t=t.checked,t!=null&&sh(e,"checked",t,!1)}function xp(e,t){x_(e,t);var n=Ur(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Tp(e,t.type,Ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Tp(e,t,n){(t!=="number"||ol(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var xo=Array.isArray;function ws(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ur(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ep(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return Ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(xo(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ur(n)}}function T_(e,t){var n=Ur(t.value),r=Ur(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function wg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function E_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?E_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Za,P_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Za=Za||document.createElement("div"),Za.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Za.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Oo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XC=["Webkit","ms","Moz","O"];Object.keys(Oo).forEach(function(e){XC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Oo[t]=Oo[e]})});function k_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Oo.hasOwnProperty(e)&&Oo[e]?(""+t).trim():t+"px"}function D_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=k_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var JC=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kp(e,t){if(t){if(JC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Dp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lp=null;function lh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ap=null,_s=null,Ss=null;function _g(e){if(e=Ta(e)){if(typeof Ap!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Jl(t),Ap(e.stateNode,e.type,t))}}function L_(e){_s?Ss?Ss.push(e):Ss=[e]:_s=e}function A_(){if(_s){var e=_s,t=Ss;if(Ss=_s=null,_g(e),t)for(e=0;e<t.length;e++)_g(t[e])}}function O_(e,t){return e(t)}function M_(){}var td=!1;function I_(e,t,n){if(td)return e(t,n);td=!0;try{return O_(e,t,n)}finally{td=!1,(_s!==null||Ss!==null)&&(M_(),A_())}}function Jo(e,t){var n=e.stateNode;if(n===null)return null;var r=Jl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var Op=!1;if(er)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){Op=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{Op=!1}function ZC(e,t,n,r,i,s,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Mo=!1,al=null,cl=!1,Mp=null,ex={onError:function(e){Mo=!0,al=e}};function tx(e,t,n,r,i,s,o,a,c){Mo=!1,al=null,ZC.apply(ex,arguments)}function nx(e,t,n,r,i,s,o,a,c){if(tx.apply(this,arguments),Mo){if(Mo){var l=al;Mo=!1,al=null}else throw Error(L(198));cl||(cl=!0,Mp=l)}}function Ri(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function j_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sg(e){if(Ri(e)!==e)throw Error(L(188))}function rx(e){var t=e.alternate;if(!t){if(t=Ri(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Sg(i),e;if(s===r)return Sg(i),t;s=s.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function N_(e){return e=rx(e),e!==null?F_(e):null}function F_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=F_(e);if(t!==null)return t;e=e.sibling}return null}var B_=Ot.unstable_scheduleCallback,bg=Ot.unstable_cancelCallback,ix=Ot.unstable_shouldYield,sx=Ot.unstable_requestPaint,$e=Ot.unstable_now,ox=Ot.unstable_getCurrentPriorityLevel,uh=Ot.unstable_ImmediatePriority,$_=Ot.unstable_UserBlockingPriority,ll=Ot.unstable_NormalPriority,ax=Ot.unstable_LowPriority,U_=Ot.unstable_IdlePriority,ql=null,kn=null;function cx(e){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(ql,e,void 0,(e.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:dx,lx=Math.log,ux=Math.LN2;function dx(e){return e>>>=0,e===0?32:31-(lx(e)/ux|0)|0}var ec=64,tc=4194304;function To(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ul(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=To(a):(s&=o,s!==0&&(r=To(s)))}else o=n&~i,o!==0?r=To(o):s!==0&&(r=To(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-sn(t),i=1<<n,r|=e[n],t&=~i;return r}function px(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-sn(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=px(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}}function Ip(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function V_(){var e=ec;return ec<<=1,!(ec&4194240)&&(ec=64),e}function nd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ca(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sn(t),e[t]=n}function hx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-sn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function dh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-sn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var we=0;function z_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var H_,ph,W_,G_,K_,jp=!1,nc=[],Er=null,Pr=null,kr=null,Zo=new Map,ea=new Map,br=[],mx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rg(e,t){switch(e){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":Zo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ea.delete(t.pointerId)}}function co(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ta(t),t!==null&&ph(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function gx(e,t,n,r,i){switch(t){case"focusin":return Er=co(Er,e,t,n,r,i),!0;case"dragenter":return Pr=co(Pr,e,t,n,r,i),!0;case"mouseover":return kr=co(kr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Zo.set(s,co(Zo.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ea.set(s,co(ea.get(s)||null,e,t,n,r,i)),!0}return!1}function q_(e){var t=si(e.target);if(t!==null){var n=Ri(t);if(n!==null){if(t=n.tag,t===13){if(t=j_(n),t!==null){e.blockedOn=t,K_(e.priority,function(){W_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Np(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Lp=r,n.target.dispatchEvent(r),Lp=null}else return t=Ta(n),t!==null&&ph(t),e.blockedOn=n,!1;t.shift()}return!0}function Cg(e,t,n){jc(e)&&n.delete(t)}function yx(){jp=!1,Er!==null&&jc(Er)&&(Er=null),Pr!==null&&jc(Pr)&&(Pr=null),kr!==null&&jc(kr)&&(kr=null),Zo.forEach(Cg),ea.forEach(Cg)}function lo(e,t){e.blockedOn===t&&(e.blockedOn=null,jp||(jp=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,yx)))}function ta(e){function t(i){return lo(i,e)}if(0<nc.length){lo(nc[0],e);for(var n=1;n<nc.length;n++){var r=nc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Er!==null&&lo(Er,e),Pr!==null&&lo(Pr,e),kr!==null&&lo(kr,e),Zo.forEach(t),ea.forEach(t),n=0;n<br.length;n++)r=br[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<br.length&&(n=br[0],n.blockedOn===null);)q_(n),n.blockedOn===null&&br.shift()}var bs=or.ReactCurrentBatchConfig,dl=!0;function vx(e,t,n,r){var i=we,s=bs.transition;bs.transition=null;try{we=1,fh(e,t,n,r)}finally{we=i,bs.transition=s}}function wx(e,t,n,r){var i=we,s=bs.transition;bs.transition=null;try{we=4,fh(e,t,n,r)}finally{we=i,bs.transition=s}}function fh(e,t,n,r){if(dl){var i=Np(e,t,n,r);if(i===null)pd(e,t,r,pl,n),Rg(e,r);else if(gx(i,e,t,n,r))r.stopPropagation();else if(Rg(e,r),t&4&&-1<mx.indexOf(e)){for(;i!==null;){var s=Ta(i);if(s!==null&&H_(s),s=Np(e,t,n,r),s===null&&pd(e,t,r,pl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else pd(e,t,r,null,n)}}var pl=null;function Np(e,t,n,r){if(pl=null,e=lh(r),e=si(e),e!==null)if(t=Ri(e),t===null)e=null;else if(n=t.tag,n===13){if(e=j_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pl=e,null}function Q_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ox()){case uh:return 1;case $_:return 4;case ll:case ax:return 16;case U_:return 536870912;default:return 16}default:return 16}}var Cr=null,hh=null,Nc=null;function Y_(){if(Nc)return Nc;var e,t=hh,n=t.length,r,i="value"in Cr?Cr.value:Cr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Nc=i.slice(e,1<r?1-r:void 0)}function Fc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rc(){return!0}function xg(){return!1}function jt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rc:xg,this.isPropagationStopped=xg,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rc)},persist:function(){},isPersistent:rc}),t}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mh=jt(Ks),xa=Ie({},Ks,{view:0,detail:0}),_x=jt(xa),rd,id,uo,Ql=Ie({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==uo&&(uo&&e.type==="mousemove"?(rd=e.screenX-uo.screenX,id=e.screenY-uo.screenY):id=rd=0,uo=e),rd)},movementY:function(e){return"movementY"in e?e.movementY:id}}),Tg=jt(Ql),Sx=Ie({},Ql,{dataTransfer:0}),bx=jt(Sx),Rx=Ie({},xa,{relatedTarget:0}),sd=jt(Rx),Cx=Ie({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),xx=jt(Cx),Tx=Ie({},Ks,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ex=jt(Tx),Px=Ie({},Ks,{data:0}),Eg=jt(Px),kx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ax(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lx[e])?!!t[e]:!1}function gh(){return Ax}var Ox=Ie({},xa,{key:function(e){if(e.key){var t=kx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gh,charCode:function(e){return e.type==="keypress"?Fc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mx=jt(Ox),Ix=Ie({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pg=jt(Ix),jx=Ie({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gh}),Nx=jt(jx),Fx=Ie({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bx=jt(Fx),$x=Ie({},Ql,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ux=jt($x),Vx=[9,13,27,32],yh=er&&"CompositionEvent"in window,Io=null;er&&"documentMode"in document&&(Io=document.documentMode);var zx=er&&"TextEvent"in window&&!Io,X_=er&&(!yh||Io&&8<Io&&11>=Io),kg=String.fromCharCode(32),Dg=!1;function J_(e,t){switch(e){case"keyup":return Vx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ns=!1;function Hx(e,t){switch(e){case"compositionend":return Z_(t);case"keypress":return t.which!==32?null:(Dg=!0,kg);case"textInput":return e=t.data,e===kg&&Dg?null:e;default:return null}}function Wx(e,t){if(ns)return e==="compositionend"||!yh&&J_(e,t)?(e=Y_(),Nc=hh=Cr=null,ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return X_&&t.locale!=="ko"?null:t.data;default:return null}}var Gx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gx[e.type]:t==="textarea"}function eS(e,t,n,r){L_(r),t=fl(t,"onChange"),0<t.length&&(n=new mh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jo=null,na=null;function Kx(e){dS(e,0)}function Yl(e){var t=ss(e);if(C_(t))return e}function qx(e,t){if(e==="change")return t}var tS=!1;if(er){var od;if(er){var ad="oninput"in document;if(!ad){var Ag=document.createElement("div");Ag.setAttribute("oninput","return;"),ad=typeof Ag.oninput=="function"}od=ad}else od=!1;tS=od&&(!document.documentMode||9<document.documentMode)}function Og(){jo&&(jo.detachEvent("onpropertychange",nS),na=jo=null)}function nS(e){if(e.propertyName==="value"&&Yl(na)){var t=[];eS(t,na,e,lh(e)),I_(Kx,t)}}function Qx(e,t,n){e==="focusin"?(Og(),jo=t,na=n,jo.attachEvent("onpropertychange",nS)):e==="focusout"&&Og()}function Yx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yl(na)}function Xx(e,t){if(e==="click")return Yl(t)}function Jx(e,t){if(e==="input"||e==="change")return Yl(t)}function Zx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cn=typeof Object.is=="function"?Object.is:Zx;function ra(e,t){if(cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wp.call(t,i)||!cn(e[i],t[i]))return!1}return!0}function Mg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ig(e,t){var n=Mg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Mg(n)}}function rS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iS(){for(var e=window,t=ol();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ol(e.document)}return t}function vh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function eT(e){var t=iS(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&rS(n.ownerDocument.documentElement,n)){if(r!==null&&vh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Ig(n,s);var o=Ig(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tT=er&&"documentMode"in document&&11>=document.documentMode,rs=null,Fp=null,No=null,Bp=!1;function jg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bp||rs==null||rs!==ol(r)||(r=rs,"selectionStart"in r&&vh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),No&&ra(No,r)||(No=r,r=fl(Fp,"onSelect"),0<r.length&&(t=new mh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rs)))}function ic(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var is={animationend:ic("Animation","AnimationEnd"),animationiteration:ic("Animation","AnimationIteration"),animationstart:ic("Animation","AnimationStart"),transitionend:ic("Transition","TransitionEnd")},cd={},sS={};er&&(sS=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function Xl(e){if(cd[e])return cd[e];if(!is[e])return e;var t=is[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sS)return cd[e]=t[n];return e}var oS=Xl("animationend"),aS=Xl("animationiteration"),cS=Xl("animationstart"),lS=Xl("transitionend"),uS=new Map,Ng="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(e,t){uS.set(e,t),bi(t,[e])}for(var ld=0;ld<Ng.length;ld++){var ud=Ng[ld],nT=ud.toLowerCase(),rT=ud[0].toUpperCase()+ud.slice(1);Wr(nT,"on"+rT)}Wr(oS,"onAnimationEnd");Wr(aS,"onAnimationIteration");Wr(cS,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(lS,"onTransitionEnd");Ps("onMouseEnter",["mouseout","mouseover"]);Ps("onMouseLeave",["mouseout","mouseover"]);Ps("onPointerEnter",["pointerout","pointerover"]);Ps("onPointerLeave",["pointerout","pointerover"]);bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function Fg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,nx(r,t,void 0,e),e.currentTarget=null}function dS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Fg(i,a,l),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Fg(i,a,l),s=c}}}if(cl)throw e=Mp,cl=!1,Mp=null,e}function Ce(e,t){var n=t[Hp];n===void 0&&(n=t[Hp]=new Set);var r=e+"__bubble";n.has(r)||(pS(t,e,2,!1),n.add(r))}function dd(e,t,n){var r=0;t&&(r|=4),pS(n,e,r,t)}var sc="_reactListening"+Math.random().toString(36).slice(2);function ia(e){if(!e[sc]){e[sc]=!0,w_.forEach(function(n){n!=="selectionchange"&&(iT.has(n)||dd(n,!1,e),dd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sc]||(t[sc]=!0,dd("selectionchange",!1,t))}}function pS(e,t,n,r){switch(Q_(t)){case 1:var i=vx;break;case 4:i=wx;break;default:i=fh}n=i.bind(null,t,n,e),i=void 0,!Op||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function pd(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=si(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}I_(function(){var l=s,u=lh(n),d=[];e:{var p=uS.get(e);if(p!==void 0){var f=mh,h=e;switch(e){case"keypress":if(Fc(n)===0)break e;case"keydown":case"keyup":f=Mx;break;case"focusin":h="focus",f=sd;break;case"focusout":h="blur",f=sd;break;case"beforeblur":case"afterblur":f=sd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Tg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=bx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Nx;break;case oS:case aS:case cS:f=xx;break;case lS:f=Bx;break;case"scroll":f=_x;break;case"wheel":f=Ux;break;case"copy":case"cut":case"paste":f=Ex;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Pg}var m=(t&4)!==0,w=!m&&e==="scroll",v=m?p!==null?p+"Capture":null:p;m=[];for(var g=l,y;g!==null;){y=g;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,v!==null&&(S=Jo(g,v),S!=null&&m.push(sa(g,S,y)))),w)break;g=g.return}0<m.length&&(p=new f(p,h,null,n,u),d.push({event:p,listeners:m}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&n!==Lp&&(h=n.relatedTarget||n.fromElement)&&(si(h)||h[tr]))break e;if((f||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,f?(h=n.relatedTarget||n.toElement,f=l,h=h?si(h):null,h!==null&&(w=Ri(h),h!==w||h.tag!==5&&h.tag!==6)&&(h=null)):(f=null,h=l),f!==h)){if(m=Tg,S="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=Pg,S="onPointerLeave",v="onPointerEnter",g="pointer"),w=f==null?p:ss(f),y=h==null?p:ss(h),p=new m(S,g+"leave",f,n,u),p.target=w,p.relatedTarget=y,S=null,si(u)===l&&(m=new m(v,g+"enter",h,n,u),m.target=y,m.relatedTarget=w,S=m),w=S,f&&h)t:{for(m=f,v=h,g=0,y=m;y;y=Li(y))g++;for(y=0,S=v;S;S=Li(S))y++;for(;0<g-y;)m=Li(m),g--;for(;0<y-g;)v=Li(v),y--;for(;g--;){if(m===v||v!==null&&m===v.alternate)break t;m=Li(m),v=Li(v)}m=null}else m=null;f!==null&&Bg(d,p,f,m,!1),h!==null&&w!==null&&Bg(d,w,h,m,!0)}}e:{if(p=l?ss(l):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var R=qx;else if(Lg(p))if(tS)R=Jx;else{R=Yx;var x=Qx}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=Xx);if(R&&(R=R(e,l))){eS(d,R,n,u);break e}x&&x(e,p,l),e==="focusout"&&(x=p._wrapperState)&&x.controlled&&p.type==="number"&&Tp(p,"number",p.value)}switch(x=l?ss(l):window,e){case"focusin":(Lg(x)||x.contentEditable==="true")&&(rs=x,Fp=l,No=null);break;case"focusout":No=Fp=rs=null;break;case"mousedown":Bp=!0;break;case"contextmenu":case"mouseup":case"dragend":Bp=!1,jg(d,n,u);break;case"selectionchange":if(tT)break;case"keydown":case"keyup":jg(d,n,u)}var C;if(yh)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ns?J_(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(X_&&n.locale!=="ko"&&(ns||P!=="onCompositionStart"?P==="onCompositionEnd"&&ns&&(C=Y_()):(Cr=u,hh="value"in Cr?Cr.value:Cr.textContent,ns=!0)),x=fl(l,P),0<x.length&&(P=new Eg(P,e,null,n,u),d.push({event:P,listeners:x}),C?P.data=C:(C=Z_(n),C!==null&&(P.data=C)))),(C=zx?Hx(e,n):Wx(e,n))&&(l=fl(l,"onBeforeInput"),0<l.length&&(u=new Eg("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:l}),u.data=C))}dS(d,t)})}function sa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Jo(e,n),s!=null&&r.unshift(sa(e,s,i)),s=Jo(e,t),s!=null&&r.push(sa(e,s,i))),e=e.return}return r}function Li(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bg(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,i?(c=Jo(n,s),c!=null&&o.unshift(sa(n,c,a))):i||(c=Jo(n,s),c!=null&&o.push(sa(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var sT=/\r\n?/g,oT=/\u0000|\uFFFD/g;function $g(e){return(typeof e=="string"?e:""+e).replace(sT,`
`).replace(oT,"")}function oc(e,t,n){if(t=$g(t),$g(e)!==t&&n)throw Error(L(425))}function hl(){}var $p=null,Up=null;function Vp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zp=typeof setTimeout=="function"?setTimeout:void 0,aT=typeof clearTimeout=="function"?clearTimeout:void 0,Ug=typeof Promise=="function"?Promise:void 0,cT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ug<"u"?function(e){return Ug.resolve(null).then(e).catch(lT)}:zp;function lT(e){setTimeout(function(){throw e})}function fd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ta(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ta(t)}function Dr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qs=Math.random().toString(36).slice(2),xn="__reactFiber$"+qs,oa="__reactProps$"+qs,tr="__reactContainer$"+qs,Hp="__reactEvents$"+qs,uT="__reactListeners$"+qs,dT="__reactHandles$"+qs;function si(e){var t=e[xn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[tr]||n[xn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Vg(e);e!==null;){if(n=e[xn])return n;e=Vg(e)}return t}e=n,n=e.parentNode}return null}function Ta(e){return e=e[xn]||e[tr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ss(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Jl(e){return e[oa]||null}var Wp=[],os=-1;function Gr(e){return{current:e}}function Te(e){0>os||(e.current=Wp[os],Wp[os]=null,os--)}function be(e,t){os++,Wp[os]=e.current,e.current=t}var Vr={},ft=Gr(Vr),Ct=Gr(!1),gi=Vr;function ks(e,t){var n=e.type.contextTypes;if(!n)return Vr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function xt(e){return e=e.childContextTypes,e!=null}function ml(){Te(Ct),Te(ft)}function zg(e,t,n){if(ft.current!==Vr)throw Error(L(168));be(ft,t),be(Ct,n)}function fS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(L(108,QC(e)||"Unknown",i));return Ie({},n,r)}function gl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vr,gi=ft.current,be(ft,e),be(Ct,Ct.current),!0}function Hg(e,t,n){var r=e.stateNode;if(!r)throw Error(L(169));n?(e=fS(e,t,gi),r.__reactInternalMemoizedMergedChildContext=e,Te(Ct),Te(ft),be(ft,e)):Te(Ct),be(Ct,n)}var Hn=null,Zl=!1,hd=!1;function hS(e){Hn===null?Hn=[e]:Hn.push(e)}function pT(e){Zl=!0,hS(e)}function Kr(){if(!hd&&Hn!==null){hd=!0;var e=0,t=we;try{var n=Hn;for(we=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Hn=null,Zl=!1}catch(i){throw Hn!==null&&(Hn=Hn.slice(e+1)),B_(uh,Kr),i}finally{we=t,hd=!1}}return null}var as=[],cs=0,yl=null,vl=0,Vt=[],zt=0,yi=null,Gn=1,Kn="";function Zr(e,t){as[cs++]=vl,as[cs++]=yl,yl=e,vl=t}function mS(e,t,n){Vt[zt++]=Gn,Vt[zt++]=Kn,Vt[zt++]=yi,yi=e;var r=Gn;e=Kn;var i=32-sn(r)-1;r&=~(1<<i),n+=1;var s=32-sn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Gn=1<<32-sn(t)+i|n<<i|r,Kn=s+e}else Gn=1<<s|n<<i|r,Kn=e}function wh(e){e.return!==null&&(Zr(e,1),mS(e,1,0))}function _h(e){for(;e===yl;)yl=as[--cs],as[cs]=null,vl=as[--cs],as[cs]=null;for(;e===yi;)yi=Vt[--zt],Vt[zt]=null,Kn=Vt[--zt],Vt[zt]=null,Gn=Vt[--zt],Vt[zt]=null}var At=null,Lt=null,Pe=!1,rn=null;function gS(e,t){var n=Wt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Wg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,At=e,Lt=Dr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,At=e,Lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=yi!==null?{id:Gn,overflow:Kn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,At=e,Lt=null,!0):!1;default:return!1}}function Gp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kp(e){if(Pe){var t=Lt;if(t){var n=t;if(!Wg(e,t)){if(Gp(e))throw Error(L(418));t=Dr(n.nextSibling);var r=At;t&&Wg(e,t)?gS(r,n):(e.flags=e.flags&-4097|2,Pe=!1,At=e)}}else{if(Gp(e))throw Error(L(418));e.flags=e.flags&-4097|2,Pe=!1,At=e}}}function Gg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;At=e}function ac(e){if(e!==At)return!1;if(!Pe)return Gg(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vp(e.type,e.memoizedProps)),t&&(t=Lt)){if(Gp(e))throw yS(),Error(L(418));for(;t;)gS(e,t),t=Dr(t.nextSibling)}if(Gg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Lt=Dr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Lt=null}}else Lt=At?Dr(e.stateNode.nextSibling):null;return!0}function yS(){for(var e=Lt;e;)e=Dr(e.nextSibling)}function Ds(){Lt=At=null,Pe=!1}function Sh(e){rn===null?rn=[e]:rn.push(e)}var fT=or.ReactCurrentBatchConfig;function en(e,t){if(e&&e.defaultProps){t=Ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var wl=Gr(null),_l=null,ls=null,bh=null;function Rh(){bh=ls=_l=null}function Ch(e){var t=wl.current;Te(wl),e._currentValue=t}function qp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Rs(e,t){_l=e,bh=ls=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bt=!0),e.firstContext=null)}function qt(e){var t=e._currentValue;if(bh!==e)if(e={context:e,memoizedValue:t,next:null},ls===null){if(_l===null)throw Error(L(308));ls=e,_l.dependencies={lanes:0,firstContext:e}}else ls=ls.next=e;return t}var oi=null;function xh(e){oi===null?oi=[e]:oi.push(e)}function vS(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,xh(t)):(n.next=i.next,i.next=n),t.interleaved=n,nr(e,r)}function nr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wr=!1;function Th(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,nr(e,n)}return i=r.interleaved,i===null?(t.next=t,xh(r)):(t.next=i.next,i.next=t),r.interleaved=t,nr(e,n)}function Bc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dh(e,n)}}function Kg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Sl(e,t,n,r){var i=e.updateQueue;wr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?s=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(s!==null){var d=i.baseState;o=0,u=l=c=null,a=s;do{var p=a.lane,f=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,m=a;switch(p=t,f=n,m.tag){case 1:if(h=m.payload,typeof h=="function"){d=h.call(f,d,p);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=m.payload,p=typeof h=="function"?h.call(f,d,p):h,p==null)break e;d=Ie({},d,p);break e;case 2:wr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else f={eventTime:f,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=f,c=d):u=u.next=f,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);wi|=o,e.lanes=o,e.memoizedState=d}}function qg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var _S=new v_.Component().refs;function Qp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var eu={isMounted:function(e){return(e=e._reactInternals)?Ri(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=yt(),i=Or(e),s=Qn(r,i);s.payload=t,n!=null&&(s.callback=n),t=Lr(e,s,i),t!==null&&(on(t,e,i,r),Bc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=yt(),i=Or(e),s=Qn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Lr(e,s,i),t!==null&&(on(t,e,i,r),Bc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yt(),r=Or(e),i=Qn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Lr(e,i,r),t!==null&&(on(t,e,r,n),Bc(t,e,r))}};function Qg(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!ra(n,r)||!ra(i,s):!0}function SS(e,t,n){var r=!1,i=Vr,s=t.contextType;return typeof s=="object"&&s!==null?s=qt(s):(i=xt(t)?gi:ft.current,r=t.contextTypes,s=(r=r!=null)?ks(e,i):Vr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=eu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Yg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&eu.enqueueReplaceState(t,t.state,null)}function Yp(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=_S,Th(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=qt(s):(s=xt(t)?gi:ft.current,i.context=ks(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Qp(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&eu.enqueueReplaceState(i,i.state,null),Sl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function po(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===_S&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function cc(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xg(e){var t=e._init;return t(e._payload)}function bS(e){function t(v,g){if(e){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function i(v,g){return v=Mr(v,g),v.index=0,v.sibling=null,v}function s(v,g,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=2,g):y):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,g,y,S){return g===null||g.tag!==6?(g=Sd(y,v.mode,S),g.return=v,g):(g=i(g,y),g.return=v,g)}function c(v,g,y,S){var R=y.type;return R===ts?u(v,g,y.props.children,S,y.key):g!==null&&(g.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===vr&&Xg(R)===g.type)?(S=i(g,y.props),S.ref=po(v,g,y),S.return=v,S):(S=Wc(y.type,y.key,y.props,null,v.mode,S),S.ref=po(v,g,y),S.return=v,S)}function l(v,g,y,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=bd(y,v.mode,S),g.return=v,g):(g=i(g,y.children||[]),g.return=v,g)}function u(v,g,y,S,R){return g===null||g.tag!==7?(g=pi(y,v.mode,S,R),g.return=v,g):(g=i(g,y),g.return=v,g)}function d(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Sd(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Xa:return y=Wc(g.type,g.key,g.props,null,v.mode,y),y.ref=po(v,null,g),y.return=v,y;case es:return g=bd(g,v.mode,y),g.return=v,g;case vr:var S=g._init;return d(v,S(g._payload),y)}if(xo(g)||oo(g))return g=pi(g,v.mode,y,null),g.return=v,g;cc(v,g)}return null}function p(v,g,y,S){var R=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return R!==null?null:a(v,g,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xa:return y.key===R?c(v,g,y,S):null;case es:return y.key===R?l(v,g,y,S):null;case vr:return R=y._init,p(v,g,R(y._payload),S)}if(xo(y)||oo(y))return R!==null?null:u(v,g,y,S,null);cc(v,y)}return null}function f(v,g,y,S,R){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(y)||null,a(g,v,""+S,R);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Xa:return v=v.get(S.key===null?y:S.key)||null,c(g,v,S,R);case es:return v=v.get(S.key===null?y:S.key)||null,l(g,v,S,R);case vr:var x=S._init;return f(v,g,y,x(S._payload),R)}if(xo(S)||oo(S))return v=v.get(y)||null,u(g,v,S,R,null);cc(g,S)}return null}function h(v,g,y,S){for(var R=null,x=null,C=g,P=g=0,M=null;C!==null&&P<y.length;P++){C.index>P?(M=C,C=null):M=C.sibling;var I=p(v,C,y[P],S);if(I===null){C===null&&(C=M);break}e&&C&&I.alternate===null&&t(v,C),g=s(I,g,P),x===null?R=I:x.sibling=I,x=I,C=M}if(P===y.length)return n(v,C),Pe&&Zr(v,P),R;if(C===null){for(;P<y.length;P++)C=d(v,y[P],S),C!==null&&(g=s(C,g,P),x===null?R=C:x.sibling=C,x=C);return Pe&&Zr(v,P),R}for(C=r(v,C);P<y.length;P++)M=f(C,v,P,y[P],S),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?P:M.key),g=s(M,g,P),x===null?R=M:x.sibling=M,x=M);return e&&C.forEach(function(W){return t(v,W)}),Pe&&Zr(v,P),R}function m(v,g,y,S){var R=oo(y);if(typeof R!="function")throw Error(L(150));if(y=R.call(y),y==null)throw Error(L(151));for(var x=R=null,C=g,P=g=0,M=null,I=y.next();C!==null&&!I.done;P++,I=y.next()){C.index>P?(M=C,C=null):M=C.sibling;var W=p(v,C,I.value,S);if(W===null){C===null&&(C=M);break}e&&C&&W.alternate===null&&t(v,C),g=s(W,g,P),x===null?R=W:x.sibling=W,x=W,C=M}if(I.done)return n(v,C),Pe&&Zr(v,P),R;if(C===null){for(;!I.done;P++,I=y.next())I=d(v,I.value,S),I!==null&&(g=s(I,g,P),x===null?R=I:x.sibling=I,x=I);return Pe&&Zr(v,P),R}for(C=r(v,C);!I.done;P++,I=y.next())I=f(C,v,P,I.value,S),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?P:I.key),g=s(I,g,P),x===null?R=I:x.sibling=I,x=I);return e&&C.forEach(function(Q){return t(v,Q)}),Pe&&Zr(v,P),R}function w(v,g,y,S){if(typeof y=="object"&&y!==null&&y.type===ts&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Xa:e:{for(var R=y.key,x=g;x!==null;){if(x.key===R){if(R=y.type,R===ts){if(x.tag===7){n(v,x.sibling),g=i(x,y.props.children),g.return=v,v=g;break e}}else if(x.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===vr&&Xg(R)===x.type){n(v,x.sibling),g=i(x,y.props),g.ref=po(v,x,y),g.return=v,v=g;break e}n(v,x);break}else t(v,x);x=x.sibling}y.type===ts?(g=pi(y.props.children,v.mode,S,y.key),g.return=v,v=g):(S=Wc(y.type,y.key,y.props,null,v.mode,S),S.ref=po(v,g,y),S.return=v,v=S)}return o(v);case es:e:{for(x=y.key;g!==null;){if(g.key===x)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(v,g.sibling),g=i(g,y.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else t(v,g);g=g.sibling}g=bd(y,v.mode,S),g.return=v,v=g}return o(v);case vr:return x=y._init,w(v,g,x(y._payload),S)}if(xo(y))return h(v,g,y,S);if(oo(y))return m(v,g,y,S);cc(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(v,g.sibling),g=i(g,y),g.return=v,v=g):(n(v,g),g=Sd(y,v.mode,S),g.return=v,v=g),o(v)):n(v,g)}return w}var Ls=bS(!0),RS=bS(!1),Ea={},Dn=Gr(Ea),aa=Gr(Ea),ca=Gr(Ea);function ai(e){if(e===Ea)throw Error(L(174));return e}function Eh(e,t){switch(be(ca,t),be(aa,e),be(Dn,Ea),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pp(t,e)}Te(Dn),be(Dn,t)}function As(){Te(Dn),Te(aa),Te(ca)}function CS(e){ai(ca.current);var t=ai(Dn.current),n=Pp(t,e.type);t!==n&&(be(aa,e),be(Dn,n))}function Ph(e){aa.current===e&&(Te(Dn),Te(aa))}var Ae=Gr(0);function bl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var md=[];function kh(){for(var e=0;e<md.length;e++)md[e]._workInProgressVersionPrimary=null;md.length=0}var $c=or.ReactCurrentDispatcher,gd=or.ReactCurrentBatchConfig,vi=0,Me=null,Xe=null,rt=null,Rl=!1,Fo=!1,la=0,hT=0;function lt(){throw Error(L(321))}function Dh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cn(e[n],t[n]))return!1;return!0}function Lh(e,t,n,r,i,s){if(vi=s,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$c.current=e===null||e.memoizedState===null?vT:wT,e=n(r,i),Fo){s=0;do{if(Fo=!1,la=0,25<=s)throw Error(L(301));s+=1,rt=Xe=null,t.updateQueue=null,$c.current=_T,e=n(r,i)}while(Fo)}if($c.current=Cl,t=Xe!==null&&Xe.next!==null,vi=0,rt=Xe=Me=null,Rl=!1,t)throw Error(L(300));return e}function Ah(){var e=la!==0;return la=0,e}function bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Me.memoizedState=rt=e:rt=rt.next=e,rt}function Qt(){if(Xe===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=rt===null?Me.memoizedState:rt.next;if(t!==null)rt=t,Xe=e;else{if(e===null)throw Error(L(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},rt===null?Me.memoizedState=rt=e:rt=rt.next=e}return rt}function ua(e,t){return typeof t=="function"?t(e):t}function yd(e){var t=Qt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=Xe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,l=s;do{var u=l.lane;if((vi&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,o=r):c=c.next=d,Me.lanes|=u,wi|=u}l=l.next}while(l!==null&&l!==s);c===null?o=r:c.next=a,cn(r,t.memoizedState)||(bt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Me.lanes|=s,wi|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vd(e){var t=Qt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);cn(s,t.memoizedState)||(bt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function xS(){}function TS(e,t){var n=Me,r=Qt(),i=t(),s=!cn(r.memoizedState,i);if(s&&(r.memoizedState=i,bt=!0),r=r.queue,Oh(kS.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,da(9,PS.bind(null,n,r,i,t),void 0,null),st===null)throw Error(L(349));vi&30||ES(n,t,i)}return i}function ES(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function PS(e,t,n,r){t.value=n,t.getSnapshot=r,DS(t)&&LS(e)}function kS(e,t,n){return n(function(){DS(t)&&LS(e)})}function DS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cn(e,n)}catch{return!0}}function LS(e){var t=nr(e,1);t!==null&&on(t,e,1,-1)}function Jg(e){var t=bn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:e},t.queue=e,e=e.dispatch=yT.bind(null,Me,e),[t.memoizedState,e]}function da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function AS(){return Qt().memoizedState}function Uc(e,t,n,r){var i=bn();Me.flags|=e,i.memoizedState=da(1|t,n,void 0,r===void 0?null:r)}function tu(e,t,n,r){var i=Qt();r=r===void 0?null:r;var s=void 0;if(Xe!==null){var o=Xe.memoizedState;if(s=o.destroy,r!==null&&Dh(r,o.deps)){i.memoizedState=da(t,n,s,r);return}}Me.flags|=e,i.memoizedState=da(1|t,n,s,r)}function Zg(e,t){return Uc(8390656,8,e,t)}function Oh(e,t){return tu(2048,8,e,t)}function OS(e,t){return tu(4,2,e,t)}function MS(e,t){return tu(4,4,e,t)}function IS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jS(e,t,n){return n=n!=null?n.concat([e]):null,tu(4,4,IS.bind(null,t,e),n)}function Mh(){}function NS(e,t){var n=Qt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function FS(e,t){var n=Qt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function BS(e,t,n){return vi&21?(cn(n,t)||(n=V_(),Me.lanes|=n,wi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bt=!0),e.memoizedState=n)}function mT(e,t){var n=we;we=n!==0&&4>n?n:4,e(!0);var r=gd.transition;gd.transition={};try{e(!1),t()}finally{we=n,gd.transition=r}}function $S(){return Qt().memoizedState}function gT(e,t,n){var r=Or(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},US(e))VS(t,n);else if(n=vS(e,t,n,r),n!==null){var i=yt();on(n,e,r,i),zS(n,t,r)}}function yT(e,t,n){var r=Or(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(US(e))VS(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,cn(a,o)){var c=t.interleaved;c===null?(i.next=i,xh(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=vS(e,t,i,r),n!==null&&(i=yt(),on(n,e,r,i),zS(n,t,r))}}function US(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function VS(e,t){Fo=Rl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dh(e,n)}}var Cl={readContext:qt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},vT={readContext:qt,useCallback:function(e,t){return bn().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:Zg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Uc(4194308,4,IS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uc(4,2,e,t)},useMemo:function(e,t){var n=bn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=gT.bind(null,Me,e),[r.memoizedState,e]},useRef:function(e){var t=bn();return e={current:e},t.memoizedState=e},useState:Jg,useDebugValue:Mh,useDeferredValue:function(e){return bn().memoizedState=e},useTransition:function(){var e=Jg(!1),t=e[0];return e=mT.bind(null,e[1]),bn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Me,i=bn();if(Pe){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),st===null)throw Error(L(349));vi&30||ES(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Zg(kS.bind(null,r,s,e),[e]),r.flags|=2048,da(9,PS.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=bn(),t=st.identifierPrefix;if(Pe){var n=Kn,r=Gn;n=(r&~(1<<32-sn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=la++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=hT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wT={readContext:qt,useCallback:NS,useContext:qt,useEffect:Oh,useImperativeHandle:jS,useInsertionEffect:OS,useLayoutEffect:MS,useMemo:FS,useReducer:yd,useRef:AS,useState:function(){return yd(ua)},useDebugValue:Mh,useDeferredValue:function(e){var t=Qt();return BS(t,Xe.memoizedState,e)},useTransition:function(){var e=yd(ua)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:xS,useSyncExternalStore:TS,useId:$S,unstable_isNewReconciler:!1},_T={readContext:qt,useCallback:NS,useContext:qt,useEffect:Oh,useImperativeHandle:jS,useInsertionEffect:OS,useLayoutEffect:MS,useMemo:FS,useReducer:vd,useRef:AS,useState:function(){return vd(ua)},useDebugValue:Mh,useDeferredValue:function(e){var t=Qt();return Xe===null?t.memoizedState=e:BS(t,Xe.memoizedState,e)},useTransition:function(){var e=vd(ua)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:xS,useSyncExternalStore:TS,useId:$S,unstable_isNewReconciler:!1};function Os(e,t){try{var n="",r=t;do n+=qC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function wd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Xp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ST=typeof WeakMap=="function"?WeakMap:Map;function HS(e,t,n){n=Qn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Tl||(Tl=!0,cf=r),Xp(e,t)},n}function WS(e,t,n){n=Qn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Xp(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Xp(e,t),typeof r!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function ey(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ST;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=IT.bind(null,e,t,n),t.then(e,e))}function ty(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ny(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qn(-1,1),t.tag=2,Lr(n,t,1))),n.lanes|=1),e)}var bT=or.ReactCurrentOwner,bt=!1;function gt(e,t,n,r){t.child=e===null?RS(t,null,n,r):Ls(t,e.child,n,r)}function ry(e,t,n,r,i){n=n.render;var s=t.ref;return Rs(t,i),r=Lh(e,t,n,r,s,i),n=Ah(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,rr(e,t,i)):(Pe&&n&&wh(t),t.flags|=1,gt(e,t,r,i),t.child)}function iy(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Vh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,GS(e,t,s,r,i)):(e=Wc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ra,n(o,r)&&e.ref===t.ref)return rr(e,t,i)}return t.flags|=1,e=Mr(s,r),e.ref=t.ref,e.return=t,t.child=e}function GS(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ra(s,r)&&e.ref===t.ref)if(bt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(bt=!0);else return t.lanes=e.lanes,rr(e,t,i)}return Jp(e,t,n,r,i)}function KS(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(ds,Dt),Dt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,be(ds,Dt),Dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,be(ds,Dt),Dt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,be(ds,Dt),Dt|=r;return gt(e,t,i,n),t.child}function qS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Jp(e,t,n,r,i){var s=xt(n)?gi:ft.current;return s=ks(t,s),Rs(t,i),n=Lh(e,t,n,r,s,i),r=Ah(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,rr(e,t,i)):(Pe&&r&&wh(t),t.flags|=1,gt(e,t,n,i),t.child)}function sy(e,t,n,r,i){if(xt(n)){var s=!0;gl(t)}else s=!1;if(Rs(t,i),t.stateNode===null)Vc(e,t),SS(t,n,r),Yp(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=qt(l):(l=xt(n)?gi:ft.current,l=ks(t,l));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==l)&&Yg(t,o,r,l),wr=!1;var p=t.memoizedState;o.state=p,Sl(t,r,o,i),c=t.memoizedState,a!==r||p!==c||Ct.current||wr?(typeof u=="function"&&(Qp(t,n,u,r),c=t.memoizedState),(a=wr||Qg(t,n,a,r,p,c,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,wS(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:en(t.type,a),o.props=l,d=t.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=qt(c):(c=xt(n)?gi:ft.current,c=ks(t,c));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==c)&&Yg(t,o,r,c),wr=!1,p=t.memoizedState,o.state=p,Sl(t,r,o,i);var h=t.memoizedState;a!==d||p!==h||Ct.current||wr?(typeof f=="function"&&(Qp(t,n,f,r),h=t.memoizedState),(l=wr||Qg(t,n,l,r,p,h,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=c,r=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Zp(e,t,n,r,s,i)}function Zp(e,t,n,r,i,s){qS(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Hg(t,n,!1),rr(e,t,s);r=t.stateNode,bT.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ls(t,e.child,null,s),t.child=Ls(t,null,a,s)):gt(e,t,a,s),t.memoizedState=r.state,i&&Hg(t,n,!0),t.child}function QS(e){var t=e.stateNode;t.pendingContext?zg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zg(e,t.context,!1),Eh(e,t.containerInfo)}function oy(e,t,n,r,i){return Ds(),Sh(i),t.flags|=256,gt(e,t,n,r),t.child}var ef={dehydrated:null,treeContext:null,retryLane:0};function tf(e){return{baseLanes:e,cachePool:null,transitions:null}}function YS(e,t,n){var r=t.pendingProps,i=Ae.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),be(Ae,i&1),e===null)return Kp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=iu(o,r,0,null),e=pi(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=tf(n),t.memoizedState=ef,e):Ih(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return RT(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Mr(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Mr(a,s):(s=pi(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?tf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=ef,r}return s=e.child,e=s.sibling,r=Mr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ih(e,t){return t=iu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function lc(e,t,n,r){return r!==null&&Sh(r),Ls(t,e.child,null,n),e=Ih(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function RT(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=wd(Error(L(422))),lc(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=iu({mode:"visible",children:r.children},i,0,null),s=pi(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ls(t,e.child,null,o),t.child.memoizedState=tf(o),t.memoizedState=ef,s);if(!(t.mode&1))return lc(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(L(419)),r=wd(s,r,void 0),lc(e,t,o,r)}if(a=(o&e.childLanes)!==0,bt||a){if(r=st,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,nr(e,i),on(r,e,i,-1))}return Uh(),r=wd(Error(L(421))),lc(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=jT.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Lt=Dr(i.nextSibling),At=t,Pe=!0,rn=null,e!==null&&(Vt[zt++]=Gn,Vt[zt++]=Kn,Vt[zt++]=yi,Gn=e.id,Kn=e.overflow,yi=t),t=Ih(t,r.children),t.flags|=4096,t)}function ay(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qp(e.return,t,n)}function _d(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function XS(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(gt(e,t,r.children,n),r=Ae.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ay(e,n,t);else if(e.tag===19)ay(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(be(Ae,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&bl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),_d(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&bl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}_d(t,!0,n,null,s);break;case"together":_d(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Mr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function CT(e,t,n){switch(t.tag){case 3:QS(t),Ds();break;case 5:CS(t);break;case 1:xt(t.type)&&gl(t);break;case 4:Eh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;be(wl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(be(Ae,Ae.current&1),t.flags|=128,null):n&t.child.childLanes?YS(e,t,n):(be(Ae,Ae.current&1),e=rr(e,t,n),e!==null?e.sibling:null);be(Ae,Ae.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return XS(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),be(Ae,Ae.current),r)break;return null;case 22:case 23:return t.lanes=0,KS(e,t,n)}return rr(e,t,n)}var JS,nf,ZS,e0;JS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nf=function(){};ZS=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ai(Dn.current);var s=null;switch(n){case"input":i=Cp(e,i),r=Cp(e,r),s=[];break;case"select":i=Ie({},i,{value:void 0}),r=Ie({},r,{value:void 0}),s=[];break;case"textarea":i=Ep(e,i),r=Ep(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=hl)}kp(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Yo.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var c=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Yo.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Ce("scroll",e),s||a===c||(s=[])):(s=s||[]).push(l,c))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};e0=function(e,t,n,r){n!==r&&(t.flags|=4)};function fo(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function xT(e,t,n){var r=t.pendingProps;switch(_h(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(t),null;case 1:return xt(t.type)&&ml(),ut(t),null;case 3:return r=t.stateNode,As(),Te(Ct),Te(ft),kh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ac(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rn!==null&&(df(rn),rn=null))),nf(e,t),ut(t),null;case 5:Ph(t);var i=ai(ca.current);if(n=t.type,e!==null&&t.stateNode!=null)ZS(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return ut(t),null}if(e=ai(Dn.current),ac(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[xn]=t,r[oa]=s,e=(t.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(i=0;i<Eo.length;i++)Ce(Eo[i],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":gg(r,s),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ce("invalid",r);break;case"textarea":vg(r,s),Ce("invalid",r)}kp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&oc(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&oc(r.textContent,a,e),i=["children",""+a]):Yo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ce("scroll",r)}switch(n){case"input":Ja(r),yg(r,s,!0);break;case"textarea":Ja(r),wg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=hl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=E_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[xn]=t,e[oa]=r,JS(e,t,!1,!1),t.stateNode=e;e:{switch(o=Dp(n,r),n){case"dialog":Ce("cancel",e),Ce("close",e),i=r;break;case"iframe":case"object":case"embed":Ce("load",e),i=r;break;case"video":case"audio":for(i=0;i<Eo.length;i++)Ce(Eo[i],e);i=r;break;case"source":Ce("error",e),i=r;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),i=r;break;case"details":Ce("toggle",e),i=r;break;case"input":gg(e,r),i=Cp(e,r),Ce("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ie({},r,{value:void 0}),Ce("invalid",e);break;case"textarea":vg(e,r),i=Ep(e,r),Ce("invalid",e);break;default:i=r}kp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?D_(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&P_(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Xo(e,c):typeof c=="number"&&Xo(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Yo.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ce("scroll",e):c!=null&&sh(e,s,c,o))}switch(n){case"input":Ja(e),yg(e,r,!1);break;case"textarea":Ja(e),wg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ur(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ws(e,!!r.multiple,s,!1):r.defaultValue!=null&&ws(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=hl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ut(t),null;case 6:if(e&&t.stateNode!=null)e0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(n=ai(ca.current),ai(Dn.current),ac(t)){if(r=t.stateNode,n=t.memoizedProps,r[xn]=t,(s=r.nodeValue!==n)&&(e=At,e!==null))switch(e.tag){case 3:oc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oc(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xn]=t,t.stateNode=r}return ut(t),null;case 13:if(Te(Ae),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&Lt!==null&&t.mode&1&&!(t.flags&128))yS(),Ds(),t.flags|=98560,s=!1;else if(s=ac(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(L(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[xn]=t}else Ds(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ut(t),s=!1}else rn!==null&&(df(rn),rn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ae.current&1?Je===0&&(Je=3):Uh())),t.updateQueue!==null&&(t.flags|=4),ut(t),null);case 4:return As(),nf(e,t),e===null&&ia(t.stateNode.containerInfo),ut(t),null;case 10:return Ch(t.type._context),ut(t),null;case 17:return xt(t.type)&&ml(),ut(t),null;case 19:if(Te(Ae),s=t.memoizedState,s===null)return ut(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)fo(s,!1);else{if(Je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=bl(e),o!==null){for(t.flags|=128,fo(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return be(Ae,Ae.current&1|2),t.child}e=e.sibling}s.tail!==null&&$e()>Ms&&(t.flags|=128,r=!0,fo(s,!1),t.lanes=4194304)}else{if(!r)if(e=bl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pe)return ut(t),null}else 2*$e()-s.renderingStartTime>Ms&&n!==1073741824&&(t.flags|=128,r=!0,fo(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$e(),t.sibling=null,n=Ae.current,be(Ae,r?n&1|2:n&1),t):(ut(t),null);case 22:case 23:return $h(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Dt&1073741824&&(ut(t),t.subtreeFlags&6&&(t.flags|=8192)):ut(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function TT(e,t){switch(_h(t),t.tag){case 1:return xt(t.type)&&ml(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return As(),Te(Ct),Te(ft),kh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ph(t),null;case 13:if(Te(Ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Ds()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(Ae),null;case 4:return As(),null;case 10:return Ch(t.type._context),null;case 22:case 23:return $h(),null;case 24:return null;default:return null}}var uc=!1,pt=!1,ET=typeof WeakSet=="function"?WeakSet:Set,N=null;function us(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(e,t,r)}else n.current=null}function rf(e,t,n){try{n()}catch(r){je(e,t,r)}}var cy=!1;function PT(e,t){if($p=dl,e=iS(),vh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,l=0,u=0,d=e,p=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++l===i&&(a=o),p===s&&++u===r&&(c=o),(f=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=f}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Up={focusedElem:e,selectionRange:n},dl=!1,N=t;N!==null;)if(t=N,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,N=e;else for(;N!==null;){t=N;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var m=h.memoizedProps,w=h.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:en(t.type,m),w);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(S){je(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,N=e;break}N=t.return}return h=cy,cy=!1,h}function Bo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&rf(t,n,s)}i=i.next}while(i!==r)}}function nu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function t0(e){var t=e.alternate;t!==null&&(e.alternate=null,t0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xn],delete t[oa],delete t[Hp],delete t[uT],delete t[dT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function n0(e){return e.tag===5||e.tag===3||e.tag===4}function ly(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||n0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function of(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hl));else if(r!==4&&(e=e.child,e!==null))for(of(e,t,n),e=e.sibling;e!==null;)of(e,t,n),e=e.sibling}function af(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(af(e,t,n),e=e.sibling;e!==null;)af(e,t,n),e=e.sibling}var ot=null,tn=!1;function ur(e,t,n){for(n=n.child;n!==null;)r0(e,t,n),n=n.sibling}function r0(e,t,n){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(ql,n)}catch{}switch(n.tag){case 5:pt||us(n,t);case 6:var r=ot,i=tn;ot=null,ur(e,t,n),ot=r,tn=i,ot!==null&&(tn?(e=ot,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(tn?(e=ot,n=n.stateNode,e.nodeType===8?fd(e.parentNode,n):e.nodeType===1&&fd(e,n),ta(e)):fd(ot,n.stateNode));break;case 4:r=ot,i=tn,ot=n.stateNode.containerInfo,tn=!0,ur(e,t,n),ot=r,tn=i;break;case 0:case 11:case 14:case 15:if(!pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&rf(n,t,o),i=i.next}while(i!==r)}ur(e,t,n);break;case 1:if(!pt&&(us(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){je(n,t,a)}ur(e,t,n);break;case 21:ur(e,t,n);break;case 22:n.mode&1?(pt=(r=pt)||n.memoizedState!==null,ur(e,t,n),pt=r):ur(e,t,n);break;default:ur(e,t,n)}}function uy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ET),t.forEach(function(r){var i=NT.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Zt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ot=a.stateNode,tn=!1;break e;case 3:ot=a.stateNode.containerInfo,tn=!0;break e;case 4:ot=a.stateNode.containerInfo,tn=!0;break e}a=a.return}if(ot===null)throw Error(L(160));r0(s,o,i),ot=null,tn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(l){je(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)i0(t,e),t=t.sibling}function i0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zt(t,e),pn(e),r&4){try{Bo(3,e,e.return),nu(3,e)}catch(m){je(e,e.return,m)}try{Bo(5,e,e.return)}catch(m){je(e,e.return,m)}}break;case 1:Zt(t,e),pn(e),r&512&&n!==null&&us(n,n.return);break;case 5:if(Zt(t,e),pn(e),r&512&&n!==null&&us(n,n.return),e.flags&32){var i=e.stateNode;try{Xo(i,"")}catch(m){je(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&x_(i,s),Dp(a,o);var l=Dp(a,s);for(o=0;o<c.length;o+=2){var u=c[o],d=c[o+1];u==="style"?D_(i,d):u==="dangerouslySetInnerHTML"?P_(i,d):u==="children"?Xo(i,d):sh(i,u,d,l)}switch(a){case"input":xp(i,s);break;case"textarea":T_(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ws(i,!!s.multiple,f,!1):p!==!!s.multiple&&(s.defaultValue!=null?ws(i,!!s.multiple,s.defaultValue,!0):ws(i,!!s.multiple,s.multiple?[]:"",!1))}i[oa]=s}catch(m){je(e,e.return,m)}}break;case 6:if(Zt(t,e),pn(e),r&4){if(e.stateNode===null)throw Error(L(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){je(e,e.return,m)}}break;case 3:if(Zt(t,e),pn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ta(t.containerInfo)}catch(m){je(e,e.return,m)}break;case 4:Zt(t,e),pn(e);break;case 13:Zt(t,e),pn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fh=$e())),r&4&&uy(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(pt=(l=pt)||u,Zt(t,e),pt=l):Zt(t,e),pn(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!u&&e.mode&1)for(N=e,u=e.child;u!==null;){for(d=N=u;N!==null;){switch(p=N,f=p.child,p.tag){case 0:case 11:case 14:case 15:Bo(4,p,p.return);break;case 1:us(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(m){je(r,n,m)}}break;case 5:us(p,p.return);break;case 22:if(p.memoizedState!==null){py(d);continue}}f!==null?(f.return=p,N=f):py(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=k_("display",o))}catch(m){je(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){je(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Zt(t,e),pn(e),r&4&&uy(e);break;case 21:break;default:Zt(t,e),pn(e)}}function pn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(n0(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xo(i,""),r.flags&=-33);var s=ly(e);af(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ly(e);of(e,a,o);break;default:throw Error(L(161))}}catch(c){je(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kT(e,t,n){N=e,s0(e)}function s0(e,t,n){for(var r=(e.mode&1)!==0;N!==null;){var i=N,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||uc;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||pt;a=uc;var l=pt;if(uc=o,(pt=c)&&!l)for(N=i;N!==null;)o=N,c=o.child,o.tag===22&&o.memoizedState!==null?fy(i):c!==null?(c.return=o,N=c):fy(i);for(;s!==null;)N=s,s0(s),s=s.sibling;N=i,uc=a,pt=l}dy(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,N=s):dy(e)}}function dy(e){for(;N!==null;){var t=N;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pt||nu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&qg(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}qg(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&ta(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}pt||t.flags&512&&sf(t)}catch(p){je(t,t.return,p)}}if(t===e){N=null;break}if(n=t.sibling,n!==null){n.return=t.return,N=n;break}N=t.return}}function py(e){for(;N!==null;){var t=N;if(t===e){N=null;break}var n=t.sibling;if(n!==null){n.return=t.return,N=n;break}N=t.return}}function fy(e){for(;N!==null;){var t=N;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nu(4,t)}catch(c){je(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){je(t,i,c)}}var s=t.return;try{sf(t)}catch(c){je(t,s,c)}break;case 5:var o=t.return;try{sf(t)}catch(c){je(t,o,c)}}}catch(c){je(t,t.return,c)}if(t===e){N=null;break}var a=t.sibling;if(a!==null){a.return=t.return,N=a;break}N=t.return}}var DT=Math.ceil,xl=or.ReactCurrentDispatcher,jh=or.ReactCurrentOwner,Gt=or.ReactCurrentBatchConfig,ce=0,st=null,Ke=null,at=0,Dt=0,ds=Gr(0),Je=0,pa=null,wi=0,ru=0,Nh=0,$o=null,St=null,Fh=0,Ms=1/0,Vn=null,Tl=!1,cf=null,Ar=null,dc=!1,xr=null,El=0,Uo=0,lf=null,zc=-1,Hc=0;function yt(){return ce&6?$e():zc!==-1?zc:zc=$e()}function Or(e){return e.mode&1?ce&2&&at!==0?at&-at:fT.transition!==null?(Hc===0&&(Hc=V_()),Hc):(e=we,e!==0||(e=window.event,e=e===void 0?16:Q_(e.type)),e):1}function on(e,t,n,r){if(50<Uo)throw Uo=0,lf=null,Error(L(185));Ca(e,n,r),(!(ce&2)||e!==st)&&(e===st&&(!(ce&2)&&(ru|=n),Je===4&&Rr(e,at)),Tt(e,r),n===1&&ce===0&&!(t.mode&1)&&(Ms=$e()+500,Zl&&Kr()))}function Tt(e,t){var n=e.callbackNode;fx(e,t);var r=ul(e,e===st?at:0);if(r===0)n!==null&&bg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&bg(n),t===1)e.tag===0?pT(hy.bind(null,e)):hS(hy.bind(null,e)),cT(function(){!(ce&6)&&Kr()}),n=null;else{switch(z_(r)){case 1:n=uh;break;case 4:n=$_;break;case 16:n=ll;break;case 536870912:n=U_;break;default:n=ll}n=f0(n,o0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function o0(e,t){if(zc=-1,Hc=0,ce&6)throw Error(L(327));var n=e.callbackNode;if(Cs()&&e.callbackNode!==n)return null;var r=ul(e,e===st?at:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Pl(e,r);else{t=r;var i=ce;ce|=2;var s=c0();(st!==e||at!==t)&&(Vn=null,Ms=$e()+500,di(e,t));do try{OT();break}catch(a){a0(e,a)}while(1);Rh(),xl.current=s,ce=i,Ke!==null?t=0:(st=null,at=0,t=Je)}if(t!==0){if(t===2&&(i=Ip(e),i!==0&&(r=i,t=uf(e,i))),t===1)throw n=pa,di(e,0),Rr(e,r),Tt(e,$e()),n;if(t===6)Rr(e,r);else{if(i=e.current.alternate,!(r&30)&&!LT(i)&&(t=Pl(e,r),t===2&&(s=Ip(e),s!==0&&(r=s,t=uf(e,s))),t===1))throw n=pa,di(e,0),Rr(e,r),Tt(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:ei(e,St,Vn);break;case 3:if(Rr(e,r),(r&130023424)===r&&(t=Fh+500-$e(),10<t)){if(ul(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){yt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zp(ei.bind(null,e,St,Vn),t);break}ei(e,St,Vn);break;case 4:if(Rr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-sn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=$e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DT(r/1960))-r,10<r){e.timeoutHandle=zp(ei.bind(null,e,St,Vn),r);break}ei(e,St,Vn);break;case 5:ei(e,St,Vn);break;default:throw Error(L(329))}}}return Tt(e,$e()),e.callbackNode===n?o0.bind(null,e):null}function uf(e,t){var n=$o;return e.current.memoizedState.isDehydrated&&(di(e,t).flags|=256),e=Pl(e,t),e!==2&&(t=St,St=n,t!==null&&df(t)),e}function df(e){St===null?St=e:St.push.apply(St,e)}function LT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!cn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rr(e,t){for(t&=~Nh,t&=~ru,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-sn(t),r=1<<n;e[n]=-1,t&=~r}}function hy(e){if(ce&6)throw Error(L(327));Cs();var t=ul(e,0);if(!(t&1))return Tt(e,$e()),null;var n=Pl(e,t);if(e.tag!==0&&n===2){var r=Ip(e);r!==0&&(t=r,n=uf(e,r))}if(n===1)throw n=pa,di(e,0),Rr(e,t),Tt(e,$e()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ei(e,St,Vn),Tt(e,$e()),null}function Bh(e,t){var n=ce;ce|=1;try{return e(t)}finally{ce=n,ce===0&&(Ms=$e()+500,Zl&&Kr())}}function _i(e){xr!==null&&xr.tag===0&&!(ce&6)&&Cs();var t=ce;ce|=1;var n=Gt.transition,r=we;try{if(Gt.transition=null,we=1,e)return e()}finally{we=r,Gt.transition=n,ce=t,!(ce&6)&&Kr()}}function $h(){Dt=ds.current,Te(ds)}function di(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,aT(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(_h(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ml();break;case 3:As(),Te(Ct),Te(ft),kh();break;case 5:Ph(r);break;case 4:As();break;case 13:Te(Ae);break;case 19:Te(Ae);break;case 10:Ch(r.type._context);break;case 22:case 23:$h()}n=n.return}if(st=e,Ke=e=Mr(e.current,null),at=Dt=t,Je=0,pa=null,Nh=ru=wi=0,St=$o=null,oi!==null){for(t=0;t<oi.length;t++)if(n=oi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}oi=null}return e}function a0(e,t){do{var n=Ke;try{if(Rh(),$c.current=Cl,Rl){for(var r=Me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rl=!1}if(vi=0,rt=Xe=Me=null,Fo=!1,la=0,jh.current=null,n===null||n.return===null){Je=1,pa=t,Ke=null;break}e:{var s=e,o=n.return,a=n,c=t;if(t=at,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=ty(o);if(f!==null){f.flags&=-257,ny(f,o,a,s,t),f.mode&1&&ey(s,l,t),t=f,c=l;var h=t.updateQueue;if(h===null){var m=new Set;m.add(c),t.updateQueue=m}else h.add(c);break e}else{if(!(t&1)){ey(s,l,t),Uh();break e}c=Error(L(426))}}else if(Pe&&a.mode&1){var w=ty(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ny(w,o,a,s,t),Sh(Os(c,a));break e}}s=c=Os(c,a),Je!==4&&(Je=2),$o===null?$o=[s]:$o.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=HS(s,c,t);Kg(s,v);break e;case 1:a=c;var g=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ar===null||!Ar.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=WS(s,a,t);Kg(s,S);break e}}s=s.return}while(s!==null)}u0(n)}catch(R){t=R,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(1)}function c0(){var e=xl.current;return xl.current=Cl,e===null?Cl:e}function Uh(){(Je===0||Je===3||Je===2)&&(Je=4),st===null||!(wi&268435455)&&!(ru&268435455)||Rr(st,at)}function Pl(e,t){var n=ce;ce|=2;var r=c0();(st!==e||at!==t)&&(Vn=null,di(e,t));do try{AT();break}catch(i){a0(e,i)}while(1);if(Rh(),ce=n,xl.current=r,Ke!==null)throw Error(L(261));return st=null,at=0,Je}function AT(){for(;Ke!==null;)l0(Ke)}function OT(){for(;Ke!==null&&!ix();)l0(Ke)}function l0(e){var t=p0(e.alternate,e,Dt);e.memoizedProps=e.pendingProps,t===null?u0(e):Ke=t,jh.current=null}function u0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=TT(n,t),n!==null){n.flags&=32767,Ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Je=6,Ke=null;return}}else if(n=xT(n,t,Dt),n!==null){Ke=n;return}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);Je===0&&(Je=5)}function ei(e,t,n){var r=we,i=Gt.transition;try{Gt.transition=null,we=1,MT(e,t,n,r)}finally{Gt.transition=i,we=r}return null}function MT(e,t,n,r){do Cs();while(xr!==null);if(ce&6)throw Error(L(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(hx(e,s),e===st&&(Ke=st=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dc||(dc=!0,f0(ll,function(){return Cs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Gt.transition,Gt.transition=null;var o=we;we=1;var a=ce;ce|=4,jh.current=null,PT(e,n),i0(n,e),eT(Up),dl=!!$p,Up=$p=null,e.current=n,kT(n),sx(),ce=a,we=o,Gt.transition=s}else e.current=n;if(dc&&(dc=!1,xr=e,El=i),s=e.pendingLanes,s===0&&(Ar=null),cx(n.stateNode),Tt(e,$e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tl)throw Tl=!1,e=cf,cf=null,e;return El&1&&e.tag!==0&&Cs(),s=e.pendingLanes,s&1?e===lf?Uo++:(Uo=0,lf=e):Uo=0,Kr(),null}function Cs(){if(xr!==null){var e=z_(El),t=Gt.transition,n=we;try{if(Gt.transition=null,we=16>e?16:e,xr===null)var r=!1;else{if(e=xr,xr=null,El=0,ce&6)throw Error(L(331));var i=ce;for(ce|=4,N=e.current;N!==null;){var s=N,o=s.child;if(N.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(N=l;N!==null;){var u=N;switch(u.tag){case 0:case 11:case 15:Bo(8,u,s)}var d=u.child;if(d!==null)d.return=u,N=d;else for(;N!==null;){u=N;var p=u.sibling,f=u.return;if(t0(u),u===l){N=null;break}if(p!==null){p.return=f,N=p;break}N=f}}}var h=s.alternate;if(h!==null){var m=h.child;if(m!==null){h.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}N=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,N=o;else e:for(;N!==null;){if(s=N,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Bo(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,N=v;break e}N=s.return}}var g=e.current;for(N=g;N!==null;){o=N;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,N=y;else e:for(o=g;N!==null;){if(a=N,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:nu(9,a)}}catch(R){je(a,a.return,R)}if(a===o){N=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,N=S;break e}N=a.return}}if(ce=i,Kr(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(ql,e)}catch{}r=!0}return r}finally{we=n,Gt.transition=t}}return!1}function my(e,t,n){t=Os(n,t),t=HS(e,t,1),e=Lr(e,t,1),t=yt(),e!==null&&(Ca(e,1,t),Tt(e,t))}function je(e,t,n){if(e.tag===3)my(e,e,n);else for(;t!==null;){if(t.tag===3){my(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ar===null||!Ar.has(r))){e=Os(n,e),e=WS(t,e,1),t=Lr(t,e,1),e=yt(),t!==null&&(Ca(t,1,e),Tt(t,e));break}}t=t.return}}function IT(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=yt(),e.pingedLanes|=e.suspendedLanes&n,st===e&&(at&n)===n&&(Je===4||Je===3&&(at&130023424)===at&&500>$e()-Fh?di(e,0):Nh|=n),Tt(e,t)}function d0(e,t){t===0&&(e.mode&1?(t=tc,tc<<=1,!(tc&130023424)&&(tc=4194304)):t=1);var n=yt();e=nr(e,t),e!==null&&(Ca(e,t,n),Tt(e,n))}function jT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),d0(e,n)}function NT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),d0(e,n)}var p0;p0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ct.current)bt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return bt=!1,CT(e,t,n);bt=!!(e.flags&131072)}else bt=!1,Pe&&t.flags&1048576&&mS(t,vl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vc(e,t),e=t.pendingProps;var i=ks(t,ft.current);Rs(t,n),i=Lh(null,t,r,e,i,n);var s=Ah();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xt(r)?(s=!0,gl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Th(t),i.updater=eu,t.stateNode=i,i._reactInternals=t,Yp(t,r,e,n),t=Zp(null,t,r,!0,s,n)):(t.tag=0,Pe&&s&&wh(t),gt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=BT(r),e=en(r,e),i){case 0:t=Jp(null,t,r,e,n);break e;case 1:t=sy(null,t,r,e,n);break e;case 11:t=ry(null,t,r,e,n);break e;case 14:t=iy(null,t,r,en(r.type,e),n);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),Jp(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),sy(e,t,r,i,n);case 3:e:{if(QS(t),e===null)throw Error(L(387));r=t.pendingProps,s=t.memoizedState,i=s.element,wS(e,t),Sl(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Os(Error(L(423)),t),t=oy(e,t,r,n,i);break e}else if(r!==i){i=Os(Error(L(424)),t),t=oy(e,t,r,n,i);break e}else for(Lt=Dr(t.stateNode.containerInfo.firstChild),At=t,Pe=!0,rn=null,n=RS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ds(),r===i){t=rr(e,t,n);break e}gt(e,t,r,n)}t=t.child}return t;case 5:return CS(t),e===null&&Kp(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Vp(r,i)?o=null:s!==null&&Vp(r,s)&&(t.flags|=32),qS(e,t),gt(e,t,o,n),t.child;case 6:return e===null&&Kp(t),null;case 13:return YS(e,t,n);case 4:return Eh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ls(t,null,r,n):gt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),ry(e,t,r,i,n);case 7:return gt(e,t,t.pendingProps,n),t.child;case 8:return gt(e,t,t.pendingProps.children,n),t.child;case 12:return gt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,be(wl,r._currentValue),r._currentValue=o,s!==null)if(cn(s.value,o)){if(s.children===i.children&&!Ct.current){t=rr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Qn(-1,n&-n),c.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),qp(s.return,n,t),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(L(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),qp(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}gt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Rs(t,n),i=qt(i),r=r(i),t.flags|=1,gt(e,t,r,n),t.child;case 14:return r=t.type,i=en(r,t.pendingProps),i=en(r.type,i),iy(e,t,r,i,n);case 15:return GS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),Vc(e,t),t.tag=1,xt(r)?(e=!0,gl(t)):e=!1,Rs(t,n),SS(t,r,i),Yp(t,r,i,n),Zp(null,t,r,!0,e,n);case 19:return XS(e,t,n);case 22:return KS(e,t,n)}throw Error(L(156,t.tag))};function f0(e,t){return B_(e,t)}function FT(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,n,r){return new FT(e,t,n,r)}function Vh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function BT(e){if(typeof e=="function")return Vh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ah)return 11;if(e===ch)return 14}return 2}function Mr(e,t){var n=e.alternate;return n===null?(n=Wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wc(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Vh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ts:return pi(n.children,i,s,t);case oh:o=8,i|=8;break;case _p:return e=Wt(12,n,t,i|2),e.elementType=_p,e.lanes=s,e;case Sp:return e=Wt(13,n,t,i),e.elementType=Sp,e.lanes=s,e;case bp:return e=Wt(19,n,t,i),e.elementType=bp,e.lanes=s,e;case b_:return iu(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case __:o=10;break e;case S_:o=9;break e;case ah:o=11;break e;case ch:o=14;break e;case vr:o=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Wt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function pi(e,t,n,r){return e=Wt(7,e,r,t),e.lanes=n,e}function iu(e,t,n,r){return e=Wt(22,e,r,t),e.elementType=b_,e.lanes=n,e.stateNode={isHidden:!1},e}function Sd(e,t,n){return e=Wt(6,e,null,t),e.lanes=n,e}function bd(e,t,n){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $T(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nd(0),this.expirationTimes=nd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zh(e,t,n,r,i,s,o,a,c){return e=new $T(e,t,n,a,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Wt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Th(s),e}function UT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:es,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function h0(e){if(!e)return Vr;e=e._reactInternals;e:{if(Ri(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(xt(n))return fS(e,n,t)}return t}function m0(e,t,n,r,i,s,o,a,c){return e=zh(n,r,!0,e,i,s,o,a,c),e.context=h0(null),n=e.current,r=yt(),i=Or(n),s=Qn(r,i),s.callback=t??null,Lr(n,s,i),e.current.lanes=i,Ca(e,i,r),Tt(e,r),e}function su(e,t,n,r){var i=t.current,s=yt(),o=Or(i);return n=h0(n),t.context===null?t.context=n:t.pendingContext=n,t=Qn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Lr(i,t,o),e!==null&&(on(e,i,o,s),Bc(e,i,o)),o}function kl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hh(e,t){gy(e,t),(e=e.alternate)&&gy(e,t)}function VT(){return null}var g0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wh(e){this._internalRoot=e}ou.prototype.render=Wh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));su(e,t,null,null)};ou.prototype.unmount=Wh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_i(function(){su(null,e,null,null)}),t[tr]=null}};function ou(e){this._internalRoot=e}ou.prototype.unstable_scheduleHydration=function(e){if(e){var t=G_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<br.length&&t!==0&&t<br[n].priority;n++);br.splice(n,0,e),n===0&&q_(e)}};function Gh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function au(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yy(){}function zT(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=kl(o);s.call(l)}}var o=m0(t,r,e,0,null,!1,!1,"",yy);return e._reactRootContainer=o,e[tr]=o.current,ia(e.nodeType===8?e.parentNode:e),_i(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=kl(c);a.call(l)}}var c=zh(e,0,!1,null,null,!1,!1,"",yy);return e._reactRootContainer=c,e[tr]=c.current,ia(e.nodeType===8?e.parentNode:e),_i(function(){su(t,c,n,r)}),c}function cu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=kl(o);a.call(c)}}su(t,o,e,i)}else o=zT(n,t,e,i,r);return kl(o)}H_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=To(t.pendingLanes);n!==0&&(dh(t,n|1),Tt(t,$e()),!(ce&6)&&(Ms=$e()+500,Kr()))}break;case 13:_i(function(){var r=nr(e,1);if(r!==null){var i=yt();on(r,e,1,i)}}),Hh(e,1)}};ph=function(e){if(e.tag===13){var t=nr(e,134217728);if(t!==null){var n=yt();on(t,e,134217728,n)}Hh(e,134217728)}};W_=function(e){if(e.tag===13){var t=Or(e),n=nr(e,t);if(n!==null){var r=yt();on(n,e,t,r)}Hh(e,t)}};G_=function(){return we};K_=function(e,t){var n=we;try{return we=e,t()}finally{we=n}};Ap=function(e,t,n){switch(t){case"input":if(xp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Jl(r);if(!i)throw Error(L(90));C_(r),xp(r,i)}}}break;case"textarea":T_(e,n);break;case"select":t=n.value,t!=null&&ws(e,!!n.multiple,t,!1)}};O_=Bh;M_=_i;var HT={usingClientEntryPoint:!1,Events:[Ta,ss,Jl,L_,A_,Bh]},ho={findFiberByHostInstance:si,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},WT={bundleType:ho.bundleType,version:ho.version,rendererPackageName:ho.rendererPackageName,rendererConfig:ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:or.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=N_(e),e===null?null:e.stateNode},findFiberByHostInstance:ho.findFiberByHostInstance||VT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{ql=pc.inject(WT),kn=pc}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HT;It.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gh(t))throw Error(L(200));return UT(e,t,null,n)};It.createRoot=function(e,t){if(!Gh(e))throw Error(L(299));var n=!1,r="",i=g0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=zh(e,1,!1,null,null,n,!1,r,i),e[tr]=t.current,ia(e.nodeType===8?e.parentNode:e),new Wh(t)};It.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=N_(t),e=e===null?null:e.stateNode,e};It.flushSync=function(e){return _i(e)};It.hydrate=function(e,t,n){if(!au(t))throw Error(L(200));return cu(null,e,t,!0,n)};It.hydrateRoot=function(e,t,n){if(!Gh(e))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=g0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=m0(t,null,e,1,n??null,i,!1,s,o),e[tr]=t.current,ia(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ou(t)};It.render=function(e,t,n){if(!au(t))throw Error(L(200));return cu(null,e,t,!1,n)};It.unmountComponentAtNode=function(e){if(!au(e))throw Error(L(40));return e._reactRootContainer?(_i(function(){cu(null,null,e,!1,function(){e._reactRootContainer=null,e[tr]=null})}),!0):!1};It.unstable_batchedUpdates=Bh;It.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!au(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return cu(e,t,n,!1,r)};It.version="18.2.0-next-9e3b772b8-20220608";function y0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y0)}catch(e){console.error(e)}}y0(),m_.exports=It;var v0=m_.exports;const ps=ba(v0);var vy=v0;vp.createRoot=vy.createRoot,vp.hydrateRoot=vy.hydrateRoot;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fa(){return fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fa.apply(this,arguments)}var Tr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Tr||(Tr={}));const wy="popstate";function GT(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return pf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Dl(i)}return qT(t,n,null,e)}function Ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function KT(){return Math.random().toString(36).substr(2,8)}function _y(e,t){return{usr:e.state,key:e.key,idx:t}}function pf(e,t,n,r){return n===void 0&&(n=null),fa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Qs(t):t,{state:n,key:t&&t.key||r||KT()})}function Dl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Qs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function qT(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Tr.Pop,c=null,l=u();l==null&&(l=0,o.replaceState(fa({},o.state,{idx:l}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Tr.Pop;let w=u(),v=w==null?null:w-l;l=w,c&&c({action:a,location:m.location,delta:v})}function p(w,v){a=Tr.Push;let g=pf(m.location,w,v);n&&n(g,w),l=u()+1;let y=_y(g,l),S=m.createHref(g);try{o.pushState(y,"",S)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(S)}s&&c&&c({action:a,location:m.location,delta:1})}function f(w,v){a=Tr.Replace;let g=pf(m.location,w,v);n&&n(g,w),l=u();let y=_y(g,l),S=m.createHref(g);o.replaceState(y,"",S),s&&c&&c({action:a,location:m.location,delta:0})}function h(w){let v=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof w=="string"?w:Dl(w);return Ue(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let m={get action(){return a},get location(){return e(i,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(wy,d),c=w,()=>{i.removeEventListener(wy,d),c=null}},createHref(w){return t(i,w)},createURL:h,encodeLocation(w){let v=h(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:f,go(w){return o.go(w)}};return m}var Sy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Sy||(Sy={}));function QT(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Qs(t):t,i=qh(r.pathname||"/",n);if(i==null)return null;let s=w0(e);YT(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=sE(s[a],cE(i));return o}function w0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Ue(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let l=Ir([r,c.relativePath]),u=n.concat(c);s.children&&s.children.length>0&&(Ue(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),w0(s.children,t,u,l)),!(s.path==null&&!s.index)&&t.push({path:l,score:rE(l,s.index),routesMeta:u})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of _0(s.path))i(s,o,c)}),t}function _0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=_0(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function YT(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:iE(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const XT=/^:\w+$/,JT=3,ZT=2,eE=1,tE=10,nE=-2,by=e=>e==="*";function rE(e,t){let n=e.split("/"),r=n.length;return n.some(by)&&(r+=nE),t&&(r+=ZT),n.filter(i=>!by(i)).reduce((i,s)=>i+(XT.test(s)?JT:s===""?eE:tE),r)}function iE(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function sE(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],c=o===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",u=oE({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},l);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:Ir([i,u.pathname]),pathnameBase:pE(Ir([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Ir([i,u.pathnameBase]))}return s}function oE(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=aE(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,u,d)=>{if(u==="*"){let p=a[d]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return l[u]=lE(a[d]||"",u),l},{}),pathname:s,pathnameBase:o,pattern:e}}function aE(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Kh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function cE(e){try{return decodeURI(e)}catch(t){return Kh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function lE(e,t){try{return decodeURIComponent(e)}catch(n){return Kh(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function qh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function uE(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Qs(e):e;return{pathname:n?n.startsWith("/")?n:dE(n,t):t,search:fE(r),hash:hE(i)}}function dE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Rd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qh(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Yh(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Qs(e):(i=fa({},e),Ue(!i.pathname||!i.pathname.includes("?"),Rd("?","pathname","search",i)),Ue(!i.pathname||!i.pathname.includes("#"),Rd("#","pathname","hash",i)),Ue(!i.search||!i.search.includes("#"),Rd("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=t.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}a=d>=0?t[d]:"/"}let c=uE(i,a),l=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}const Ir=e=>e.join("/").replace(/\/\/+/g,"/"),pE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const S0=["post","put","patch","delete"];new Set(S0);const gE=["get",...S0];new Set(gE);/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ll.apply(this,arguments)}const Xh=_.createContext(null),b0=_.createContext(null),Ci=_.createContext(null),lu=_.createContext(null),In=_.createContext({outlet:null,matches:[],isDataRoute:!1}),R0=_.createContext(null);function yE(e,t){let{relative:n}=t===void 0?{}:t;Ys()||Ue(!1);let{basename:r,navigator:i}=_.useContext(Ci),{hash:s,pathname:o,search:a}=Zh(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ir([r,o])),i.createHref({pathname:c,search:a,hash:s})}function Ys(){return _.useContext(lu)!=null}function xi(){return Ys()||Ue(!1),_.useContext(lu).location}function C0(e){_.useContext(Ci).static||_.useLayoutEffect(e)}function Jh(){let{isDataRoute:e}=_.useContext(In);return e?OE():vE()}function vE(){Ys()||Ue(!1);let e=_.useContext(Xh),{basename:t,navigator:n}=_.useContext(Ci),{matches:r}=_.useContext(In),{pathname:i}=xi(),s=JSON.stringify(Qh(r).map(c=>c.pathnameBase)),o=_.useRef(!1);return C0(()=>{o.current=!0}),_.useCallback(function(c,l){if(l===void 0&&(l={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let u=Yh(c,JSON.parse(s),i,l.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Ir([t,u.pathname])),(l.replace?n.replace:n.push)(u,l.state,l)},[t,n,s,i,e])}const wE=_.createContext(null);function _E(e){let t=_.useContext(In).outlet;return t&&_.createElement(wE.Provider,{value:e},t)}function SE(){let{matches:e}=_.useContext(In),t=e[e.length-1];return t?t.params:{}}function Zh(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=_.useContext(In),{pathname:i}=xi(),s=JSON.stringify(Qh(r).map(o=>o.pathnameBase));return _.useMemo(()=>Yh(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function bE(e,t){return RE(e,t)}function RE(e,t,n){Ys()||Ue(!1);let{navigator:r}=_.useContext(Ci),{matches:i}=_.useContext(In),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let c=xi(),l;if(t){var u;let m=typeof t=="string"?Qs(t):t;a==="/"||(u=m.pathname)!=null&&u.startsWith(a)||Ue(!1),l=m}else l=c;let d=l.pathname||"/",p=a==="/"?d:d.slice(a.length)||"/",f=QT(e,{pathname:p}),h=PE(f&&f.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:Ir([a,r.encodeLocation?r.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:Ir([a,r.encodeLocation?r.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,n);return t&&h?_.createElement(lu.Provider,{value:{location:Ll({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:Tr.Pop}},h):h}function CE(){let e=AE(),t=mE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:i},n):null,s)}const xE=_.createElement(CE,null);class TE extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?_.createElement(In.Provider,{value:this.props.routeContext},_.createElement(R0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EE(e){let{routeContext:t,match:n,children:r}=e,i=_.useContext(Xh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(In.Provider,{value:t},r)}function PE(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id]));a>=0||Ue(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,c,l)=>{let u=c.route.id?o==null?void 0:o[c.route.id]:null,d=null;n&&(d=c.route.errorElement||xE);let p=t.concat(s.slice(0,l+1)),f=()=>{let h;return u?h=d:c.route.Component?h=_.createElement(c.route.Component,null):c.route.element?h=c.route.element:h=a,_.createElement(EE,{match:c,routeContext:{outlet:a,matches:p,isDataRoute:n!=null},children:h})};return n&&(c.route.ErrorBoundary||c.route.errorElement||l===0)?_.createElement(TE,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}var ff;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(ff||(ff={}));var ha;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(ha||(ha={}));function kE(e){let t=_.useContext(Xh);return t||Ue(!1),t}function DE(e){let t=_.useContext(b0);return t||Ue(!1),t}function LE(e){let t=_.useContext(In);return t||Ue(!1),t}function x0(e){let t=LE(),n=t.matches[t.matches.length-1];return n.route.id||Ue(!1),n.route.id}function AE(){var e;let t=_.useContext(R0),n=DE(ha.UseRouteError),r=x0(ha.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function OE(){let{router:e}=kE(ff.UseNavigateStable),t=x0(ha.UseNavigateStable),n=_.useRef(!1);return C0(()=>{n.current=!0}),_.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ll({fromRouteId:t},s)))},[e,t])}function T0(e){let{to:t,replace:n,state:r,relative:i}=e;Ys()||Ue(!1);let{matches:s}=_.useContext(In),{pathname:o}=xi(),a=Jh(),c=Yh(t,Qh(s).map(u=>u.pathnameBase),o,i==="path"),l=JSON.stringify(c);return _.useEffect(()=>a(JSON.parse(l),{replace:n,state:r,relative:i}),[a,l,i,n,r]),null}function ME(e){return _E(e.context)}function Wn(e){Ue(!1)}function IE(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Tr.Pop,navigator:s,static:o=!1}=e;Ys()&&Ue(!1);let a=t.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Qs(r));let{pathname:l="/",search:u="",hash:d="",state:p=null,key:f="default"}=r,h=_.useMemo(()=>{let m=qh(l,a);return m==null?null:{location:{pathname:m,search:u,hash:d,state:p,key:f},navigationType:i}},[a,l,u,d,p,f,i]);return h==null?null:_.createElement(Ci.Provider,{value:c},_.createElement(lu.Provider,{children:n,value:h}))}function E0(e){let{children:t,location:n}=e;return bE(hf(t),n)}var Ry;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(Ry||(Ry={}));new Promise(()=>{});function hf(e,t){t===void 0&&(t=[]);let n=[];return _.Children.forEach(e,(r,i)=>{if(!_.isValidElement(r))return;let s=[...t,i];if(r.type===_.Fragment){n.push.apply(n,hf(r.props.children,s));return}r.type!==Wn&&Ue(!1),!r.props.index||!r.props.children||Ue(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=hf(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Al.apply(this,arguments)}function P0(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function jE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function NE(e,t){return e.button===0&&(!t||t==="_self")&&!jE(e)}const FE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],BE=["aria-current","caseSensitive","className","end","style","to","children"],$E="startTransition",Cy=jC[$E];function UE(e){let{basename:t,children:n,future:r,window:i}=e,s=_.useRef();s.current==null&&(s.current=GT({window:i,v5Compat:!0}));let o=s.current,[a,c]=_.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},u=_.useCallback(d=>{l&&Cy?Cy(()=>c(d)):c(d)},[c,l]);return _.useLayoutEffect(()=>o.listen(u),[o,u]),_.createElement(IE,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o})}const VE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HE=_.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:l,preventScrollReset:u}=t,d=P0(t,FE),{basename:p}=_.useContext(Ci),f,h=!1;if(typeof l=="string"&&zE.test(l)&&(f=l,VE))try{let g=new URL(window.location.href),y=l.startsWith("//")?new URL(g.protocol+l):new URL(l),S=qh(y.pathname,p);y.origin===g.origin&&S!=null?l=S+y.search+y.hash:h=!0}catch{}let m=yE(l,{relative:i}),w=WE(l,{replace:o,state:a,target:c,preventScrollReset:u,relative:i});function v(g){r&&r(g),g.defaultPrevented||w(g)}return _.createElement("a",Al({},d,{href:f||m,onClick:h||s?r:v,ref:n,target:c}))}),qr=_.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:c,children:l}=t,u=P0(t,BE),d=Zh(c,{relative:u.relative}),p=xi(),f=_.useContext(b0),{navigator:h}=_.useContext(Ci),m=h.encodeLocation?h.encodeLocation(d).pathname:d.pathname,w=p.pathname,v=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;i||(w=w.toLowerCase(),v=v?v.toLowerCase():null,m=m.toLowerCase());let g=w===m||!o&&w.startsWith(m)&&w.charAt(m.length)==="/",y=v!=null&&(v===m||!o&&v.startsWith(m)&&v.charAt(m.length)==="/"),S=g?r:void 0,R;typeof s=="function"?R=s({isActive:g,isPending:y}):R=[s,g?"active":null,y?"pending":null].filter(Boolean).join(" ");let x=typeof a=="function"?a({isActive:g,isPending:y}):a;return _.createElement(HE,Al({},u,{"aria-current":S,className:R,ref:n,style:x,to:c}),typeof l=="function"?l({isActive:g,isPending:y}):l)});var xy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(xy||(xy={}));var Ty;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ty||(Ty={}));function WE(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=t===void 0?{}:t,a=Jh(),c=xi(),l=Zh(e,{relative:o});return _.useCallback(u=>{if(NE(u,n)){u.preventDefault();let d=r!==void 0?r:Dl(c)===Dl(l);a(e,{replace:d,state:i,preventScrollReset:s,relative:o})}},[c,a,l,r,i,n,e,s,o])}var k0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var c in s)t.call(s,c)&&s[c]&&r.push(c)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(k0);var GE=k0.exports;const On=ba(GE);function KE(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function mf(e,t){return mf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mf(e,t)}function qE(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,mf(e,t)}const QE=["xxl","xl","lg","md","sm","xs"],YE="xs",D0=_.createContext({prefixes:{},breakpoints:QE,minBreakpoint:YE});function Pa(e,t){const{prefixes:n}=_.useContext(D0);return e||n[t]||t}function XE(){const{dir:e}=_.useContext(D0);return e==="rtl"}function uu(e){return e&&e.ownerDocument||document}function JE(e){var t=uu(e);return t&&t.defaultView||window}function ZE(e,t){return JE(e).getComputedStyle(e,t)}var eP=/([A-Z])/g;function tP(e){return e.replace(eP,"-$1").toLowerCase()}var nP=/^ms-/;function fc(e){return tP(e).replace(nP,"-ms-")}var rP=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function iP(e){return!!(e&&rP.test(e))}function fi(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(fc(t))||ZE(e).getPropertyValue(fc(t));Object.keys(t).forEach(function(i){var s=t[i];!s&&s!==0?e.style.removeProperty(fc(i)):iP(i)?r+=i+"("+s+") ":n+=fc(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}var L0={exports:{}},sP="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oP=sP,aP=oP;function A0(){}function O0(){}O0.resetWarningCache=A0;var cP=function(){function e(r,i,s,o,a,c){if(c!==aP){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:O0,resetWarningCache:A0};return n.PropTypes=n,n};L0.exports=cP();var lP=L0.exports;const Cd=ba(lP),Ey={disabled:!1},M0=Fe.createContext(null);var uP=function(t){return t.scrollTop},Po="unmounted",ti="exited",_r="entering",ii="entered",gf="exiting",ar=function(e){qE(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,c;return s.appearStatus=null,r.in?a?(c=ti,s.appearStatus=_r):c=ii:r.unmountOnExit||r.mountOnEnter?c=Po:c=ti,s.state={status:c},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Po?{status:ti}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==_r&&o!==ii&&(s=_r):(o===_r||o===ii)&&(s=gf)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===_r){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:ps.findDOMNode(this);o&&uP(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ti&&this.setState({status:Po})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,c=this.props.nodeRef?[a]:[ps.findDOMNode(this),a],l=c[0],u=c[1],d=this.getTimeouts(),p=a?d.appear:d.enter;if(!i&&!o||Ey.disabled){this.safeSetState({status:ii},function(){s.props.onEntered(l)});return}this.props.onEnter(l,u),this.safeSetState({status:_r},function(){s.props.onEntering(l,u),s.onTransitionEnd(p,function(){s.safeSetState({status:ii},function(){s.props.onEntered(l,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:ps.findDOMNode(this);if(!s||Ey.disabled){this.safeSetState({status:ti},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:gf},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ti},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:ps.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],l=c[0],u=c[1];this.props.addEndListener(l,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Po)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=KE(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Fe.createElement(M0.Provider,{value:null},typeof o=="function"?o(i,a):Fe.cloneElement(Fe.Children.only(o),a))},t}(Fe.Component);ar.contextType=M0;ar.propTypes={};function Ai(){}ar.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ai,onEntering:Ai,onEntered:Ai,onExit:Ai,onExiting:Ai,onExited:Ai};ar.UNMOUNTED=Po;ar.EXITED=ti;ar.ENTERING=_r;ar.ENTERED=ii;ar.EXITING=gf;const dP=ar,Xs=!!(typeof window<"u"&&window.document&&window.document.createElement);var yf=!1,vf=!1;try{var xd={get passive(){return yf=!0},get once(){return vf=yf=!0}};Xs&&(window.addEventListener("test",xd,xd),window.removeEventListener("test",xd,!0))}catch{}function I0(e,t,n,r){if(r&&typeof r!="boolean"&&!vf){var i=r.once,s=r.capture,o=n;!vf&&i&&(o=n.__once||function a(c){this.removeEventListener(t,a,s),n.call(this,c)},n.__once=o),e.addEventListener(t,o,yf?r:s)}e.addEventListener(t,n,r)}function wf(e,t,n,r){var i=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)}function Ol(e,t,n,r){return I0(e,t,n,r),function(){wf(e,t,n,r)}}function pP(e,t,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}function fP(e){var t=fi(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function hP(e,t,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||pP(e,"transitionend",!0)},t+n),s=Ol(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function j0(e,t,n,r){n==null&&(n=fP(e)||0);var i=hP(e,n,r),s=Ol(e,"transitionend",t);return function(){i(),s()}}function Py(e,t){const n=fi(e,t)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function mP(e,t){const n=Py(e,"transitionDuration"),r=Py(e,"transitionDelay"),i=j0(e,s=>{s.target===e&&(i(),t(s))},n+r)}function gP(e){e.offsetHeight}const ky=e=>!e||typeof e=="function"?e:t=>{e.current=t};function yP(e,t){const n=ky(e),r=ky(t);return i=>{n&&n(i),r&&r(i)}}function du(e,t){return _.useMemo(()=>yP(e,t),[e,t])}function vP(e){return e&&"setState"in e?ps.findDOMNode(e):e??null}const wP=Fe.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:c,...l},u)=>{const d=_.useRef(null),p=du(d,c),f=x=>{p(vP(x))},h=x=>C=>{x&&d.current&&x(d.current,C)},m=_.useCallback(h(e),[e]),w=_.useCallback(h(t),[t]),v=_.useCallback(h(n),[n]),g=_.useCallback(h(r),[r]),y=_.useCallback(h(i),[i]),S=_.useCallback(h(s),[s]),R=_.useCallback(h(o),[o]);return b.jsx(dP,{ref:u,...l,onEnter:m,onEntered:v,onEntering:w,onExit:g,onExited:S,onExiting:y,addEndListener:R,nodeRef:d,children:typeof a=="function"?(x,C)=>a(x,{...C,ref:f}):Fe.cloneElement(a,{ref:f})})}),_P=wP;function SP(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e},[e]),t}function Tn(e){const t=SP(e);return _.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function bP(){return _.useState(null)}function RP(){const e=_.useRef(!0),t=_.useRef(()=>e.current);return _.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function CP(e){const t=_.useRef(null);return _.useEffect(()=>{t.current=e}),t.current}const xP=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",TP=typeof document<"u",Dy=TP||xP?_.useLayoutEffect:_.useEffect,EP=["as","disabled"];function PP(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function kP(e){return!e||e.trim()==="#"}function N0({tagName:e,disabled:t,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:c}){e||(n!=null||r!=null||i!=null?e="a":e="button");const l={tagName:e};if(e==="button")return[{type:c||"button",disabled:t},l];const u=p=>{if((t||e==="a"&&kP(n))&&p.preventDefault(),t){p.stopPropagation();return}o==null||o(p)},d=p=>{p.key===" "&&(p.preventDefault(),u(p))};return e==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:t?void 0:a,href:n,target:e==="a"?r:void 0,"aria-disabled":t||void 0,rel:e==="a"?i:void 0,onClick:u,onKeyDown:d},l]}const DP=_.forwardRef((e,t)=>{let{as:n,disabled:r}=e,i=PP(e,EP);const[s,{tagName:o}]=N0(Object.assign({tagName:n,disabled:r},i));return b.jsx(o,Object.assign({},i,s,{ref:t}))});DP.displayName="Button";const LP={[_r]:"show",[ii]:"show"},F0=_.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=_.useCallback((c,l)=>{gP(c),r==null||r(c,l)},[r]);return b.jsx(_P,{ref:s,addEndListener:mP,...o,onEnter:a,childRef:t.ref,children:(c,l)=>_.cloneElement(t,{...l,className:On("fade",e,t.props.className,LP[c],n[c])})})});F0.displayName="Fade";const B0=F0,AP={"aria-label":Cd.string,onClick:Cd.func,variant:Cd.oneOf(["white"])},em=_.forwardRef(({className:e,variant:t,"aria-label":n="Close",...r},i)=>b.jsx("button",{ref:i,type:"button",className:On("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...r}));em.displayName="CloseButton";em.propTypes=AP;const OP=em,MP=e=>_.forwardRef((t,n)=>b.jsx("div",{...t,ref:n,className:On(t.className,e)}));var IP=/-(.)/g;function jP(e){return e.replace(IP,function(t,n){return n.toUpperCase()})}const NP=e=>e[0].toUpperCase()+jP(e).slice(1);function tm(e,{displayName:t=NP(e),Component:n,defaultProps:r}={}){const i=_.forwardRef(({className:s,bsPrefix:o,as:a=n||"div",...c},l)=>{const u={...r,...c},d=Pa(o,e);return b.jsx(a,{ref:l,className:On(s,d),...u})});return i.displayName=t,i}const $0=_.forwardRef(({as:e,bsPrefix:t,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...a},c)=>{const l=Pa(t,"btn"),[u,{tagName:d}]=N0({tagName:e,disabled:s,...a}),p=d;return b.jsx(p,{...u,...a,ref:c,disabled:s,className:On(o,l,i&&"active",n&&`${l}-${n}`,r&&`${l}-${r}`,a.href&&s&&"disabled")})});$0.displayName="Button";const ma=$0;function FP(e){const t=_.useRef(e);return t.current=e,t}function U0(e){const t=FP(e);_.useEffect(()=>()=>t.current(),[])}var BP=Function.prototype.bind.call(Function.prototype.call,[].slice);function Oi(e,t){return BP(e.querySelectorAll(t))}function Ly(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const $P="data-rr-ui-";function UP(e){return`${$P}${e}`}const V0=_.createContext(Xs?window:void 0);V0.Provider;function nm(){return _.useContext(V0)}var hc;function Ay(e){if((!hc&&hc!==0||e)&&Xs){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),hc=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return hc}function Td(e){e===void 0&&(e=uu());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function VP(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const Oy=UP("modal-open");class zP{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return VP(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();t.style={overflow:i.style.overflow,[r]:i.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt(fi(i,r)||"0",10)+t.scrollBarWidth}px`),i.setAttribute(Oy,""),fi(i,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(Oy),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const rm=zP,Ed=(e,t)=>Xs?e==null?(t||uu()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function HP(e,t){const n=nm(),[r,i]=_.useState(()=>Ed(e,n==null?void 0:n.document));if(!r){const s=Ed(e);s&&i(s)}return _.useEffect(()=>{t&&r&&t(r)},[t,r]),_.useEffect(()=>{const s=Ed(e);s!==r&&i(s)},[e,r]),r}function WP({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=_.useRef(null),o=_.useRef(t),a=Tn(n);_.useEffect(()=>{t?o.current=!0:a(s.current)},[t,a]);const c=du(s,e.ref),l=_.cloneElement(e,{ref:c});return t?l:i||!o.current&&r?null:l}function GP({in:e,onTransition:t}){const n=_.useRef(null),r=_.useRef(!0),i=Tn(t);return Dy(()=>{if(!n.current)return;let s=!1;return i({in:e,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[e,i]),Dy(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function KP({children:e,in:t,onExited:n,onEntered:r,transition:i}){const[s,o]=_.useState(!t);t&&s&&o(!1);const a=GP({in:!!t,onTransition:l=>{const u=()=>{l.isStale()||(l.in?r==null||r(l.element,l.initial):(o(!0),n==null||n(l.element)))};Promise.resolve(i(l)).then(u,d=>{throw l.in||o(!0),d})}}),c=du(a,e.ref);return s&&!t?null:_.cloneElement(e,{ref:c})}function My(e,t,n){return e?b.jsx(e,Object.assign({},n)):t?b.jsx(KP,Object.assign({},n,{transition:t})):b.jsx(WP,Object.assign({},n))}function qP(e){return e.code==="Escape"||e.keyCode===27}const QP=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function YP(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}let Pd;function XP(e){return Pd||(Pd=new rm({ownerDocument:e==null?void 0:e.document})),Pd}function JP(e){const t=nm(),n=e||XP(t),r=_.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:_.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:_.useCallback(i=>{r.current.backdrop=i},[])})}const z0=_.forwardRef((e,t)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:c=!0,onBackdropClick:l,onEscapeKeyDown:u,transition:d,runTransition:p,backdropTransition:f,runBackdropTransition:h,autoFocus:m=!0,enforceFocus:w=!0,restoreFocus:v=!0,restoreFocusOptions:g,renderDialog:y,renderBackdrop:S=Re=>b.jsx("div",Object.assign({},Re)),manager:R,container:x,onShow:C,onHide:P=()=>{},onExit:M,onExited:I,onExiting:W,onEnter:Q,onEntering:fe,onEntered:te}=e,de=YP(e,QP);const le=nm(),ie=HP(x),T=JP(R),D=RP(),A=CP(n),[O,G]=_.useState(!n),se=_.useRef(null);_.useImperativeHandle(t,()=>T,[T]),Xs&&!A&&n&&(se.current=Td(le==null?void 0:le.document)),n&&O&&G(!1);const he=Tn(()=>{if(T.add(),Le.current=Ol(document,"keydown",Ft),nt.current=Ol(document,"focus",()=>setTimeout(pe),!0),C&&C(),m){var Re,cr;const Jt=Td((Re=(cr=T.dialog)==null?void 0:cr.ownerDocument)!=null?Re:le==null?void 0:le.document);T.dialog&&Jt&&!Ly(T.dialog,Jt)&&(se.current=Jt,T.dialog.focus())}}),Ee=Tn(()=>{if(T.remove(),Le.current==null||Le.current(),nt.current==null||nt.current(),v){var Re;(Re=se.current)==null||Re.focus==null||Re.focus(g),se.current=null}});_.useEffect(()=>{!n||!ie||he()},[n,ie,he]),_.useEffect(()=>{O&&Ee()},[O,Ee]),U0(()=>{Ee()});const pe=Tn(()=>{if(!w||!D()||!T.isTopModal())return;const Re=Td(le==null?void 0:le.document);T.dialog&&Re&&!Ly(T.dialog,Re)&&T.dialog.focus()}),De=Tn(Re=>{Re.target===Re.currentTarget&&(l==null||l(Re),a===!0&&P())}),Ft=Tn(Re=>{c&&qP(Re)&&T.isTopModal()&&(u==null||u(Re),Re.defaultPrevented||P())}),nt=_.useRef(),Le=_.useRef(),ht=(...Re)=>{G(!0),I==null||I(...Re)};if(!ie)return null;const Bt=Object.assign({role:r,ref:T.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},de,{style:s,className:i,tabIndex:-1});let Xt=y?y(Bt):b.jsx("div",Object.assign({},Bt,{children:_.cloneElement(o,{role:"document"})}));Xt=My(d,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:M,onExiting:W,onExited:ht,onEnter:Q,onEntering:fe,onEntered:te,children:Xt});let Pt=null;return a&&(Pt=S({ref:T.setBackdropRef,onClick:De}),Pt=My(f,h,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Pt})),b.jsx(b.Fragment,{children:ps.createPortal(b.jsxs(b.Fragment,{children:[Pt,Xt]}),ie)})});z0.displayName="Modal";const ZP=Object.assign(z0,{Manager:rm});function ek(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function tk(e,t){e.classList?e.classList.add(t):ek(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Iy(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function nk(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Iy(e.className,t):e.setAttribute("class",Iy(e.className&&e.className.baseVal||"",t))}const Mi={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class rk extends rm{adjustAndStore(t,n,r){const i=n.style[t];n.dataset[t]=i,fi(n,{[t]:`${parseFloat(fi(n,t))+r}px`})}restore(t,n){const r=n.dataset[t];r!==void 0&&(delete n.dataset[t],fi(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(tk(n,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Oi(n,Mi.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,t.scrollBarWidth)),Oi(n,Mi.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-t.scrollBarWidth)),Oi(n,Mi.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();nk(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Oi(n,Mi.FIXED_CONTENT).forEach(s=>this.restore(r,s)),Oi(n,Mi.STICKY_CONTENT).forEach(s=>this.restore(i,s)),Oi(n,Mi.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let kd;function ik(e){return kd||(kd=new rk(e)),kd}const sk=tm("modal-body"),ok=_.createContext({onHide(){}}),H0=ok,W0=_.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:r,size:i,fullscreen:s,children:o,scrollable:a,...c},l)=>{e=Pa(e,"modal");const u=`${e}-dialog`,d=typeof s=="string"?`${e}-fullscreen-${s}`:`${e}-fullscreen`;return b.jsx("div",{...c,ref:l,className:On(u,t,i&&`${e}-${i}`,r&&`${u}-centered`,a&&`${u}-scrollable`,s&&d),children:b.jsx("div",{className:On(`${e}-content`,n),children:o})})});W0.displayName="ModalDialog";const G0=W0,ak=tm("modal-footer"),ck=_.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const a=_.useContext(H0),c=Tn(()=>{a==null||a.onHide(),r==null||r()});return b.jsxs("div",{ref:o,...s,children:[i,n&&b.jsx(OP,{"aria-label":e,variant:t,onClick:c})]})}),lk=ck,K0=_.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(e=Pa(e,"modal-header"),b.jsx(lk,{ref:s,...i,className:On(t,e),closeLabel:n,closeButton:r})));K0.displayName="ModalHeader";const uk=K0,dk=MP("h4"),pk=tm("modal-title",{Component:dk});function fk(e){return b.jsx(B0,{...e,timeout:null})}function hk(e){return b.jsx(B0,{...e,timeout:null})}const q0=_.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:r,contentClassName:i,children:s,dialogAs:o=G0,"aria-labelledby":a,"aria-describedby":c,"aria-label":l,show:u=!1,animation:d=!0,backdrop:p=!0,keyboard:f=!0,onEscapeKeyDown:h,onShow:m,onHide:w,container:v,autoFocus:g=!0,enforceFocus:y=!0,restoreFocus:S=!0,restoreFocusOptions:R,onEntered:x,onExit:C,onExiting:P,onEnter:M,onEntering:I,onExited:W,backdropClassName:Q,manager:fe,...te},de)=>{const[le,ie]=_.useState({}),[T,D]=_.useState(!1),A=_.useRef(!1),O=_.useRef(!1),G=_.useRef(null),[se,he]=bP(),Ee=du(de,he),pe=Tn(w),De=XE();e=Pa(e,"modal");const Ft=_.useMemo(()=>({onHide:pe}),[pe]);function nt(){return fe||ik({isRTL:De})}function Le(j){if(!Xs)return;const J=nt().getScrollbarWidth()>0,K=j.scrollHeight>uu(j).documentElement.clientHeight;ie({paddingRight:J&&!K?Ay():void 0,paddingLeft:!J&&K?Ay():void 0})}const ht=Tn(()=>{se&&Le(se.dialog)});U0(()=>{wf(window,"resize",ht),G.current==null||G.current()});const Bt=()=>{A.current=!0},Xt=j=>{A.current&&se&&j.target===se.dialog&&(O.current=!0),A.current=!1},Pt=()=>{D(!0),G.current=j0(se.dialog,()=>{D(!1)})},Re=j=>{j.target===j.currentTarget&&Pt()},cr=j=>{if(p==="static"){Re(j);return}if(O.current||j.target!==j.currentTarget){O.current=!1;return}w==null||w()},Jt=j=>{f?h==null||h(j):(j.preventDefault(),p==="static"&&Pt())},so=(j,J)=>{j&&Le(j),M==null||M(j,J)},Qu=j=>{G.current==null||G.current(),C==null||C(j)},qa=(j,J)=>{I==null||I(j,J),I0(window,"resize",ht)},Qa=j=>{j&&(j.style.display=""),W==null||W(j),wf(window,"resize",ht)},kt=_.useCallback(j=>b.jsx("div",{...j,className:On(`${e}-backdrop`,Q,!d&&"show")}),[d,Q,e]),Bn={...n,...le};Bn.display="block";const Di=j=>b.jsx("div",{role:"dialog",...j,style:Bn,className:On(t,e,T&&`${e}-static`,!d&&"show"),onClick:p?cr:void 0,onMouseUp:Xt,"aria-label":l,"aria-labelledby":a,"aria-describedby":c,children:b.jsx(o,{...te,onMouseDown:Bt,className:r,contentClassName:i,children:s})});return b.jsx(H0.Provider,{value:Ft,children:b.jsx(ZP,{show:u,ref:Ee,backdrop:p,container:v,keyboard:!0,autoFocus:g,enforceFocus:y,restoreFocus:S,restoreFocusOptions:R,onEscapeKeyDown:Jt,onShow:m,onHide:w,onEnter:so,onEntering:qa,onEntered:x,onExit:Qu,onExiting:P,onExited:Qa,manager:nt(),transition:d?fk:void 0,backdropTransition:d?hk:void 0,renderBackdrop:kt,renderDialog:Di})})});q0.displayName="Modal";const En=Object.assign(q0,{Body:sk,Header:uk,Title:pk,Footer:ak,Dialog:G0,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var Rt=function(){return Rt=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Rt.apply(this,arguments)};function ga(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var xe="-ms-",Vo="-moz-",ye="-webkit-",Q0="comm",pu="rule",im="decl",mk="@import",Y0="@keyframes",gk="@layer",yk=Math.abs,sm=String.fromCharCode,_f=Object.assign;function vk(e,t){return it(e,0)^45?(((t<<2^it(e,0))<<2^it(e,1))<<2^it(e,2))<<2^it(e,3):0}function X0(e){return e.trim()}function zn(e,t){return(e=t.exec(e))?e[0]:e}function X(e,t,n){return e.replace(t,n)}function Gc(e,t){return e.indexOf(t)}function it(e,t){return e.charCodeAt(t)|0}function Is(e,t,n){return e.slice(t,n)}function Cn(e){return e.length}function J0(e){return e.length}function ko(e,t){return t.push(e),e}function wk(e,t){return e.map(t).join("")}function jy(e,t){return e.filter(function(n){return!zn(n,t)})}var fu=1,js=1,Z0=0,Yt=0,Ge=0,Js="";function hu(e,t,n,r,i,s,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:fu,column:js,length:o,return:"",siblings:a}}function gr(e,t){return _f(hu("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Ii(e){for(;e.root;)e=gr(e.root,{children:[e]});ko(e,e.siblings)}function _k(){return Ge}function Sk(){return Ge=Yt>0?it(Js,--Yt):0,js--,Ge===10&&(js=1,fu--),Ge}function an(){return Ge=Yt<Z0?it(Js,Yt++):0,js++,Ge===10&&(js=1,fu++),Ge}function hi(){return it(Js,Yt)}function Kc(){return Yt}function mu(e,t){return Is(Js,e,t)}function Sf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function bk(e){return fu=js=1,Z0=Cn(Js=e),Yt=0,[]}function Rk(e){return Js="",e}function Dd(e){return X0(mu(Yt-1,bf(e===91?e+2:e===40?e+1:e)))}function Ck(e){for(;(Ge=hi())&&Ge<33;)an();return Sf(e)>2||Sf(Ge)>3?"":" "}function xk(e,t){for(;--t&&an()&&!(Ge<48||Ge>102||Ge>57&&Ge<65||Ge>70&&Ge<97););return mu(e,Kc()+(t<6&&hi()==32&&an()==32))}function bf(e){for(;an();)switch(Ge){case e:return Yt;case 34:case 39:e!==34&&e!==39&&bf(Ge);break;case 40:e===41&&bf(e);break;case 92:an();break}return Yt}function Tk(e,t){for(;an()&&e+Ge!==47+10;)if(e+Ge===42+42&&hi()===47)break;return"/*"+mu(t,Yt-1)+"*"+sm(e===47?e:an())}function Ek(e){for(;!Sf(hi());)an();return mu(e,Yt)}function Pk(e){return Rk(qc("",null,null,null,[""],e=bk(e),0,[0],e))}function qc(e,t,n,r,i,s,o,a,c){for(var l=0,u=0,d=o,p=0,f=0,h=0,m=1,w=1,v=1,g=0,y="",S=i,R=s,x=r,C=y;w;)switch(h=g,g=an()){case 40:if(h!=108&&it(C,d-1)==58){Gc(C+=X(Dd(g),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:C+=Dd(g);break;case 9:case 10:case 13:case 32:C+=Ck(h);break;case 92:C+=xk(Kc()-1,7);continue;case 47:switch(hi()){case 42:case 47:ko(kk(Tk(an(),Kc()),t,n,c),c);break;default:C+="/"}break;case 123*m:a[l++]=Cn(C)*v;case 125*m:case 59:case 0:switch(g){case 0:case 125:w=0;case 59+u:v==-1&&(C=X(C,/\f/g,"")),f>0&&Cn(C)-d&&ko(f>32?Fy(C+";",r,n,d-1,c):Fy(X(C," ","")+";",r,n,d-2,c),c);break;case 59:C+=";";default:if(ko(x=Ny(C,t,n,l,u,i,a,y,S=[],R=[],d,s),s),g===123)if(u===0)qc(C,t,x,x,S,s,d,a,R);else switch(p===99&&it(C,3)===110?100:p){case 100:case 108:case 109:case 115:qc(e,x,x,r&&ko(Ny(e,x,x,0,0,i,a,y,i,S=[],d,R),R),i,R,d,a,r?S:R);break;default:qc(C,x,x,x,[""],R,0,a,R)}}l=u=f=0,m=v=1,y=C="",d=o;break;case 58:d=1+Cn(C),f=h;default:if(m<1){if(g==123)--m;else if(g==125&&m++==0&&Sk()==125)continue}switch(C+=sm(g),g*m){case 38:v=u>0?1:(C+="\f",-1);break;case 44:a[l++]=(Cn(C)-1)*v,v=1;break;case 64:hi()===45&&(C+=Dd(an())),p=hi(),u=d=Cn(y=C+=Ek(Kc())),g++;break;case 45:h===45&&Cn(C)==2&&(m=0)}}return s}function Ny(e,t,n,r,i,s,o,a,c,l,u,d){for(var p=i-1,f=i===0?s:[""],h=J0(f),m=0,w=0,v=0;m<r;++m)for(var g=0,y=Is(e,p+1,p=yk(w=o[m])),S=e;g<h;++g)(S=X0(w>0?f[g]+" "+y:X(y,/&\f/g,f[g])))&&(c[v++]=S);return hu(e,t,n,i===0?pu:a,c,l,u,d)}function kk(e,t,n,r){return hu(e,t,n,Q0,sm(_k()),Is(e,2,-2),0,r)}function Fy(e,t,n,r,i){return hu(e,t,n,im,Is(e,0,r),Is(e,r+1,-1),r,i)}function eb(e,t,n){switch(vk(e,t)){case 5103:return ye+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ye+e+e;case 4789:return Vo+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ye+e+Vo+e+xe+e+e;case 5936:switch(it(e,t+11)){case 114:return ye+e+xe+X(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ye+e+xe+X(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ye+e+xe+X(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return ye+e+xe+e+e;case 6165:return ye+e+xe+"flex-"+e+e;case 5187:return ye+e+X(e,/(\w+).+(:[^]+)/,ye+"box-$1$2"+xe+"flex-$1$2")+e;case 5443:return ye+e+xe+"flex-item-"+X(e,/flex-|-self/g,"")+(zn(e,/flex-|baseline/)?"":xe+"grid-row-"+X(e,/flex-|-self/g,""))+e;case 4675:return ye+e+xe+"flex-line-pack"+X(e,/align-content|flex-|-self/g,"")+e;case 5548:return ye+e+xe+X(e,"shrink","negative")+e;case 5292:return ye+e+xe+X(e,"basis","preferred-size")+e;case 6060:return ye+"box-"+X(e,"-grow","")+ye+e+xe+X(e,"grow","positive")+e;case 4554:return ye+X(e,/([^-])(transform)/g,"$1"+ye+"$2")+e;case 6187:return X(X(X(e,/(zoom-|grab)/,ye+"$1"),/(image-set)/,ye+"$1"),e,"")+e;case 5495:case 3959:return X(e,/(image-set\([^]*)/,ye+"$1$`$1");case 4968:return X(X(e,/(.+:)(flex-)?(.*)/,ye+"box-pack:$3"+xe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ye+e+e;case 4200:if(!zn(e,/flex-|baseline/))return xe+"grid-column-align"+Is(e,t)+e;break;case 2592:case 3360:return xe+X(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,i){return t=i,zn(r.props,/grid-\w+-end/)})?~Gc(e+(n=n[t].value),"span")?e:xe+X(e,"-start","")+e+xe+"grid-row-span:"+(~Gc(n,"span")?zn(n,/\d+/):+zn(n,/\d+/)-+zn(e,/\d+/))+";":xe+X(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return zn(r.props,/grid-\w+-start/)})?e:xe+X(X(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return X(e,/(.+)-inline(.+)/,ye+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Cn(e)-1-t>6)switch(it(e,t+1)){case 109:if(it(e,t+4)!==45)break;case 102:return X(e,/(.+:)(.+)-([^]+)/,"$1"+ye+"$2-$3$1"+Vo+(it(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Gc(e,"stretch")?eb(X(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return X(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,c,l){return xe+i+":"+s+l+(o?xe+i+"-span:"+(a?c:+c-+s)+l:"")+e});case 4949:if(it(e,t+6)===121)return X(e,":",":"+ye)+e;break;case 6444:switch(it(e,it(e,14)===45?18:11)){case 120:return X(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ye+(it(e,14)===45?"inline-":"")+"box$3$1"+ye+"$2$3$1"+xe+"$2box$3")+e;case 100:return X(e,":",":"+xe)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return X(e,"scroll-","scroll-snap-")+e}return e}function Ml(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Dk(e,t,n,r){switch(e.type){case gk:if(e.children.length)break;case mk:case im:return e.return=e.return||e.value;case Q0:return"";case Y0:return e.return=e.value+"{"+Ml(e.children,r)+"}";case pu:if(!Cn(e.value=e.props.join(",")))return""}return Cn(n=Ml(e.children,r))?e.return=e.value+"{"+n+"}":""}function Lk(e){var t=J0(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function Ak(e){return function(t){t.root||(t=t.return)&&e(t)}}function Ok(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case im:e.return=eb(e.value,e.length,n);return;case Y0:return Ml([gr(e,{value:X(e.value,"@","@"+ye)})],r);case pu:if(e.length)return wk(n=e.props,function(i){switch(zn(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ii(gr(e,{props:[X(i,/:(read-\w+)/,":"+Vo+"$1")]})),Ii(gr(e,{props:[i]})),_f(e,{props:jy(n,r)});break;case"::placeholder":Ii(gr(e,{props:[X(i,/:(plac\w+)/,":"+ye+"input-$1")]})),Ii(gr(e,{props:[X(i,/:(plac\w+)/,":"+Vo+"$1")]})),Ii(gr(e,{props:[X(i,/:(plac\w+)/,xe+"input-$1")]})),Ii(gr(e,{props:[i]})),_f(e,{props:jy(n,r)});break}return""})}}var Mk={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ns=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",om=typeof window<"u"&&"HTMLElement"in window,Ik=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),gu=Object.freeze([]),Fs=Object.freeze({});function jk(e,t,n){return n===void 0&&(n=Fs),e.theme!==n.theme&&e.theme||t||n.theme}var tb=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Nk=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Fk=/(^-|-$)/g;function By(e){return e.replace(Nk,"-").replace(Fk,"")}var Bk=/(a)(d)/gi,$y=function(e){return String.fromCharCode(e+(e>25?39:97))};function Rf(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=$y(t%52)+n;return($y(t%52)+n).replace(Bk,"$1-$2")}var Ld,fs=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},nb=function(e){return fs(5381,e)};function rb(e){return Rf(nb(e)>>>0)}function $k(e){return e.displayName||e.name||"Component"}function Ad(e){return typeof e=="string"&&!0}var ib=typeof Symbol=="function"&&Symbol.for,sb=ib?Symbol.for("react.memo"):60115,Uk=ib?Symbol.for("react.forward_ref"):60112,Vk={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},zk={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ob={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Hk=((Ld={})[Uk]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ld[sb]=ob,Ld);function Uy(e){return("type"in(t=e)&&t.type.$$typeof)===sb?ob:"$$typeof"in e?Hk[e.$$typeof]:Vk;var t}var Wk=Object.defineProperty,Gk=Object.getOwnPropertyNames,Vy=Object.getOwnPropertySymbols,Kk=Object.getOwnPropertyDescriptor,qk=Object.getPrototypeOf,zy=Object.prototype;function ab(e,t,n){if(typeof t!="string"){if(zy){var r=qk(t);r&&r!==zy&&ab(e,r,n)}var i=Gk(t);Vy&&(i=i.concat(Vy(t)));for(var s=Uy(e),o=Uy(t),a=0;a<i.length;++a){var c=i[a];if(!(c in zk||n&&n[c]||o&&c in o||s&&c in s)){var l=Kk(t,c);try{Wk(e,c,l)}catch{}}}}return e}function Bs(e){return typeof e=="function"}function am(e){return typeof e=="object"&&"styledComponentId"in e}function ci(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Cf(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function ya(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function xf(e,t,n){if(n===void 0&&(n=!1),!n&&!ya(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=xf(e[r],t[r]);else if(ya(t))for(var r in t)e[r]=xf(e[r],t[r]);return e}function cm(e,t){Object.defineProperty(e,"toString",{value:t})}function ka(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Qk=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;t>=s;)if((s<<=1)<0)throw ka(16,"".concat(t));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(t+1),c=(o=0,n.length);o<c;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[t]++,a++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n;this.groupSizes[t]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],i=this.indexOfGroup(t),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(`/*!sc*/
`);return n},e}(),Qc=new Map,Il=new Map,Od=1,mc=function(e){if(Qc.has(e))return Qc.get(e);for(;Il.has(Od);)Od++;var t=Od++;return Qc.set(e,t),Il.set(t,e),t},Yk=function(e,t){Qc.set(e,t),Il.set(t,e)},Xk="style[".concat(Ns,"][").concat("data-styled-version",'="').concat("6.0.5",'"]'),Jk=new RegExp("^".concat(Ns,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Zk=function(e,t,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&e.registerName(t,r)},eD=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(`/*!sc*/
`),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var c=a.match(Jk);if(c){var l=0|parseInt(c[1],10),u=c[2];l!==0&&(Yk(u,l),Zk(e,u,c[3]),e.getTag().insertRules(l,i)),i.length=0}else i.push(a)}}};function tD(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var cb=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(a){var c=Array.from(a.querySelectorAll("style[".concat(Ns,"]")));return c[c.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Ns,"active"),r.setAttribute("data-styled-version","6.0.5");var o=tD();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},nD=function(){function e(t){this.element=cb(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw ka(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),rD=function(){function e(t){this.element=cb(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),iD=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),Hy=om,sD={isServer:!om,useCSSOMInjection:!Ik},lb=function(){function e(t,n,r){t===void 0&&(t=Fs),n===void 0&&(n={});var i=this;this.options=Rt(Rt({},sD),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&om&&Hy&&(Hy=!1,function(s){for(var o=document.querySelectorAll(Xk),a=0,c=o.length;a<c;a++){var l=o[a];l&&l.getAttribute(Ns)!=="active"&&(eD(s,l),l.parentNode&&l.parentNode.removeChild(l))}}(this)),cm(this,function(){return function(s){for(var o=s.getTag(),a=o.length,c="",l=function(d){var p=function(v){return Il.get(v)}(d);if(p===void 0)return"continue";var f=s.names.get(p),h=o.getGroup(d);if(f===void 0||h.length===0)return"continue";var m="".concat(Ns,".g").concat(d,'[id="').concat(p,'"]'),w="";f!==void 0&&f.forEach(function(v){v.length>0&&(w+="".concat(v,","))}),c+="".concat(h).concat(m,'{content:"').concat(w,'"}').concat(`/*!sc*/
`)},u=0;u<a;u++)l(u);return c}(i)})}return e.registerId=function(t){return mc(t)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Rt(Rt({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new iD(i):r?new nD(i):new rD(i)}(this.options),new Qk(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(mc(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(mc(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(mc(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),oD=/&/g,aD=/^\s*\/\/.*$/gm;function ub(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=ub(n.children,t)),n})}function cD(e){var t,n,r,i=e===void 0?Fs:e,s=i.options,o=s===void 0?Fs:s,a=i.plugins,c=a===void 0?gu:a,l=function(p,f,h){return h===n||h.startsWith(n)&&h.endsWith(n)&&h.replaceAll(n,"").length>0?".".concat(t):p},u=c.slice();u.push(function(p){p.type===pu&&p.value.includes("&")&&(p.props[0]=p.props[0].replace(oD,n).replace(r,l))}),o.prefix&&u.push(Ok),u.push(Dk);var d=function(p,f,h,m){f===void 0&&(f=""),h===void 0&&(h=""),m===void 0&&(m="&"),t=m,n=f,r=new RegExp("\\".concat(n,"\\b"),"g");var w=p.replace(aD,""),v=Pk(h||f?"".concat(h," ").concat(f," { ").concat(w," }"):w);o.namespace&&(v=ub(v,o.namespace));var g=[];return Ml(v,Lk(u.concat(Ak(function(y){return g.push(y)})))),g};return d.hash=c.length?c.reduce(function(p,f){return f.name||ka(15),fs(p,f.name)},5381).toString():"",d}var lD=new lb,Tf=cD(),db=Fe.createContext({shouldForwardProp:void 0,styleSheet:lD,stylis:Tf});db.Consumer;Fe.createContext(void 0);function Wy(){return _.useContext(db)}var pb=function(){function e(t,n){var r=this;this.inject=function(i,s){s===void 0&&(s=Tf);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,cm(this,function(){throw ka(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Tf),this.name+t.hash},e}(),uD=function(e){return e>="A"&&e<="Z"};function Gy(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;uD(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var fb=function(e){return e==null||e===!1||e===""},hb=function(e){var t,n,r=[];for(var i in e){var s=e[i];e.hasOwnProperty(i)&&!fb(s)&&(Array.isArray(s)&&s.isCss||Bs(s)?r.push("".concat(Gy(i),":"),s,";"):ya(s)?r.push.apply(r,ga(ga(["".concat(i," {")],hb(s),!1),["}"],!1)):r.push("".concat(Gy(i),": ").concat((t=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in Mk||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function mi(e,t,n,r){if(fb(e))return[];if(am(e))return[".".concat(e.styledComponentId)];if(Bs(e)){if(!Bs(s=e)||s.prototype&&s.prototype.isReactComponent||!t)return[e];var i=e(t);return mi(i,t,n,r)}var s;return e instanceof pb?n?(e.inject(n,r),[e.getName(r)]):[e]:ya(e)?hb(e):Array.isArray(e)?Array.prototype.concat.apply(gu,e.map(function(o){return mi(o,t,n,r)})):[e.toString()]}function dD(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Bs(n)&&!am(n))return!1}return!0}var pD=nb("6.0.5"),fD=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&dD(t),this.componentId=n,this.baseHash=fs(pD,n),this.baseStyle=r,lb.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=ci(i,this.staticRulesId);else{var s=Cf(mi(this.rules,t,n,r)),o=Rf(fs(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=ci(i,o),this.staticRulesId=o}else{for(var c=fs(this.baseHash,r.hash),l="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")l+=d;else if(d){var p=Cf(mi(d,t,n,r));c=fs(c,p),l+=p}}if(l){var f=Rf(c>>>0);n.hasNameForId(this.componentId,f)||n.insertRules(this.componentId,f,r(l,".".concat(f),void 0,this.componentId)),i=ci(i,f)}}return i},e}(),mb=Fe.createContext(void 0);mb.Consumer;var Md={};function hD(e,t,n){var r=am(e),i=e,s=!Ad(e),o=t.attrs,a=o===void 0?gu:o,c=t.componentId,l=c===void 0?function(y,S){var R=typeof y!="string"?"sc":By(y);Md[R]=(Md[R]||0)+1;var x="".concat(R,"-").concat(rb("6.0.5"+R+Md[R]));return S?"".concat(S,"-").concat(x):x}(t.displayName,t.parentComponentId):c,u=t.displayName;u===void 0&&function(y){return Ad(y)?"styled.".concat(y):"Styled(".concat($k(y),")")}(e);var d=t.displayName&&t.componentId?"".concat(By(t.displayName),"-").concat(t.componentId):t.componentId||l,p=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,f=t.shouldForwardProp;if(r&&i.shouldForwardProp){var h=i.shouldForwardProp;if(t.shouldForwardProp){var m=t.shouldForwardProp;f=function(y,S){return h(y,S)&&m(y,S)}}else f=h}var w=new fD(n,d,r?i.componentStyle:void 0);function v(y,S){return function(R,x,C){var P=R.attrs,M=R.componentStyle,I=R.defaultProps,W=R.foldedComponentIds,Q=R.styledComponentId,fe=R.target,te=Fe.useContext(mb),de=Wy(),le=R.shouldForwardProp||de.shouldForwardProp,ie=function(se,he,Ee){for(var pe,De=Rt(Rt({},he),{className:void 0,theme:Ee}),Ft=0;Ft<se.length;Ft+=1){var nt=Bs(pe=se[Ft])?pe(De):pe;for(var Le in nt)De[Le]=Le==="className"?ci(De[Le],nt[Le]):Le==="style"?Rt(Rt({},De[Le]),nt[Le]):nt[Le]}return he.className&&(De.className=ci(De.className,he.className)),De}(P,x,jk(x,te,I)||Fs),T=ie.as||fe,D={};for(var A in ie)ie[A]===void 0||A[0]==="$"||A==="as"||A==="theme"||(A==="forwardedAs"?D.as=ie.forwardedAs:le&&!le(A,T)||(D[A]=ie[A]));var O=function(se,he){var Ee=Wy(),pe=se.generateAndInjectStyles(he,Ee.styleSheet,Ee.stylis);return pe}(M,ie),G=ci(W,Q);return O&&(G+=" "+O),ie.className&&(G+=" "+ie.className),D[Ad(T)&&!tb.has(T)?"class":"className"]=G,D.ref=C,_.createElement(T,D)}(g,y,S)}var g=Fe.forwardRef(v);return g.attrs=p,g.componentStyle=w,g.shouldForwardProp=f,g.foldedComponentIds=r?ci(i.foldedComponentIds,i.styledComponentId):"",g.styledComponentId=d,g.target=r?i.target:e,Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(y){this._foldedDefaultProps=r?function(S){for(var R=[],x=1;x<arguments.length;x++)R[x-1]=arguments[x];for(var C=0,P=R;C<P.length;C++)xf(S,P[C],!0);return S}({},i.defaultProps,y):y}}),cm(g,function(){return".".concat(g.styledComponentId)}),s&&ab(g,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),g}function Ky(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var qy=function(e){return Object.assign(e,{isCss:!0})};function gb(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Bs(e)||ya(e)){var r=e;return qy(mi(Ky(gu,ga([r],t,!0))))}var i=e;return t.length===0&&i.length===1&&typeof i[0]=="string"?mi(i):qy(mi(Ky(i,t)))}function Ef(e,t,n){if(n===void 0&&(n=Fs),!t)throw ka(1,t);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return e(t,n,gb.apply(void 0,ga([i],s,!1)))};return r.attrs=function(i){return Ef(e,t,Rt(Rt({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Ef(e,t,Rt(Rt({},n),i))},r}var yb=function(e){return Ef(hD,e)},ve=yb;tb.forEach(function(e){ve[e]=yb(e)});function vb(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Cf(gb.apply(void 0,ga([e],t,!1))),i=rb(r);return new pb(i,r)}const mD=ve.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
`,gD=ve.form`
  display: block;
  margin: 50px;
  gap: 20px;
`;async function yD(){try{const t=await(await fetch("https://choijungle.shop/testdata")).json();return console.log(t),t}catch{return{}}}const $s=40,Us=85,hs=["red","orange","blue","violet"],wb=ve.div`
  display: flex;
  justify-content: space-evenly;
  align-items: center;
  width: 100vw;
  height: 90vh;
`,lm=ve.div`
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
`,_b=ve.div`
  width: ${$s}vw;
  height: ${Us}vh;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
`,Sb=ve.div`
  overflow: hidden;
  position: absolute;
  width: ${$s}vw;
  height: ${Us}vh;
`;ve.div`
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
  padding: 16px;

  @media (max-width: 1000px) {
    grid-template-columns: 1fr; // 작은 화면에서는 1열로 보여줍니다.
  }
`;const bb=ve.div`
  margin: 10px;
  font-size: 5vmin;
  color: white;
`,Rb=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),yu=_.createContext({}),vu=_.createContext(null),wu=typeof document<"u",jl=wu?_.useLayoutEffect:_.useEffect,Cb=_.createContext({strict:!1});function vD(e,t,n,r){const{visualElement:i}=_.useContext(yu),s=_.useContext(Cb),o=_.useContext(vu),a=_.useContext(Rb).reducedMotion,c=_.useRef();r=r||s.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const l=c.current;return _.useInsertionEffect(()=>{l&&l.update(n,o)}),jl(()=>{l&&l.render()}),_.useEffect(()=>{l&&l.updateFeatures()}),(window.HandoffAppearAnimations?jl:_.useEffect)(()=>{l&&l.animationState&&l.animationState.animateChanges()}),l}function ms(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function wD(e,t,n){return _.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ms(n)&&(n.current=r))},[t])}function va(e){return typeof e=="string"||Array.isArray(e)}function _u(e){return typeof e=="object"&&typeof e.start=="function"}const um=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dm=["initial",...um];function Su(e){return _u(e.animate)||dm.some(t=>va(e[t]))}function xb(e){return!!(Su(e)||e.variants)}function _D(e,t){if(Su(e)){const{initial:n,animate:r}=e;return{initial:n===!1||va(n)?n:void 0,animate:va(r)?r:void 0}}return e.inherit!==!1?t:{}}function SD(e){const{initial:t,animate:n}=_D(e,_.useContext(yu));return _.useMemo(()=>({initial:t,animate:n}),[Qy(t),Qy(n)])}function Qy(e){return Array.isArray(e)?e.join(" "):e}const Yy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wa={};for(const e in Yy)wa[e]={isEnabled:t=>Yy[e].some(n=>!!t[n])};function bD(e){for(const t in e)wa[t]={...wa[t],...e[t]}}const pm=_.createContext({}),Tb=_.createContext({}),RD=Symbol.for("motionComponentSymbol");function CD({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&bD(e);function s(a,c){let l;const u={..._.useContext(Rb),...a,layoutId:xD(a)},{isStatic:d}=u,p=SD(a),f=r(a,d);if(!d&&wu){p.visualElement=vD(i,f,u,t);const h=_.useContext(Tb),m=_.useContext(Cb).strict;p.visualElement&&(l=p.visualElement.loadFeatures(u,m,e,h))}return _.createElement(yu.Provider,{value:p},l&&p.visualElement?_.createElement(l,{visualElement:p.visualElement,...u}):null,n(i,a,wD(f,p.visualElement,c),f,d,p.visualElement))}const o=_.forwardRef(s);return o[RD]=i,o}function xD({layoutId:e}){const t=_.useContext(pm).id;return t&&e!==void 0?t+"-"+e:e}function TD(e){function t(r,i={}){return CD(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const ED=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fm(e){return typeof e!="string"||e.includes("-")?!1:!!(ED.indexOf(e)>-1||/[A-Z]/.test(e))}const Nl={};function PD(e){Object.assign(Nl,e)}const Da=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ti=new Set(Da);function Eb(e,{layout:t,layoutId:n}){return Ti.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Nl[e]||e==="opacity")}const Et=e=>!!(e&&e.getVelocity),kD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DD=Da.length;function LD(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<DD;o++){const a=Da[o];if(e[a]!==void 0){const c=kD[a]||a;s+=`${c}(${e[a]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(e,r?"":s):n&&r&&(s="none"),s}const Pb=e=>t=>typeof t=="string"&&t.startsWith(e),kb=Pb("--"),Pf=Pb("var(--"),AD=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,OD=(e,t)=>t&&typeof e=="number"?t.transform(e):e,zr=(e,t,n)=>Math.min(Math.max(n,e),t),Ei={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},zo={...Ei,transform:e=>zr(0,1,e)},gc={...Ei,default:1},Ho=e=>Math.round(e*1e5)/1e5,bu=/(-)?([\d]*\.?[\d])+/g,Db=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,MD=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function La(e){return typeof e=="string"}const Aa=e=>({test:t=>La(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),yr=Aa("deg"),Ln=Aa("%"),z=Aa("px"),ID=Aa("vh"),jD=Aa("vw"),Xy={...Ln,parse:e=>Ln.parse(e)/100,transform:e=>Ln.transform(e*100)},Jy={...Ei,transform:Math.round},Lb={borderWidth:z,borderTopWidth:z,borderRightWidth:z,borderBottomWidth:z,borderLeftWidth:z,borderRadius:z,radius:z,borderTopLeftRadius:z,borderTopRightRadius:z,borderBottomRightRadius:z,borderBottomLeftRadius:z,width:z,maxWidth:z,height:z,maxHeight:z,size:z,top:z,right:z,bottom:z,left:z,padding:z,paddingTop:z,paddingRight:z,paddingBottom:z,paddingLeft:z,margin:z,marginTop:z,marginRight:z,marginBottom:z,marginLeft:z,rotate:yr,rotateX:yr,rotateY:yr,rotateZ:yr,scale:gc,scaleX:gc,scaleY:gc,scaleZ:gc,skew:yr,skewX:yr,skewY:yr,distance:z,translateX:z,translateY:z,translateZ:z,x:z,y:z,z,perspective:z,transformPerspective:z,opacity:zo,originX:Xy,originY:Xy,originZ:z,zIndex:Jy,fillOpacity:zo,strokeOpacity:zo,numOctaves:Jy};function hm(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=e;let c=!1,l=!1,u=!0;for(const d in t){const p=t[d];if(kb(d)){s[d]=p;continue}const f=Lb[d],h=OD(p,f);if(Ti.has(d)){if(c=!0,o[d]=h,!u)continue;p!==(f.default||0)&&(u=!1)}else d.startsWith("origin")?(l=!0,a[d]=h):i[d]=h}if(t.transform||(c||r?i.transform=LD(e.transform,n,u,r):i.transform&&(i.transform="none")),l){const{originX:d="50%",originY:p="50%",originZ:f=0}=a;i.transformOrigin=`${d} ${p} ${f}`}}const mm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ab(e,t,n){for(const r in t)!Et(t[r])&&!Eb(r,n)&&(e[r]=t[r])}function ND({transformTemplate:e},t,n){return _.useMemo(()=>{const r=mm();return hm(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function FD(e,t,n){const r=e.style||{},i={};return Ab(i,r,e),Object.assign(i,ND(e,t,n)),e.transformValues?e.transformValues(i):i}function BD(e,t,n){const r={},i=FD(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const $D=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Fl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||$D.has(e)}let Ob=e=>!Fl(e);function UD(e){e&&(Ob=t=>t.startsWith("on")?!Fl(t):e(t))}try{UD(require("@emotion/is-prop-valid").default)}catch{}function VD(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(Ob(i)||n===!0&&Fl(i)||!t&&!Fl(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Zy(e,t,n){return typeof e=="string"?e:z.transform(t+n*e)}function zD(e,t,n){const r=Zy(t,e.x,e.width),i=Zy(n,e.y,e.height);return`${r} ${i}`}const HD={offset:"stroke-dashoffset",array:"stroke-dasharray"},WD={offset:"strokeDashoffset",array:"strokeDasharray"};function GD(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?HD:WD;e[s.offset]=z.transform(-r);const o=z.transform(t),a=z.transform(n);e[s.array]=`${o} ${a}`}function gm(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...l},u,d,p){if(hm(e,l,u,p),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h,dimensions:m}=e;f.transform&&(m&&(h.transform=f.transform),delete f.transform),m&&(i!==void 0||s!==void 0||h.transform)&&(h.transformOrigin=zD(m,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&GD(f,o,a,c,!1)}const Mb=()=>({...mm(),attrs:{}}),ym=e=>typeof e=="string"&&e.toLowerCase()==="svg";function KD(e,t,n,r){const i=_.useMemo(()=>{const s=Mb();return gm(s,t,{enableHardwareAcceleration:!1},ym(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};Ab(s,e.style,e),i.style={...s,...i.style}}return i}function qD(e=!1){return(n,r,i,{latestValues:s},o)=>{const c=(fm(n)?KD:BD)(r,s,o,n),u={...VD(r,typeof n=="string",e),...c,ref:i},{children:d}=r,p=_.useMemo(()=>Et(d)?d.get():d,[d]);return _.createElement(n,{...u,children:p})}}const vm=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function Ib(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const jb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Nb(e,t,n,r){Ib(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(jb.has(i)?i:vm(i),t.attrs[i])}function wm(e,t){const{style:n}=e,r={};for(const i in n)(Et(n[i])||t.style&&Et(t.style[i])||Eb(i,e))&&(r[i]=n[i]);return r}function Fb(e,t){const n=wm(e,t);for(const r in e)if(Et(e[r])||Et(t[r])){const i=Da.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function _m(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function Bb(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const Bl=e=>Array.isArray(e),QD=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),YD=e=>Bl(e)?e[e.length-1]||0:e;function Yc(e){const t=Et(e)?e.get():e;return QD(t)?t.toValue():t}function XD({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const o={latestValues:JD(r,i,s,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const $b=e=>(t,n)=>{const r=_.useContext(yu),i=_.useContext(vu),s=()=>XD(e,t,r,i);return n?s():Bb(s)};function JD(e,t,n,r){const i={},s=r(e,{});for(const p in s)i[p]=Yc(s[p]);let{initial:o,animate:a}=e;const c=Su(e),l=xb(e);t&&l&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;return d&&typeof d!="boolean"&&!_u(d)&&(Array.isArray(d)?d:[d]).forEach(f=>{const h=_m(e,f);if(!h)return;const{transitionEnd:m,transition:w,...v}=h;for(const g in v){let y=v[g];if(Array.isArray(y)){const S=u?y.length-1:0;y=y[S]}y!==null&&(i[g]=y)}for(const g in m)i[g]=m[g]}),i}const ZD={useVisualState:$b({scrapeMotionValuesFromProps:Fb,createRenderState:Mb,onMount:(e,t,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}gm(n,r,{enableHardwareAcceleration:!1},ym(t.tagName),e.transformTemplate),Nb(t,n)}})},eL={useVisualState:$b({scrapeMotionValuesFromProps:wm,createRenderState:mm})};function tL(e,{forwardMotionProps:t=!1},n,r){return{...fm(e)?ZD:eL,preloadedFeatures:n,useRender:qD(t),createVisualElement:r,Component:e}}function qn(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Ub=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Ru(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const nL=e=>t=>Ub(t)&&e(t,Ru(t));function Yn(e,t,n,r){return qn(e,t,nL(n),r)}const rL=(e,t)=>n=>t(e(n)),jr=(...e)=>e.reduce(rL);function Vb(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const ev=Vb("dragHorizontal"),tv=Vb("dragVertical");function zb(e){let t=!1;if(e==="y")t=tv();else if(e==="x")t=ev();else{const n=ev(),r=tv();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Hb(){const e=zb(!0);return e?(e(),!1):!0}class Qr{constructor(t){this.isMounted=!1,this.node=t}update(){}}const Ne=e=>e;function iL(e){let t=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(c,l=!1,u=!1)=>{const d=u&&i,p=d?t:n;return l&&o.add(c),p.indexOf(c)===-1&&(p.push(c),d&&i&&(r=t.length)),c},cancel:c=>{const l=n.indexOf(c);l!==-1&&n.splice(l,1),o.delete(c)},process:c=>{if(i){s=!0;return}if(i=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let l=0;l<r;l++){const u=t[l];u(c),o.has(u)&&(a.schedule(u),e())}i=!1,s&&(s=!1,a.process(c))}};return a}const yc=["prepare","read","update","preRender","render","postRender"],sL=40;function oL(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=yc.reduce((d,p)=>(d[p]=iL(()=>n=!0),d),{}),o=d=>s[d].process(i),a=d=>{n=!1,i.delta=r?1e3/60:Math.max(Math.min(d-i.timestamp,sL),1),i.timestamp=d,i.isProcessing=!0,yc.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(a))},c=()=>{n=!0,r=!0,i.isProcessing||e(a)};return{schedule:yc.reduce((d,p)=>{const f=s[p];return d[p]=(h,m=!1,w=!1)=>(n||c(),f.schedule(h,m,w)),d},{}),cancel:d=>yc.forEach(p=>s[p].cancel(d)),state:i,steps:s}}const{schedule:ke,cancel:ir,state:dt,steps:Id}=oL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ne,!0);function nv(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||Hb())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&ke.update(()=>a[r](s,o))};return Yn(e.current,n,i,{passive:!e.getProps()[r]})}class aL extends Qr{mount(){this.unmount=jr(nv(this.node,!0),nv(this.node,!1))}unmount(){}}class cL extends Qr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jr(qn(this.node.current,"focus",()=>this.onFocus()),qn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Wb=(e,t)=>t?e===t?!0:Wb(e,t.parentElement):!1;function jd(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Ru(n))}class lL extends Qr{constructor(){super(...arguments),this.removeStartListeners=Ne,this.removeEndListeners=Ne,this.removeAccessibleListeners=Ne,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=Yn(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:u}=this.node.getProps();ke.update(()=>{Wb(this.node.current,a.target)?l&&l(a,c):u&&u(a,c)})},{passive:!(r.onTap||r.onPointerUp)}),o=Yn(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=jr(s,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||jd("up",(c,l)=>{const{onTap:u}=this.node.getProps();u&&ke.update(()=>u(c,l))})};this.removeEndListeners(),this.removeEndListeners=qn(this.node.current,"keyup",o),jd("down",(a,c)=>{this.startPress(a,c)})},n=qn(this.node.current,"keydown",t),r=()=>{this.isPressing&&jd("cancel",(s,o)=>this.cancelPress(s,o))},i=qn(this.node.current,"blur",r);this.removeAccessibleListeners=jr(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ke.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Hb()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ke.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Yn(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=qn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=jr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const kf=new WeakMap,Nd=new WeakMap,uL=e=>{const t=kf.get(e.target);t&&t(e)},dL=e=>{e.forEach(uL)};function pL({root:e,...t}){const n=e||document;Nd.has(n)||Nd.set(n,{});const r=Nd.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(dL,{root:e,...t})),r[i]}function fL(e,t,n){const r=pL(t);return kf.set(e,n),r.observe(e),()=>{kf.delete(e),r.unobserve(e)}}const hL={some:0,all:1};class mL extends Qr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:hL[i]},a=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,s&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),p=l?u:d;p&&p(c)};return fL(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(gL(t,n))&&this.startObserver()}unmount(){}}function gL({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const yL={inView:{Feature:mL},tap:{Feature:lL},focus:{Feature:cL},hover:{Feature:aL}};function Gb(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function vL(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function wL(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Cu(e,t,n){const r=e.getProps();return _m(r,t,n!==void 0?n:r.custom,vL(e),wL(e))}const _L="framerAppearId",SL="data-"+vm(_L);let bL=Ne,Sm=Ne;const Nr=e=>e*1e3,Xn=e=>e/1e3,RL={current:!1},Kb=e=>Array.isArray(e)&&typeof e[0]=="number";function qb(e){return!!(!e||typeof e=="string"&&Qb[e]||Kb(e)||Array.isArray(e)&&e.every(qb))}const Do=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Qb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Do([0,.65,.55,1]),circOut:Do([.55,0,1,.45]),backIn:Do([.31,.01,.66,-.59]),backOut:Do([.33,1.53,.69,.99])};function Yb(e){if(e)return Kb(e)?Do(e):Array.isArray(e)?e.map(Yb):Qb[e]}function CL(e,t,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:c}={}){const l={[t]:n};c&&(l.offset=c);const u=Yb(a);return Array.isArray(u)&&(l.easing=u),e.animate(l,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function xL(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Xb=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,TL=1e-7,EL=12;function PL(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=Xb(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>TL&&++a<EL);return o}function Oa(e,t,n,r){if(e===t&&n===r)return Ne;const i=s=>PL(s,0,1,e,n);return s=>s===0||s===1?s:Xb(i(s),t,r)}const kL=Oa(.42,0,1,1),DL=Oa(0,0,.58,1),Jb=Oa(.42,0,.58,1),LL=e=>Array.isArray(e)&&typeof e[0]!="number",Zb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,eR=e=>t=>1-e(1-t),tR=e=>1-Math.sin(Math.acos(e)),bm=eR(tR),AL=Zb(bm),nR=Oa(.33,1.53,.69,.99),Rm=eR(nR),OL=Zb(Rm),ML=e=>(e*=2)<1?.5*Rm(e):.5*(2-Math.pow(2,-10*(e-1))),IL={linear:Ne,easeIn:kL,easeInOut:Jb,easeOut:DL,circIn:tR,circInOut:AL,circOut:bm,backIn:Rm,backInOut:OL,backOut:nR,anticipate:ML},rv=e=>{if(Array.isArray(e)){Sm(e.length===4);const[t,n,r,i]=e;return Oa(t,n,r,i)}else if(typeof e=="string")return IL[e];return e},Cm=(e,t)=>n=>!!(La(n)&&MD.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),rR=(e,t,n)=>r=>{if(!La(r))return r;const[i,s,o,a]=r.match(bu);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},jL=e=>zr(0,255,e),Fd={...Ei,transform:e=>Math.round(jL(e))},li={test:Cm("rgb","red"),parse:rR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Fd.transform(e)+", "+Fd.transform(t)+", "+Fd.transform(n)+", "+Ho(zo.transform(r))+")"};function NL(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Df={test:Cm("#"),parse:NL,transform:li.transform},gs={test:Cm("hsl","hue"),parse:rR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ln.transform(Ho(t))+", "+Ln.transform(Ho(n))+", "+Ho(zo.transform(r))+")"},mt={test:e=>li.test(e)||Df.test(e)||gs.test(e),parse:e=>li.test(e)?li.parse(e):gs.test(e)?gs.parse(e):Df.parse(e),transform:e=>La(e)?e:e.hasOwnProperty("red")?li.transform(e):gs.transform(e)},Oe=(e,t,n)=>-n*e+n*t+e;function Bd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function FL({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;i=Bd(c,a,e+1/3),s=Bd(c,a,e),o=Bd(c,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const $d=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},BL=[Df,li,gs],$L=e=>BL.find(t=>t.test(e));function iv(e){const t=$L(e);let n=t.parse(e);return t===gs&&(n=FL(n)),n}const iR=(e,t)=>{const n=iv(e),r=iv(t),i={...n};return s=>(i.red=$d(n.red,r.red,s),i.green=$d(n.green,r.green,s),i.blue=$d(n.blue,r.blue,s),i.alpha=Oe(n.alpha,r.alpha,s),li.transform(i))};function UL(e){var t,n;return isNaN(e)&&La(e)&&(((t=e.match(bu))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Db))===null||n===void 0?void 0:n.length)||0)>0}const sR={regex:AD,countKey:"Vars",token:"${v}",parse:Ne},oR={regex:Db,countKey:"Colors",token:"${c}",parse:mt.parse},aR={regex:bu,countKey:"Numbers",token:"${n}",parse:Ei.parse};function Ud(e,{regex:t,countKey:n,token:r,parse:i}){const s=e.tokenised.match(t);s&&(e["num"+n]=s.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...s.map(i)))}function $l(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Ud(n,sR),Ud(n,oR),Ud(n,aR),n}function cR(e){return $l(e).values}function lR(e){const{values:t,numColors:n,numVars:r,tokenised:i}=$l(e),s=t.length;return o=>{let a=i;for(let c=0;c<s;c++)c<r?a=a.replace(sR.token,o[c]):c<r+n?a=a.replace(oR.token,mt.transform(o[c])):a=a.replace(aR.token,Ho(o[c]));return a}}const VL=e=>typeof e=="number"?0:e;function zL(e){const t=cR(e);return lR(e)(t.map(VL))}const Hr={test:UL,parse:cR,createTransformer:lR,getAnimatableNone:zL},uR=(e,t)=>n=>`${n>0?t:e}`;function dR(e,t){return typeof e=="number"?n=>Oe(e,t,n):mt.test(e)?iR(e,t):e.startsWith("var(")?uR(e,t):fR(e,t)}const pR=(e,t)=>{const n=[...e],r=n.length,i=e.map((s,o)=>dR(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},HL=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=dR(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},fR=(e,t)=>{const n=Hr.createTransformer(t),r=$l(e),i=$l(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?jr(pR(r.values,i.values),n):uR(e,t)},_a=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},sv=(e,t)=>n=>Oe(e,t,n);function WL(e){return typeof e=="number"?sv:typeof e=="string"?mt.test(e)?iR:fR:Array.isArray(e)?pR:typeof e=="object"?HL:sv}function GL(e,t,n){const r=[],i=n||WL(e[0]),s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ne:t;a=jr(c,a)}r.push(a)}return r}function hR(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(Sm(s===t.length),s===1)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=GL(t,r,i),a=o.length,c=l=>{let u=0;if(a>1)for(;u<e.length-2&&!(l<e[u+1]);u++);const d=_a(e[u],e[u+1],l);return o[u](d)};return n?l=>c(zr(e[0],e[s-1],l)):c}function KL(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=_a(0,t,r);e.push(Oe(n,1,i))}}function qL(e){const t=[0];return KL(t,e.length-1),t}function QL(e,t){return e.map(n=>n*t)}function YL(e,t){return e.map(()=>t||Jb).splice(0,e.length-1)}function Ul({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=LL(r)?r.map(rv):rv(r),s={done:!1,value:t[0]},o=QL(n&&n.length===t.length?n:qL(t),e),a=hR(o,t,{ease:Array.isArray(i)?i:YL(t,i)});return{calculatedDuration:e,next:c=>(s.value=a(c),s.done=c>=e,s)}}function mR(e,t){return t?e*(1e3/t):0}const XL=5;function gR(e,t,n){const r=Math.max(t-XL,0);return mR(n-e(r),t-r)}const Vd=.001,JL=.01,ov=10,ZL=.05,eA=1;function tA({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,s;bL(e<=Nr(ov));let o=1-t;o=zr(ZL,eA,o),e=zr(JL,ov,Xn(e)),o<1?(i=l=>{const u=l*o,d=u*e,p=u-n,f=Lf(l,o),h=Math.exp(-d);return Vd-p/f*h},s=l=>{const d=l*o*e,p=d*n+n,f=Math.pow(o,2)*Math.pow(l,2)*e,h=Math.exp(-d),m=Lf(Math.pow(l,2),o);return(-i(l)+Vd>0?-1:1)*((p-f)*h)/m}):(i=l=>{const u=Math.exp(-l*e),d=(l-n)*e+1;return-Vd+u*d},s=l=>{const u=Math.exp(-l*e),d=(n-l)*(e*e);return u*d});const a=5/e,c=rA(i,s,a);if(e=Nr(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const l=Math.pow(c,2)*r;return{stiffness:l,damping:o*2*Math.sqrt(r*l),duration:e}}}const nA=12;function rA(e,t,n){let r=n;for(let i=1;i<nA;i++)r=r-e(r)/t(r);return r}function Lf(e,t){return e*Math.sqrt(1-t*t)}const iA=["duration","bounce"],sA=["stiffness","damping","mass"];function av(e,t){return t.some(n=>e[n]!==void 0)}function oA(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!av(e,sA)&&av(e,iA)){const n=tA(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function yR({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],s=e[e.length-1],o={done:!1,value:i},{stiffness:a,damping:c,mass:l,velocity:u,duration:d,isResolvedFromDuration:p}=oA(r),f=u?-Xn(u):0,h=c/(2*Math.sqrt(a*l)),m=s-i,w=Xn(Math.sqrt(a/l)),v=Math.abs(m)<5;n||(n=v?.01:2),t||(t=v?.005:.5);let g;if(h<1){const y=Lf(w,h);g=S=>{const R=Math.exp(-h*w*S);return s-R*((f+h*w*m)/y*Math.sin(y*S)+m*Math.cos(y*S))}}else if(h===1)g=y=>s-Math.exp(-w*y)*(m+(f+w*m)*y);else{const y=w*Math.sqrt(h*h-1);g=S=>{const R=Math.exp(-h*w*S),x=Math.min(y*S,300);return s-R*((f+h*w*m)*Math.sinh(x)+y*m*Math.cosh(x))/y}}return{calculatedDuration:p&&d||null,next:y=>{const S=g(y);if(p)o.done=y>=d;else{let R=f;y!==0&&(h<1?R=gR(g,y,S):R=0);const x=Math.abs(R)<=n,C=Math.abs(s-S)<=t;o.done=x&&C}return o.value=o.done?s:S,o}}}function cv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:l=.5,restSpeed:u}){const d=e[0],p={done:!1,value:d},f=P=>a!==void 0&&P<a||c!==void 0&&P>c,h=P=>a===void 0?c:c===void 0||Math.abs(a-P)<Math.abs(c-P)?a:c;let m=n*t;const w=d+m,v=o===void 0?w:o(w);v!==w&&(m=v-d);const g=P=>-m*Math.exp(-P/r),y=P=>v+g(P),S=P=>{const M=g(P),I=y(P);p.done=Math.abs(M)<=l,p.value=p.done?v:I};let R,x;const C=P=>{f(p.value)&&(R=P,x=yR({keyframes:[p.value,h(p.value)],velocity:gR(y,P,p.value),damping:i,stiffness:s,restDelta:l,restSpeed:u}))};return C(0),{calculatedDuration:null,next:P=>{let M=!1;return!x&&R===void 0&&(M=!0,S(P),C(P)),R!==void 0&&P>R?x.next(P-R):(!M&&S(P),p)}}}const aA=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ke.update(t,!0),stop:()=>ir(t),now:()=>dt.isProcessing?dt.timestamp:performance.now()}},lv=2e4;function uv(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<lv;)t+=n,r=e.next(t);return t>=lv?1/0:t}const cA={decay:cv,inertia:cv,tween:Ul,keyframes:Ul,spring:yR};function Vl({autoplay:e=!0,delay:t=0,driver:n=aA,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:c,onStop:l,onComplete:u,onUpdate:d,...p}){let f=1,h=!1,m,w;const v=()=>{w=new Promise(O=>{m=O})};v();let g;const y=cA[i]||Ul;let S;y!==Ul&&typeof r[0]!="number"&&(S=hR([0,100],r,{clamp:!1}),r=[0,100]);const R=y({...p,keyframes:r});let x;a==="mirror"&&(x=y({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let C="idle",P=null,M=null,I=null;R.calculatedDuration===null&&s&&(R.calculatedDuration=uv(R));const{calculatedDuration:W}=R;let Q=1/0,fe=1/0;W!==null&&(Q=W+o,fe=Q*(s+1)-o);let te=0;const de=O=>{if(M===null)return;f>0&&(M=Math.min(M,O)),f<0&&(M=Math.min(O-fe/f,M)),P!==null?te=P:te=Math.round(O-M)*f;const G=te-t*(f>=0?1:-1),se=f>=0?G<0:G>fe;te=Math.max(G,0),C==="finished"&&P===null&&(te=fe);let he=te,Ee=R;if(s){const nt=te/Q;let Le=Math.floor(nt),ht=nt%1;!ht&&nt>=1&&(ht=1),ht===1&&Le--,Le=Math.min(Le,s+1);const Bt=!!(Le%2);Bt&&(a==="reverse"?(ht=1-ht,o&&(ht-=o/Q)):a==="mirror"&&(Ee=x));let Xt=zr(0,1,ht);te>fe&&(Xt=a==="reverse"&&Bt?1:0),he=Xt*Q}const pe=se?{done:!1,value:r[0]}:Ee.next(he);S&&(pe.value=S(pe.value));let{done:De}=pe;!se&&W!==null&&(De=f>=0?te>=fe:te<=0);const Ft=P===null&&(C==="finished"||C==="running"&&De);return d&&d(pe.value),Ft&&T(),pe},le=()=>{g&&g.stop(),g=void 0},ie=()=>{C="idle",le(),m(),v(),M=I=null},T=()=>{C="finished",u&&u(),le(),m()},D=()=>{if(h)return;g||(g=n(de));const O=g.now();c&&c(),P!==null?M=O-P:(!M||C==="finished")&&(M=O),C==="finished"&&v(),I=M,P=null,C="running",g.start()};e&&D();const A={then(O,G){return w.then(O,G)},get time(){return Xn(te)},set time(O){O=Nr(O),te=O,P!==null||!g||f===0?P=O:M=g.now()-O/f},get duration(){const O=R.calculatedDuration===null?uv(R):R.calculatedDuration;return Xn(O)},get speed(){return f},set speed(O){O===f||!g||(f=O,A.time=Xn(te))},get state(){return C},play:D,pause:()=>{C="paused",P=te},stop:()=>{h=!0,C!=="idle"&&(C="idle",l&&l(),ie())},cancel:()=>{I!==null&&de(I),ie()},complete:()=>{C="finished"},sample:O=>(M=0,de(O))};return A}function lA(e){let t;return()=>(t===void 0&&(t=e()),t)}const uA=lA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),dA=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),vc=10,pA=2e4,fA=(e,t)=>t.type==="spring"||e==="backgroundColor"||!qb(t.ease);function hA(e,t,{onUpdate:n,onComplete:r,...i}){if(!(uA()&&dA.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,c;const l=()=>{c=new Promise(g=>{a=g})};l();let{keyframes:u,duration:d=300,ease:p,times:f}=i;if(fA(t,i)){const g=Vl({...i,repeat:0,delay:0});let y={done:!1,value:u[0]};const S=[];let R=0;for(;!y.done&&R<pA;)y=g.sample(R),S.push(y.value),R+=vc;f=void 0,u=S,d=R-vc,p="linear"}const h=CL(e.owner.current,t,u,{...i,duration:d,ease:p,times:f}),m=()=>h.cancel(),w=()=>{ke.update(m),a(),l()};return h.onfinish=()=>{e.set(xL(u,i)),r&&r(),w()},{then(g,y){return c.then(g,y)},attachTimeline(g){return h.timeline=g,h.onfinish=null,Ne},get time(){return Xn(h.currentTime||0)},set time(g){h.currentTime=Nr(g)},get speed(){return h.playbackRate},set speed(g){h.playbackRate=g},get duration(){return Xn(d)},play:()=>{o||(h.play(),ir(m))},pause:()=>h.pause(),stop:()=>{if(o=!0,h.playState==="idle")return;const{currentTime:g}=h;if(g){const y=Vl({...i,autoplay:!1});e.setWithVelocity(y.sample(g-vc).value,y.sample(g).value,vc)}w()},complete:()=>h.finish(),cancel:w}}function mA({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ne,pause:Ne,stop:Ne,then:s=>(s(),Promise.resolve()),cancel:Ne,complete:Ne});return t?Vl({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const gA={type:"spring",stiffness:500,damping:25,restSpeed:10},yA=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),vA={type:"keyframes",duration:.8},wA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_A=(e,{keyframes:t})=>t.length>2?vA:Ti.has(e)?e.startsWith("scale")?yA(t[1]):gA:wA,Af=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Hr.test(t)||t==="0")&&!t.startsWith("url(")),SA=new Set(["brightness","contrast","saturate","opacity"]);function bA(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(bu)||[];if(!r)return e;const i=n.replace(r,"");let s=SA.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const RA=/([a-z-]*)\(.*?\)/g,Of={...Hr,getAnimatableNone:e=>{const t=e.match(RA);return t?t.map(bA).join(" "):e}},CA={...Lb,color:mt,backgroundColor:mt,outlineColor:mt,fill:mt,stroke:mt,borderColor:mt,borderTopColor:mt,borderRightColor:mt,borderBottomColor:mt,borderLeftColor:mt,filter:Of,WebkitFilter:Of},xm=e=>CA[e];function vR(e,t){let n=xm(e);return n!==Of&&(n=Hr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const wR=e=>/^0[^.\s]+$/.test(e);function xA(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||wR(e)}function TA(e,t,n,r){const i=Af(t,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:e.get();let a;const c=[];for(let l=0;l<s.length;l++)s[l]===null&&(s[l]=l===0?o:s[l-1]),xA(s[l])&&c.push(l),typeof s[l]=="string"&&s[l]!=="none"&&s[l]!=="0"&&(a=s[l]);if(i&&c.length&&a)for(let l=0;l<c.length;l++){const u=c[l];s[u]=vR(t,a)}return s}function EA({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:l,...u}){return!!Object.keys(u).length}function _R(e,t){return e[t]||e.default||e}const Tm=(e,t,n,r={})=>i=>{const s=_R(r,e)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Nr(o);const c=TA(t,e,n,s),l=c[0],u=c[c.length-1],d=Af(e,l),p=Af(e,u);let f={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:h=>{t.set(h),s.onUpdate&&s.onUpdate(h)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(EA(s)||(f={...f,..._A(e,f)}),f.duration&&(f.duration=Nr(f.duration)),f.repeatDelay&&(f.repeatDelay=Nr(f.repeatDelay)),!d||!p||RL.current||s.type===!1)return mA(f);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const h=hA(t,e,f);if(h)return h}return Vl(f)};function zl(e){return!!(Et(e)&&e.add)}const PA=e=>/^\-?\d*\.?\d+$/.test(e);function Em(e,t){e.indexOf(t)===-1&&e.push(t)}function Pm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class km{constructor(){this.subscriptions=[]}add(t){return Em(this.subscriptions,t),()=>Pm(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kA=e=>!isNaN(parseFloat(e));class DA{constructor(t,n={}){this.version="10.15.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=dt;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,ke.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ke.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=kA(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new km);const r=this.events[t].add(n);return t==="change"?()=>{r(),ke.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?mR(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vs(e,t){return new DA(e,t)}const SR=e=>t=>t.test(e),LA={test:e=>e==="auto",parse:e=>e},bR=[Ei,z,Ln,yr,jD,ID,LA],mo=e=>bR.find(SR(e)),AA=[...bR,mt,Hr],OA=e=>AA.find(SR(e));function MA(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Vs(n))}function IA(e,t){const n=Cu(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=YD(s[o]);MA(e,o,a)}}function jA(e,t,n){var r,i;const s=Object.keys(t).filter(a=>!e.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const c=s[a],l=t[c];let u=null;Array.isArray(l)&&(u=l[0]),u===null&&(u=(i=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&i!==void 0?i:t[c]),u!=null&&(typeof u=="string"&&(PA(u)||wR(u))?u=parseFloat(u):!OA(u)&&Hr.test(l)&&(u=vR(c,l)),e.addValue(c,Vs(u,{owner:e})),n[c]===void 0&&(n[c]=u),u!==null&&e.setBaseTarget(c,u))}}function NA(e,t){return t?(t[e]||t.default||t).from:void 0}function FA(e,t,n){const r={};for(const i in e){const s=NA(i,t);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function BA({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function RR(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(s=r);const l=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in a){const p=e.getValue(d),f=a[d];if(!p||f===void 0||u&&BA(u,d))continue;const h={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const w=e.getProps()[SL];w&&(h.elapsed=window.HandoffAppearAnimations(w,d,p,ke))}p.start(Tm(d,p,f,e.shouldReduceMotion&&Ti.has(d)?{type:!1}:h));const m=p.animation;zl(c)&&(c.add(d),m.then(()=>c.remove(d))),l.push(m)}return o&&Promise.all(l).then(()=>{o&&IA(e,o)}),l}function Mf(e,t,n={}){const r=Cu(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(RR(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:l=0,staggerChildren:u,staggerDirection:d}=i;return $A(e,t,l+c,u,d,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,l]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>l())}else return Promise.all([s(),o(n.delay)])}function $A(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,c=i===1?(l=0)=>l*r:(l=0)=>a-l*r;return Array.from(e.variantChildren).sort(UA).forEach((l,u)=>{l.notify("AnimationStart",t),o.push(Mf(l,t,{...s,delay:n+c(u)}).then(()=>l.notify("AnimationComplete",t)))}),Promise.all(o)}function UA(e,t){return e.sortNodePosition(t)}function VA(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>Mf(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=Mf(e,t,n);else{const i=typeof t=="function"?Cu(e,t,n.custom):t;r=Promise.all(RR(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const zA=[...um].reverse(),HA=um.length;function WA(e){return t=>Promise.all(t.map(({animation:n,options:r})=>VA(e,n,r)))}function GA(e){let t=WA(e);const n=qA();let r=!0;const i=(c,l)=>{const u=Cu(e,l);if(u){const{transition:d,transitionEnd:p,...f}=u;c={...c,...f,...p}}return c};function s(c){t=c(e)}function o(c,l){const u=e.getProps(),d=e.getVariantContext(!0)||{},p=[],f=new Set;let h={},m=1/0;for(let v=0;v<HA;v++){const g=zA[v],y=n[g],S=u[g]!==void 0?u[g]:d[g],R=va(S),x=g===l?y.isActive:null;x===!1&&(m=v);let C=S===d[g]&&S!==u[g]&&R;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),y.protectedKeys={...h},!y.isActive&&x===null||!S&&!y.prevProp||_u(S)||typeof S=="boolean")continue;const P=KA(y.prevProp,S);let M=P||g===l&&y.isActive&&!C&&R||v>m&&R;const I=Array.isArray(S)?S:[S];let W=I.reduce(i,{});x===!1&&(W={});const{prevResolvedValues:Q={}}=y,fe={...Q,...W},te=de=>{M=!0,f.delete(de),y.needsAnimating[de]=!0};for(const de in fe){const le=W[de],ie=Q[de];h.hasOwnProperty(de)||(le!==ie?Bl(le)&&Bl(ie)?!Gb(le,ie)||P?te(de):y.protectedKeys[de]=!0:le!==void 0?te(de):f.add(de):le!==void 0&&f.has(de)?te(de):y.protectedKeys[de]=!0)}y.prevProp=S,y.prevResolvedValues=W,y.isActive&&(h={...h,...W}),r&&e.blockInitialAnimation&&(M=!1),M&&!C&&p.push(...I.map(de=>({animation:de,options:{type:g,...c}})))}if(f.size){const v={};f.forEach(g=>{const y=e.getBaseTarget(g);y!==void 0&&(v[g]=y)}),p.push({animation:v})}let w=!!p.length;return r&&u.initial===!1&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(p):Promise.resolve()}function a(c,l,u){var d;if(n[c].isActive===l)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var h;return(h=f.animationState)===null||h===void 0?void 0:h.setActive(c,l)}),n[c].isActive=l;const p=o(u,c);for(const f in n)n[f].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function KA(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Gb(t,e):!1}function Yr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qA(){return{animate:Yr(!0),whileInView:Yr(),whileHover:Yr(),whileTap:Yr(),whileDrag:Yr(),whileFocus:Yr(),exit:Yr()}}class QA extends Qr{constructor(t){super(t),t.animationState||(t.animationState=GA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),_u(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let YA=0;class XA extends Qr{constructor(){super(...arguments),this.id=YA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const JA={animation:{Feature:QA},exit:{Feature:XA}},dv=(e,t)=>Math.abs(e-t);function ZA(e,t){const n=dv(e.x,t.x),r=dv(e.y,t.y);return Math.sqrt(n**2+r**2)}class CR{constructor(t,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const l=Hd(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,d=ZA(l.offset,{x:0,y:0})>=3;if(!u&&!d)return;const{point:p}=l,{timestamp:f}=dt;this.history.push({...p,timestamp:f});const{onStart:h,onMove:m}=this.handlers;u||(h&&h(this.lastMoveEvent,l),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,l)},this.handlePointerMove=(l,u)=>{this.lastMoveEvent=l,this.lastMoveEventInfo=zd(u,this.transformPagePoint),ke.update(this.updatePoint,!0)},this.handlePointerUp=(l,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:p}=this.handlers,f=Hd(l.type==="pointercancel"?this.lastMoveEventInfo:zd(u,this.transformPagePoint),this.history);this.startEvent&&d&&d(l,f),p&&p(l,f)},!Ub(t))return;this.handlers=n,this.transformPagePoint=r;const i=Ru(t),s=zd(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=dt;this.history=[{...o,timestamp:a}];const{onSessionStart:c}=n;c&&c(t,Hd(s,this.history)),this.removeListeners=jr(Yn(window,"pointermove",this.handlePointerMove),Yn(window,"pointerup",this.handlePointerUp),Yn(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ir(this.updatePoint)}}function zd(e,t){return t?{point:t(e.point)}:e}function pv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Hd({point:e},t){return{point:e,delta:pv(e,xR(t)),offset:pv(e,eO(t)),velocity:tO(t,.1)}}function eO(e){return e[0]}function xR(e){return e[e.length-1]}function tO(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=xR(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Nr(t)));)n--;if(!r)return{x:0,y:0};const s=Xn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Mt(e){return e.max-e.min}function If(e,t=0,n=.01){return Math.abs(e-t)<=n}function fv(e,t,n,r=.5){e.origin=r,e.originPoint=Oe(t.min,t.max,e.origin),e.scale=Mt(n)/Mt(t),(If(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Oe(n.min,n.max,e.origin)-e.originPoint,(If(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Wo(e,t,n,r){fv(e.x,t.x,n.x,r?r.originX:void 0),fv(e.y,t.y,n.y,r?r.originY:void 0)}function hv(e,t,n){e.min=n.min+t.min,e.max=e.min+Mt(t)}function nO(e,t,n){hv(e.x,t.x,n.x),hv(e.y,t.y,n.y)}function mv(e,t,n){e.min=t.min-n.min,e.max=e.min+Mt(t)}function Go(e,t,n){mv(e.x,t.x,n.x),mv(e.y,t.y,n.y)}function rO(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Oe(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Oe(n,e,r.max):Math.min(e,n)),e}function gv(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function iO(e,{top:t,left:n,bottom:r,right:i}){return{x:gv(e.x,n,i),y:gv(e.y,t,r)}}function yv(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function sO(e,t){return{x:yv(e.x,t.x),y:yv(e.y,t.y)}}function oO(e,t){let n=.5;const r=Mt(e),i=Mt(t);return i>r?n=_a(t.min,t.max-r,e.min):r>i&&(n=_a(e.min,e.max-i,t.min)),zr(0,1,n)}function aO(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const jf=.35;function cO(e=jf){return e===!1?e=0:e===!0&&(e=jf),{x:vv(e,"left","right"),y:vv(e,"top","bottom")}}function vv(e,t,n){return{min:wv(e,t),max:wv(e,n)}}function wv(e,t){return typeof e=="number"?e:e[t]||0}const _v=()=>({translate:0,scale:1,origin:0,originPoint:0}),ys=()=>({x:_v(),y:_v()}),Sv=()=>({min:0,max:0}),We=()=>({x:Sv(),y:Sv()});function Rn(e){return[e("x"),e("y")]}function TR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function lO({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function uO(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Wd(e){return e===void 0||e===1}function Nf({scale:e,scaleX:t,scaleY:n}){return!Wd(e)||!Wd(t)||!Wd(n)}function ni(e){return Nf(e)||ER(e)||e.z||e.rotate||e.rotateX||e.rotateY}function ER(e){return bv(e.x)||bv(e.y)}function bv(e){return e&&e!=="0%"}function Hl(e,t,n){const r=e-n,i=t*r;return n+i}function Rv(e,t,n,r,i){return i!==void 0&&(e=Hl(e,i,r)),Hl(e,n,r)+t}function Ff(e,t=0,n=1,r,i){e.min=Rv(e.min,t,n,r,i),e.max=Rv(e.max,t,n,r,i)}function PR(e,{x:t,y:n}){Ff(e.x,t.translate,t.scale,t.originPoint),Ff(e.y,n.translate,n.scale,n.originPoint)}function dO(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const c=s.instance;c&&c.style&&c.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&vs(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,PR(e,o)),r&&ni(s.latestValues)&&vs(e,s.latestValues))}t.x=Cv(t.x),t.y=Cv(t.y)}function Cv(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Sr(e,t){e.min=e.min+t,e.max=e.max+t}function xv(e,t,[n,r,i]){const s=t[i]!==void 0?t[i]:.5,o=Oe(e.min,e.max,s);Ff(e,t[n],t[r],o,t.scale)}const pO=["x","scaleX","originX"],fO=["y","scaleY","originY"];function vs(e,t){xv(e.x,t,pO),xv(e.y,t,fO)}function kR(e,t){return TR(uO(e.getBoundingClientRect(),t))}function hO(e,t,n){const r=kR(e,n),{scroll:i}=t;return i&&(Sr(r.x,i.offset.x),Sr(r.y,i.offset.y)),r}const mO=new WeakMap;class gO{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=We(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{this.stopAnimation(),n&&this.snapToCursor(Ru(c,"page").point)},s=(c,l)=>{const{drag:u,dragPropagation:d,onDragStart:p}=this.getProps();if(u&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=zb(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rn(h=>{let m=this.getAxisMotionValue(h).get()||0;if(Ln.test(m)){const{projection:w}=this.visualElement;if(w&&w.layout){const v=w.layout.layoutBox[h];v&&(m=Mt(v)*(parseFloat(m)/100))}}this.originPoint[h]=m}),p&&ke.update(()=>p(c,l),!1,!0);const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},o=(c,l)=>{const{dragPropagation:u,dragDirectionLock:d,onDirectionLock:p,onDrag:f}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:h}=l;if(d&&this.currentDirection===null){this.currentDirection=yO(h),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",l.point,h),this.updateAxis("y",l.point,h),this.visualElement.render(),f&&f(c,l)},a=(c,l)=>this.stop(c,l);this.panSession=new CR(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ke.update(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!wc(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=rO(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;t&&ms(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=iO(r.layoutBox,t):this.constraints=!1,this.elastic=cO(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Rn(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=aO(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ms(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=hO(r,i.root,this.visualElement.getTransformPagePoint());let o=sO(i.layout.layoutBox,s);if(n){const a=n(lO(o));this.hasMutatedConstraints=!!a,a&&(o=TR(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},l=Rn(u=>{if(!wc(u,n,this.currentDirection))return;let d=c&&c[u]||{};o&&(d={min:0,max:0});const p=i?200:1e6,f=i?40:1e7,h={type:"inertia",velocity:r?t[u]:0,bounceStiffness:p,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,h)});return Promise.all(l).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(Tm(t,r,0,n))}stopAnimation(){Rn(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Rn(n=>{const{drag:r}=this.getProps();if(!wc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-Oe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ms(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Rn(o=>{const a=this.getAxisMotionValue(o);if(a){const c=a.get();i[o]=oO({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Rn(o=>{if(!wc(o,t,null))return;const a=this.getAxisMotionValue(o),{min:c,max:l}=this.constraints[o];a.set(Oe(c,l,i[o]))})}addListeners(){if(!this.visualElement.current)return;mO.set(this.visualElement,this);const t=this.visualElement.current,n=Yn(t,"pointerdown",c=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ms(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=qn(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:l})=>{this.isDragging&&l&&(Rn(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=c[u].translate,d.set(d.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=jf,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function wc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function yO(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class vO extends Qr{constructor(t){super(t),this.removeGroupControls=Ne,this.removeListeners=Ne,this.controls=new gO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ne}unmount(){this.removeGroupControls(),this.removeListeners()}}const Tv=e=>(t,n)=>{e&&ke.update(()=>e(t,n))};class wO extends Qr{constructor(){super(...arguments),this.removePointerDownListener=Ne}onPointerDown(t){this.session=new CR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Tv(t),onStart:Tv(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&ke.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Yn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function _O(){const e=_.useContext(vu);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=_.useId();return _.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const Xc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ev(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const go={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(z.test(e))e=parseFloat(e);else return e;const n=Ev(e,t.target.x),r=Ev(e,t.target.y);return`${n}% ${r}%`}},SO={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Hr.parse(e);if(i.length>5)return r;const s=Hr.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=c;const l=Oe(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=l),typeof i[3+o]=="number"&&(i[3+o]/=l),s(i)}};class bO extends Fe.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;PD(RO),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Xc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||ke.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function DR(e){const[t,n]=_O(),r=_.useContext(pm);return Fe.createElement(bO,{...e,layoutGroup:r,switchLayoutGroup:_.useContext(Tb),isPresent:t,safeToRemove:n})}const RO={borderRadius:{...go,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:go,borderTopRightRadius:go,borderBottomLeftRadius:go,borderBottomRightRadius:go,boxShadow:SO},LR=["TopLeft","TopRight","BottomLeft","BottomRight"],CO=LR.length,Pv=e=>typeof e=="string"?parseFloat(e):e,kv=e=>typeof e=="number"||z.test(e);function xO(e,t,n,r,i,s){i?(e.opacity=Oe(0,n.opacity!==void 0?n.opacity:1,TO(r)),e.opacityExit=Oe(t.opacity!==void 0?t.opacity:1,0,EO(r))):s&&(e.opacity=Oe(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<CO;o++){const a=`border${LR[o]}Radius`;let c=Dv(t,a),l=Dv(n,a);if(c===void 0&&l===void 0)continue;c||(c=0),l||(l=0),c===0||l===0||kv(c)===kv(l)?(e[a]=Math.max(Oe(Pv(c),Pv(l),r),0),(Ln.test(l)||Ln.test(c))&&(e[a]+="%")):e[a]=l}(t.rotate||n.rotate)&&(e.rotate=Oe(t.rotate||0,n.rotate||0,r))}function Dv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const TO=AR(0,.5,bm),EO=AR(.5,.95,Ne);function AR(e,t,n){return r=>r<e?0:r>t?1:n(_a(e,t,r))}function Lv(e,t){e.min=t.min,e.max=t.max}function $t(e,t){Lv(e.x,t.x),Lv(e.y,t.y)}function Av(e,t,n,r,i){return e-=t,e=Hl(e,1/n,r),i!==void 0&&(e=Hl(e,1/i,r)),e}function PO(e,t=0,n=1,r=.5,i,s=e,o=e){if(Ln.test(t)&&(t=parseFloat(t),t=Oe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Oe(s.min,s.max,r);e===s&&(a-=t),e.min=Av(e.min,t,n,a,i),e.max=Av(e.max,t,n,a,i)}function Ov(e,t,[n,r,i],s,o){PO(e,t[n],t[r],t[i],t.scale,s,o)}const kO=["x","scaleX","originX"],DO=["y","scaleY","originY"];function Mv(e,t,n,r){Ov(e.x,t,kO,n?n.x:void 0,r?r.x:void 0),Ov(e.y,t,DO,n?n.y:void 0,r?r.y:void 0)}function Iv(e){return e.translate===0&&e.scale===1}function OR(e){return Iv(e.x)&&Iv(e.y)}function LO(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function MR(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function jv(e){return Mt(e.x)/Mt(e.y)}class AO{constructor(){this.members=[]}add(t){Em(this.members,t),t.scheduleRender()}remove(t){if(Pm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Nv(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:l,rotateY:u}=n;c&&(r+=`rotate(${c}deg) `),l&&(r+=`rotateX(${l}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const OO=(e,t)=>e.depth-t.depth;class MO{constructor(){this.children=[],this.isDirty=!1}add(t){Em(this.children,t),this.isDirty=!0}remove(t){Pm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(OO),this.isDirty=!1,this.children.forEach(t)}}function IO(e,t){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(ir(r),e(s-t))};return ke.read(r,!0),()=>ir(r)}function jO(e){window.MotionDebug&&window.MotionDebug.record(e)}function NO(e){return e instanceof SVGElement&&e.tagName!=="svg"}function FO(e,t,n){const r=Et(e)?e:Vs(e);return r.start(Tm("",r,t,n)),r.animation}const Fv=["","X","Y","Z"],Bv=1e3;let BO=0;const ri={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function IR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=BO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{ri.totalNodes=ri.resolvedTargetDeltas=ri.recalculatedProjection=0,this.nodes.forEach(VO),this.nodes.forEach(KO),this.nodes.forEach(qO),this.nodes.forEach(zO),jO(ri)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new MO)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new km),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=NO(o),this.instance=o;const{layoutId:c,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(l||c)&&(this.isLayoutDirty=!0),e){let d;const p=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=IO(p,250),Xc.hasAnimatedSinceResize&&(Xc.hasAnimatedSinceResize=!1,this.nodes.forEach(Uv))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||ZO,{onLayoutAnimationStart:w,onLayoutAnimationComplete:v}=u.getProps(),g=!this.targetLayout||!MR(this.targetLayout,h)||f,y=!p&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||p&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,y);const S={..._R(m,"layout"),onPlay:w,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else p||Uv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ir(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QO),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($v);return}this.isUpdating||this.nodes.forEach(WO),this.isUpdating=!1,this.nodes.forEach(GO),this.nodes.forEach($O),this.nodes.forEach(UO),this.clearAllSnapshots();const a=performance.now();dt.delta=zr(0,1e3/60,a-dt.timestamp),dt.timestamp=a,dt.isProcessing=!0,Id.update.process(dt),Id.preRender.process(dt),Id.render.process(dt),dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(HO),this.sharedNodes.forEach(YO)}scheduleUpdateProjection(){ke.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=We(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!OR(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;o&&(a||ni(this.latestValues)||u)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),eM(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return We();const a=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Sr(a.x,c.offset.x),Sr(a.y,c.offset.y)),a}removeElementScroll(o){const a=We();$t(a,o);for(let c=0;c<this.path.length;c++){const l=this.path[c],{scroll:u,options:d}=l;if(l!==this.root&&u&&d.layoutScroll){if(u.isRoot){$t(a,o);const{scroll:p}=this.root;p&&(Sr(a.x,-p.offset.x),Sr(a.y,-p.offset.y))}Sr(a.x,u.offset.x),Sr(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const c=We();$t(c,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&vs(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ni(u.latestValues)&&vs(c,u.latestValues)}return ni(this.latestValues)&&vs(c,this.latestValues),c}removeTransform(o){const a=We();$t(a,o);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!ni(l.latestValues))continue;Nf(l.latestValues)&&l.updateSnapshot();const u=We(),d=l.measurePageBox();$t(u,d),Mv(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return ni(this.latestValues)&&Mv(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==c;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=dt.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),Go(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),$t(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=We(),this.targetWithTransforms=We()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$t(this.target,this.layout.layoutBox),PR(this.target,this.targetDelta)):$t(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),Go(this.relativeTargetOrigin,this.target,f.target),$t(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ri.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Nf(this.parent.latestValues)||ER(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(l=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===dt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;$t(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,f=this.treeScale.y;dO(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:h}=a;if(!h){this.projectionTransform&&(this.projectionDelta=ys(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ys(),this.projectionDeltaWithTransform=ys());const m=this.projectionTransform;Wo(this.projectionDelta,this.layoutCorrected,h,this.latestValues),this.projectionTransform=Nv(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==p||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h)),ri.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const c=this.snapshot,l=c?c.latestValues:{},u={...this.latestValues},d=ys();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=We(),f=c?c.source:void 0,h=this.layout?this.layout.source:void 0,m=f!==h,w=this.getStack(),v=!w||w.members.length<=1,g=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(JO));this.animationProgress=0;let y;this.mixTargetDelta=S=>{const R=S/1e3;Vv(d.x,o.x,R),Vv(d.y,o.y,R),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Go(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XO(this.relativeTarget,this.relativeTargetOrigin,p,R),y&&LO(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=We()),$t(y,this.relativeTarget)),m&&(this.animationValues=u,xO(u,l,this.latestValues,R,g,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ir(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ke.update(()=>{Xc.hasAnimatedSinceResize=!0,this.currentAnimation=FO(0,Bv,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Bv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:l,latestValues:u}=o;if(!(!a||!c||!l)){if(this!==o&&this.layout&&l&&jR(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||We();const d=Mt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+d;const p=Mt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}$t(a,c),vs(a,u),Wo(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new AO),this.sharedNodes.get(o).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const l={};for(let u=0;u<Fv.length;u++){const d="rotate"+Fv[u];c[d]&&(l[d]=c[d],o.setStaticValue(d,0))}o.render();for(const u in l)o.setStaticValue(u,l[u]);o.scheduleRender()}getProjectionStyles(o={}){var a,c;const l={};if(!this.instance||this.isSVG)return l;if(this.isVisible)l.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Yc(o.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Yc(o.pointerEvents)||""),this.hasProjected&&!ni(this.latestValues)&&(m.transform=u?u({},""):"none",this.hasProjected=!1),m}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=Nv(this.projectionDeltaWithTransform,this.treeScale,p),u&&(l.transform=u(p,l.transform));const{x:f,y:h}=this.projectionDelta;l.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,d.animationValues?l.opacity=d===this?(c=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const m in Nl){if(p[m]===void 0)continue;const{correct:w,applyTo:v}=Nl[m],g=l.transform==="none"?p[m]:w(p[m],d);if(v){const y=v.length;for(let S=0;S<y;S++)l[v[S]]=g}else l[m]=g}return this.options.layoutId&&(l.pointerEvents=d===this?Yc(o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach($v),this.root.sharedNodes.clear()}}}function $O(e){e.updateLayout()}function UO(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?Rn(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],f=Mt(p);p.min=r[d].min,p.max=p.min+f}):jR(s,n.layoutBox,r)&&Rn(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],f=Mt(r[d]);p.max=p.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+f)});const a=ys();Wo(a,r,n.layoutBox);const c=ys();o?Wo(c,e.applyTransform(i,!0),n.measuredBox):Wo(c,r,n.layoutBox);const l=!OR(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:f}=d;if(p&&f){const h=We();Go(h,n.layoutBox,p.layoutBox);const m=We();Go(m,r,f.layoutBox),MR(h,m)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=h,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function VO(e){ri.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function zO(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function HO(e){e.clearSnapshot()}function $v(e){e.clearMeasurements()}function WO(e){e.isLayoutDirty=!1}function GO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Uv(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function KO(e){e.resolveTargetDelta()}function qO(e){e.calcProjection()}function QO(e){e.resetRotation()}function YO(e){e.removeLeadSnapshot()}function Vv(e,t,n){e.translate=Oe(t.translate,0,n),e.scale=Oe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function zv(e,t,n,r){e.min=Oe(t.min,n.min,r),e.max=Oe(t.max,n.max,r)}function XO(e,t,n,r){zv(e.x,t.x,n.x,r),zv(e.y,t.y,n.y,r)}function JO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ZO={duration:.45,ease:[.4,0,.1,1]},Hv=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Wv=Hv("applewebkit/")&&!Hv("chrome/")?Math.round:Ne;function Gv(e){e.min=Wv(e.min),e.max=Wv(e.max)}function eM(e){Gv(e.x),Gv(e.y)}function jR(e,t,n){return e==="position"||e==="preserve-aspect"&&!If(jv(t),jv(n),.2)}const tM=IR({attachResizeListener:(e,t)=>qn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gd={current:void 0},NR=IR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Gd.current){const e=new tM({});e.mount(window),e.setOptions({layoutScroll:!0}),Gd.current=e}return Gd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),nM={pan:{Feature:wO},drag:{Feature:vO,ProjectionNode:NR,MeasureLayout:DR}},rM=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function iM(e){const t=rM.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Bf(e,t,n=1){const[r,i]=iM(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);return s?s.trim():Pf(i)?Bf(i,t,n+1):i}function sM(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const s=i.get();if(!Pf(s))return;const o=Bf(s,r);o&&i.set(o)});for(const i in t){const s=t[i];if(!Pf(s))continue;const o=Bf(s,r);o&&(t[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:t,transitionEnd:n}}const oM=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),FR=e=>oM.has(e),aM=e=>Object.keys(e).some(FR),Kv=e=>e===Ei||e===z,qv=(e,t)=>parseFloat(e.split(", ")[t]),Qv=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return qv(i[1],t);{const s=r.match(/^matrix\((.+)\)$/);return s?qv(s[1],e):0}},cM=new Set(["x","y","z"]),lM=Da.filter(e=>!cM.has(e));function uM(e){const t=[];return lM.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const zs={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Qv(4,13),y:Qv(5,14)};zs.translateX=zs.x;zs.translateY=zs.y;const dM=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(l=>{a[l]=zs[l](r,s)}),t.render();const c=t.measureViewportBox();return n.forEach(l=>{const u=t.getValue(l);u&&u.jump(a[l]),e[l]=zs[l](c,s)}),e},pM=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(FR);let s=[],o=!1;const a=[];if(i.forEach(c=>{const l=e.getValue(c);if(!e.hasValue(c))return;let u=n[c],d=mo(u);const p=t[c];let f;if(Bl(p)){const h=p.length,m=p[0]===null?1:0;u=p[m],d=mo(u);for(let w=m;w<h&&p[w]!==null;w++)f?Sm(mo(p[w])===f):f=mo(p[w])}else f=mo(p);if(d!==f)if(Kv(d)&&Kv(f)){const h=l.get();typeof h=="string"&&l.set(parseFloat(h)),typeof p=="string"?t[c]=parseFloat(p):Array.isArray(p)&&f===z&&(t[c]=p.map(parseFloat))}else d!=null&&d.transform&&(f!=null&&f.transform)&&(u===0||p===0)?u===0?l.set(f.transform(u)):t[c]=d.transform(p):(o||(s=uM(e),o=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:t[c],l.jump(p))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,l=dM(t,e,a);return s.length&&s.forEach(([u,d])=>{e.getValue(u).set(d)}),e.render(),wu&&c!==null&&window.scrollTo({top:c}),{target:l,transitionEnd:r}}else return{target:t,transitionEnd:r}};function fM(e,t,n,r){return aM(t)?pM(e,t,n,r):{target:t,transitionEnd:r}}const hM=(e,t,n,r)=>{const i=sM(e,t,r);return t=i.target,r=i.transitionEnd,fM(e,t,n,r)},$f={current:null},BR={current:!1};function mM(){if(BR.current=!0,!!wu)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>$f.current=e.matches;e.addListener(t),t()}else $f.current=!1}function gM(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(Et(s))e.addValue(i,s),zl(r)&&r.add(i);else if(Et(o))e.addValue(i,Vs(s,{owner:e})),zl(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const a=e.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=e.getStaticValue(i);e.addValue(i,Vs(a!==void 0?a:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const Yv=new WeakMap,$R=Object.keys(wa),yM=$R.length,Xv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],vM=dm.length;class wM{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ke.render(this.render,!1,!0);const{latestValues:a,renderState:c}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Su(n),this.isVariantNode=xb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:l,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const p=u[d];a[d]!==void 0&&Et(p)&&(p.set(a[d],!1),zl(l)&&l.add(d))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Yv.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),BR.current||mM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$f.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Yv.delete(this.current),this.projection&&this.projection.unmount(),ir(this.notifyUpdate),ir(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Ti.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ke.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,s){let o,a;for(let c=0;c<yM;c++){const l=$R[c],{isEnabled:u,Feature:d,ProjectionNode:p,MeasureLayout:f}=wa[l];p&&(o=p),u(n)&&(!this.features[l]&&d&&(this.features[l]=new d(this)),f&&(a=f))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:l,drag:u,dragConstraints:d,layoutScroll:p,layoutRoot:f}=n;this.projection.setOptions({layoutId:c,layout:l,alwaysMeasureLayout:!!u||d&&ms(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:f})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):We()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Xv.length;r++){const i=Xv[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=t["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=gM(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<vM;r++){const i=dm[r],s=this.props[i];(va(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Vs(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=_m(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Et(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new km),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class UR extends wM{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},s){let o=FA(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){jA(this,r,o);const a=hM(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function _M(e){return window.getComputedStyle(e)}class SM extends UR{readValueFromInstance(t,n){if(Ti.has(n)){const r=xm(n);return r&&r.default||0}else{const r=_M(t),i=(kb(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return kR(t,n)}build(t,n,r,i){hm(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return wm(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Et(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){Ib(t,n,r,i)}}class bM extends UR{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ti.has(n)){const r=xm(n);return r&&r.default||0}return n=jb.has(n)?n:vm(n),t.getAttribute(n)}measureInstanceViewportBox(){return We()}scrapeMotionValuesFromProps(t,n){return Fb(t,n)}build(t,n,r,i){gm(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){Nb(t,n,r,i)}mount(t){this.isSVGTag=ym(t.tagName),super.mount(t)}}const RM=(e,t)=>fm(e)?new bM(t,{enableHardwareAcceleration:!1}):new SM(t,{enableHardwareAcceleration:!0}),CM={layout:{ProjectionNode:NR,MeasureLayout:DR}},xM={...JA,...yL,...nM,...CM},xs=TD((e,t)=>tL(e,t,xM,RM));function VR(){const e=_.useRef(!1);return jl(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function TM(){const e=VR(),[t,n]=_.useState(0),r=_.useCallback(()=>{e.current&&n(t+1)},[t]);return[_.useCallback(()=>ke.postRender(r),[r]),t]}class EM extends _.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PM({children:e,isPresent:t}){const n=_.useId(),r=_.useRef(null),i=_.useRef({width:0,height:0,top:0,left:0});return _.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:c}=i.current;if(t||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[t]),_.createElement(EM,{isPresent:t,childRef:r,sizeRef:i},_.cloneElement(e,{ref:r}))}const Kd=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=Bb(kM),c=_.useId(),l=_.useMemo(()=>({id:c,initial:t,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?void 0:[n]);return _.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),_.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=_.createElement(PM,{isPresent:n},e)),_.createElement(vu.Provider,{value:l},e)};function kM(){return new Map}function DM(e){return _.useEffect(()=>()=>e(),[])}const Ji=e=>e.key||"";function LM(e,t){e.forEach(n=>{const r=Ji(n);t.set(r,n)})}function AM(e){const t=[];return _.Children.forEach(e,n=>{_.isValidElement(n)&&t.push(n)}),t}const zR=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=_.useContext(pm).forceRender||TM()[0],c=VR(),l=AM(e);let u=l;const d=_.useRef(new Map).current,p=_.useRef(u),f=_.useRef(new Map).current,h=_.useRef(!0);if(jl(()=>{h.current=!1,LM(l,f),p.current=u}),DM(()=>{h.current=!0,f.clear(),d.clear()}),h.current)return _.createElement(_.Fragment,null,u.map(g=>_.createElement(Kd,{key:Ji(g),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},g)));u=[...u];const m=p.current.map(Ji),w=l.map(Ji),v=m.length;for(let g=0;g<v;g++){const y=m[g];w.indexOf(y)===-1&&!d.has(y)&&d.set(y,void 0)}return o==="wait"&&d.size&&(u=[]),d.forEach((g,y)=>{if(w.indexOf(y)!==-1)return;const S=f.get(y);if(!S)return;const R=m.indexOf(y);let x=g;if(!x){const C=()=>{f.delete(y),d.delete(y);const P=p.current.findIndex(M=>M.key===y);if(p.current.splice(P,1),!d.size){if(p.current=l,c.current===!1)return;a(),r&&r()}};x=_.createElement(Kd,{key:Ji(S),isPresent:!1,onExitComplete:C,custom:t,presenceAffectsLayout:s,mode:o},S),d.set(y,x)}u.splice(R,0,x)}),u=u.map(g=>{const y=g.key;return d.has(y)?g:_.createElement(Kd,{key:Ji(g),isPresent:!0,presenceAffectsLayout:s,mode:o},g)}),_.createElement(_.Fragment,null,d.size?u:u.map(g=>_.cloneElement(g)))},OM=ve.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  color: white;
  height: 80vh;
`,MM=ve(qr)`
  position: relative;
  padding: 20px;
  background-color: #ffffff;
  opacity: 0.8;
  text-decoration: none;
  border-radius: 50%;
  cursor: pointer;
  margin-bottom: 20px;
  &:hover {
    background-color: #007bff;
    color: #ffffff;
  }
`;var HR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Jv=Fe.createContext&&Fe.createContext(HR),Fr=globalThis&&globalThis.__assign||function(){return Fr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Fr.apply(this,arguments)},IM=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function WR(e){return e&&e.map(function(t,n){return Fe.createElement(t.tag,Fr({key:n},t.attr),WR(t.child))})}function jM(e){return function(t){return Fe.createElement(NM,Fr({attr:Fr({},e.attr)},t),WR(e.child))}}function NM(e){var t=function(n){var r=e.attr,i=e.size,s=e.title,o=IM(e,["attr","size","title"]),a=i||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),Fe.createElement("svg",Fr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:Fr(Fr({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Fe.createElement("title",null,s),e.children)};return Jv!==void 0?Fe.createElement(Jv.Consumer,null,function(n){return t(n)}):t(HR)}function FM(e){return jM({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]})(e)}const qd=[["a_bass_03","a_bass_04","a_bassfill_01"],["a_bass_01","a_bass_02","a_stab_01"],["a_arp_01","a_piano_01","a_vox_01"],["a_kick_01","a_hat_01","a_snare_01"]],Dm=[];for(let e=0;e<qd.length;e++){const t=[];for(let n=0;n<qd[0].length;n++)t.push(new Audio(`/dpmaudio/dubstep_club_${qd[e][n]}.wav`));Dm.push([...t])}const Jn=new Audio("/mp3/dubstep_drum_trap_loop.mp3"),Zv=new Audio("/mp3/warp1.mp3");function Lm(){Zv.currentTime=0,Zv.play()}function xu(){return b.jsx(MM,{to:"/main",onClick:Lm,children:b.jsx(FM,{size:"30",color:"black"})})}const GR={roomId:"Empty",description:"",peersNum:-1},KR=[{roomId:"room1",description:"This is Room 1!!!",peersNum:0},{roomId:"room2",description:"This is Room 2!!!",peersNum:0},{roomId:"room3",description:"This is Room 3!!!",peersNum:0}];for(let e=0;e<6;e++)KR.push(GR);const BM=ve(xs.div)`
  width: 100%;
  height: 100%;
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
`;function $M(){const[e,t]=_.useState(null),[n,r]=_.useState(null),[i,s]=_.useState(KR),o=Jh(),a=_.useRef(null),c=_.useCallback(()=>{alert(`[${a.current.value}] 방이 생성되었습니다 :)`);let l="game";a.current.value.toLowerCase().includes("solo")&&(l="sologame"),o(`/${l}/${a.current.value}`)},[a,o]);return _.useEffect(()=>{const l=[];yD().then(u=>{const d=Object.keys(u).length;if(d>0){Object.keys(u).forEach(p=>{l.push({roomId:p,description:`[${p}] 방입니다!`,peersNum:d})});for(let p=0;p<12-d;p++)l.push(GR);s(l)}}).catch(()=>{console.log("data is nothing in server")})},[]),_.useEffect(()=>{e?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[e]),b.jsx(b.Fragment,{children:b.jsxs(mD,{children:[b.jsx(zR,{children:e?b.jsx(BM,{onClick:()=>{t(null),r(null)},initial:{backgroundColor:"rgba(0, 0, 0, 0)"},animate:{backgroundColor:"rgba(0, 0, 0, .5)"},exit:{backgroundColor:"rgba(0, 0, 0, 0)"},style:{width:"100vw",height:"100vh",zIndex:100},children:b.jsxs(xs.div,{layoutId:e.roomId,style:{backgroundColor:"white",width:"25rem",height:"25rem",borderRadius:"2%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},children:[b.jsx("h3",{children:e.roomId}),e.description,b.jsx("p",{children:e.roomId=="Empty"?"":`현재인원 ${e.peersNum}`}),b.jsx(xs.button,{style:{backgroundColor:n,marginTop:"3vh",width:"17vw",height:"4vh",borderRadius:"5%",bottom:0},children:b.jsx(qr,{to:`/game/${e==null?void 0:e.roomId}`,style:{textDecoration:"none",color:"white"},children:"Join"})})]})}):null}),b.jsx(xu,{}),b.jsxs(gD,{onSubmit:c,children:[b.jsx("input",{placeholder:"Room ID",ref:a}),b.jsx(ma,{variant:"primary",type:"submit",children:"Create"})]}),b.jsx("table",{style:{borderCollapse:"separate",borderSpacing:"30px"},children:b.jsx("tbody",{children:Array(4).fill(0).map((l,u)=>b.jsx("tr",{children:i==null?void 0:i.slice(u*3,u*3+3).map((d,p)=>b.jsx("td",{children:b.jsxs(xs.div,{layoutId:d.roomId,whileHover:{scale:1.1},style:{backgroundColor:"white",opacity:.8,display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",width:"18rem",height:"18rem",borderRadius:"2%",boxShadow:`5px 5px 10px ${hs[(u*3+p)%hs.length]}`},onClick:()=>{d.roomId!=="Empty"&&(t(d),r(hs[(u*3+p)%hs.length]))},children:[b.jsx("h3",{children:d.roomId}),d.description,b.jsx("p",{children:d.roomId=="Empty"?"":`현재인원 ${d.peersNum}`})]})},p))},u))})})]})})}const UM=ve.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  color: white;
  height: 70vh;
`;function VM(){return _.useEffect(()=>{fetch("https://namanmoo.store/scan").then(e=>console.log(e)).catch(e=>console.log(e))},[]),b.jsx(b.Fragment,{children:b.jsxs(UM,{children:[b.jsx(xu,{}),b.jsx("h2",{children:"This is Ranking Page."})]})})}const zM=ve.p`
  margin: 20px;
  color: #ffffff;
  display: inline-block;
  cursor: pointer;
  font-size: 5vmin;
  font-weight: 300;
  transition: font-weight 200ms ease-in-out;

  &:hover {
    color: rgb(25, 255, 94);
    font-weight: 1000;
    font-size: 6vmin;
  }
`;function HM({menu:e}){return b.jsx(zM,{children:e.name})}const WM=ve.div`
  position: fixed;
  display: flex;
  flex-direction: column;
  top: 0;
  left: 0;
  width: 28vw;
  height: 100vh;
  align-items: center;
  justify-content: center;
  text-align: center;
  font-size: 40px;
  z-index: 100;
  text-shadow:
    0 8px 9px #010300,
    0px -2px 1px #ffffff;
`;function GM({items:e}){return b.jsx(WM,{children:e.map((t,n)=>b.jsx(qr,{to:`/main/${t.path}`,onClick:Lm,style:{textDecoration:"none"},children:b.jsx(HM,{menu:t})},n))})}const KM=ve.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100vh;
`,qR=ve.video`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: -1;
`,QR=ve.div`
  position: fixed;
  font-family: "establishRetrosansOTF";
  text-transform: uppercase;
  display: block;
  font-size: 92px;
  color: #ffffffce;
  text-shadow:
    0 8px 9px #010300,
    0px -2px 1px #ffffff;
  font-weight: bold;
  letter-spacing: -4px;
  text-align: center;
  top: 10%;
  left: 50%;
  transform: translate(-50%, -50%);
  border-radius: 20px;
`,qM=ve(qr)`
  text-transform: uppercase;
  display: block;
  font-size: 8vh;
  color: #ffffffce;
  text-shadow:
    0 8px 9px #010300,
    0px -2px 1px #ffffff;
  font-weight: bold;
  letter-spacing: -4px;
  text-align: center;
  border-radius: 20px;
  margin-top: 4vh;
  &:hover {
    color: #00ff87;
  }
`,QM={white:"#FEFEFE",brown:"#362100"},YM=ve.section`
  backdrop-filter: blur(10px);
  background-color: rgba(0, 0, 0);
  border: 1px solid rgba(225, 225, 225, 0.18);
  border-radius: 15px;
  box-shadow: 0 10px 35px 0;
  color: ${QM.white};
  overflow: hidden;
  padding: 20px 30px 50px 30px;
  position: relative;
  text-align: center;
  z-index: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
`,XM=vb`
  0% {
    background-color: transparent;
  }

  30% {
    background-color: var(--cell-color);
  }

  60% {
    background-color: transparent;
  }

  100% {
    background-color: transparent;
  }
`,JM=ve.div`
  --cell-size: 10vh;
  --cell-spacing: 1vh;
  --cells: 3;
  --total-size: calc(
    var(--cells) * (var(--cell-size) + 2 * var(--cell-spacing))
  );
  display: flex;
  flex-wrap: wrap;
  width: var(--total-size);
  height: var(--total-size);
`,$n=ve.div`
  flex: 0 0 var(--cell-size);
  margin: var(--cell-spacing);
  background-color: transparent;
  box-sizing: border-box;
  border-radius: 4px;
  animation: 1.5s ${XM} ease infinite;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);

  &.d-1 {
    animation-delay: 100ms;
  }

  &.d-2 {
    animation-delay: 200ms;
  }

  &.d-3 {
    animation-delay: 300ms;
  }

  &.d-4 {
    animation-delay: 400ms;
  }

  &:nth-child(1) {
    --cell-color: #00ff87;
  }

  &:nth-child(2) {
    --cell-color: #0cfd95;
  }

  &:nth-child(3) {
    --cell-color: #17fba2;
  }

  &:nth-child(4) {
    --cell-color: #23f9b2;
  }

  &:nth-child(5) {
    --cell-color: #30f7c3;
  }

  &:nth-child(6) {
    --cell-color: #3df5d4;
  }

  &:nth-child(7) {
    --cell-color: #45f4de;
  }

  &:nth-child(8) {
    --cell-color: #53f1f0;
  }

  &:nth-child(9) {
    --cell-color: #60efff;
  }
`;function ZM(){return b.jsxs(b.Fragment,{children:[b.jsx(GM,{items:g1.slice(1)}),b.jsx("header",{children:b.jsx(QR,{children:"Hands Up!"})}),b.jsx(OM,{})]})}const YR=ve.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  color: white;
  height: 90vh;
`;function eI(){return b.jsx(b.Fragment,{children:b.jsxs(YR,{children:[b.jsx(xu,{}),b.jsxs("div",{style:{display:"flex",marginTop:"10px",flexDirection:"column",backgroundColor:"white",color:"black",padding:"30px",borderRadius:"2%"},children:[b.jsx("h1",{children:"튜토리얼"}),b.jsx("br",{}),b.jsx("h2",{children:"게임 방식"}),b.jsx("p",{children:"화면을 치는 모션으로 런치패드를 칠 수 있습니다."}),b.jsx("br",{}),b.jsx("br",{}),b.jsx("h2",{children:"대전 모드"}),b.jsxs("p",{children:["런치패드를 치는 순서를 최대한 많이 기억하는 암기력 대전 게임입니다.",b.jsx("br",{}),"상대방과 턴을 주고받으면서, 상대방이 쳤던 런치패드 순서를 기억하고 따라친 후",b.jsx("br",{}),"한 칸을 더 치는 것으로 턴을 종료합니다."]}),b.jsx("br",{}),b.jsx("br",{}),b.jsx("h2",{children:"싱글 모드"}),b.jsx("p",{children:"혼자서 런치패드를 조작할 수 있는 모드입니다."}),b.jsx("br",{}),b.jsx("button",{children:b.jsx(qr,{to:"/sologame/tutorial",style:{color:"black",textDecoration:"none"},children:"Play!"})})]})]})})}function tI({children:e}){return b.jsx(xs.div,{initial:Qd.initial,animate:Qd.animate,exit:Qd.exit,transition:{duration:.5,type:"spring"},children:e})}const Qd={initial:{y:500,opacity:0},animate:{y:0,opacity:1},exit:{y:500,opacity:0}};function XR(e,t){return function(){return e.apply(t,arguments)}}const{toString:nI}=Object.prototype,{getPrototypeOf:Am}=Object,Tu=(e=>t=>{const n=nI.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),jn=e=>(e=e.toLowerCase(),t=>Tu(t)===e),Eu=e=>t=>typeof t===e,{isArray:Zs}=Array,Sa=Eu("undefined");function rI(e){return e!==null&&!Sa(e)&&e.constructor!==null&&!Sa(e.constructor)&&Kt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const JR=jn("ArrayBuffer");function iI(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&JR(e.buffer),t}const sI=Eu("string"),Kt=Eu("function"),ZR=Eu("number"),Pu=e=>e!==null&&typeof e=="object",oI=e=>e===!0||e===!1,Jc=e=>{if(Tu(e)!=="object")return!1;const t=Am(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},aI=jn("Date"),cI=jn("File"),lI=jn("Blob"),uI=jn("FileList"),dI=e=>Pu(e)&&Kt(e.pipe),pI=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Kt(e.append)&&((t=Tu(e))==="formdata"||t==="object"&&Kt(e.toString)&&e.toString()==="[object FormData]"))},fI=jn("URLSearchParams"),hI=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ma(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Zs(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(r=0;r<o;r++)a=s[r],t.call(null,e[a],a,e)}}function e1(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const t1=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),n1=e=>!Sa(e)&&e!==t1;function Uf(){const{caseless:e}=n1(this)&&this||{},t={},n=(r,i)=>{const s=e&&e1(t,i)||i;Jc(t[s])&&Jc(r)?t[s]=Uf(t[s],r):Jc(r)?t[s]=Uf({},r):Zs(r)?t[s]=r.slice():t[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ma(arguments[r],n);return t}const mI=(e,t,n,{allOwnKeys:r}={})=>(Ma(t,(i,s)=>{n&&Kt(i)?e[s]=XR(i,n):e[s]=i},{allOwnKeys:r}),e),gI=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),yI=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},vI=(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&Am(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},wI=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},_I=e=>{if(!e)return null;if(Zs(e))return e;let t=e.length;if(!ZR(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},SI=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Am(Uint8Array)),bI=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},RI=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},CI=jn("HTMLFormElement"),xI=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),ew=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),TI=jn("RegExp"),r1=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ma(n,(i,s)=>{t(i,s,e)!==!1&&(r[s]=i)}),Object.defineProperties(e,r)},EI=e=>{r1(e,(t,n)=>{if(Kt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Kt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},PI=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Zs(e)?r(e):r(String(e).split(t)),n},kI=()=>{},DI=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Yd="abcdefghijklmnopqrstuvwxyz",tw="0123456789",i1={DIGIT:tw,ALPHA:Yd,ALPHA_DIGIT:Yd+Yd.toUpperCase()+tw},LI=(e=16,t=i1.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function AI(e){return!!(e&&Kt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const OI=e=>{const t=new Array(10),n=(r,i)=>{if(Pu(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const s=Zs(r)?[]:{};return Ma(r,(o,a)=>{const c=n(o,i+1);!Sa(c)&&(s[a]=c)}),t[i]=void 0,s}}return r};return n(e,0)},MI=jn("AsyncFunction"),II=e=>e&&(Pu(e)||Kt(e))&&Kt(e.then)&&Kt(e.catch),k={isArray:Zs,isArrayBuffer:JR,isBuffer:rI,isFormData:pI,isArrayBufferView:iI,isString:sI,isNumber:ZR,isBoolean:oI,isObject:Pu,isPlainObject:Jc,isUndefined:Sa,isDate:aI,isFile:cI,isBlob:lI,isRegExp:TI,isFunction:Kt,isStream:dI,isURLSearchParams:fI,isTypedArray:SI,isFileList:uI,forEach:Ma,merge:Uf,extend:mI,trim:hI,stripBOM:gI,inherits:yI,toFlatObject:vI,kindOf:Tu,kindOfTest:jn,endsWith:wI,toArray:_I,forEachEntry:bI,matchAll:RI,isHTMLForm:CI,hasOwnProperty:ew,hasOwnProp:ew,reduceDescriptors:r1,freezeMethods:EI,toObjectSet:PI,toCamelCase:xI,noop:kI,toFiniteNumber:DI,findKey:e1,global:t1,isContextDefined:n1,ALPHABET:i1,generateString:LI,isSpecCompliantForm:AI,toJSONObject:OI,isAsyncFn:MI,isThenable:II};function ae(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}k.inherits(ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const s1=ae.prototype,o1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{o1[e]={value:e}});Object.defineProperties(ae,o1);Object.defineProperty(s1,"isAxiosError",{value:!0});ae.from=(e,t,n,r,i,s)=>{const o=Object.create(s1);return k.toFlatObject(e,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),ae.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const jI=null;function Vf(e){return k.isPlainObject(e)||k.isArray(e)}function a1(e){return k.endsWith(e,"[]")?e.slice(0,-2):e}function nw(e,t,n){return e?e.concat(t).map(function(i,s){return i=a1(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function NI(e){return k.isArray(e)&&!e.some(Vf)}const FI=k.toFlatObject(k,{},null,function(t){return/^is[A-Z]/.test(t)});function ku(e,t,n){if(!k.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=k.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,w){return!k.isUndefined(w[m])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(t);if(!k.isFunction(i))throw new TypeError("visitor must be a function");function l(h){if(h===null)return"";if(k.isDate(h))return h.toISOString();if(!c&&k.isBlob(h))throw new ae("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(h)||k.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function u(h,m,w){let v=h;if(h&&!w&&typeof h=="object"){if(k.endsWith(m,"{}"))m=r?m:m.slice(0,-2),h=JSON.stringify(h);else if(k.isArray(h)&&NI(h)||(k.isFileList(h)||k.endsWith(m,"[]"))&&(v=k.toArray(h)))return m=a1(m),v.forEach(function(y,S){!(k.isUndefined(y)||y===null)&&t.append(o===!0?nw([m],S,s):o===null?m:m+"[]",l(y))}),!1}return Vf(h)?!0:(t.append(nw(w,m,s),l(h)),!1)}const d=[],p=Object.assign(FI,{defaultVisitor:u,convertValue:l,isVisitable:Vf});function f(h,m){if(!k.isUndefined(h)){if(d.indexOf(h)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(h),k.forEach(h,function(v,g){(!(k.isUndefined(v)||v===null)&&i.call(t,v,k.isString(g)?g.trim():g,m,p))===!0&&f(v,m?m.concat(g):[g])}),d.pop()}}if(!k.isObject(e))throw new TypeError("data must be an object");return f(e),t}function rw(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Om(e,t){this._pairs=[],e&&ku(e,this,t)}const c1=Om.prototype;c1.append=function(t,n){this._pairs.push([t,n])};c1.toString=function(t){const n=t?function(r){return t.call(this,r,rw)}:rw;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function BI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function l1(e,t,n){if(!t)return e;const r=n&&n.encode||BI,i=n&&n.serialize;let s;if(i?s=i(t,n):s=k.isURLSearchParams(t)?t.toString():new Om(t,n).toString(r),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class $I{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){k.forEach(this.handlers,function(r){r!==null&&t(r)})}}const iw=$I,u1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},UI=typeof URLSearchParams<"u"?URLSearchParams:Om,VI=typeof FormData<"u"?FormData:null,zI=typeof Blob<"u"?Blob:null,HI=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),WI=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Pn={isBrowser:!0,classes:{URLSearchParams:UI,FormData:VI,Blob:zI},isStandardBrowserEnv:HI,isStandardBrowserWebWorkerEnv:WI,protocols:["http","https","file","blob","url","data"]};function GI(e,t){return ku(e,new Pn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Pn.isNode&&k.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function KI(e){return k.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function qI(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function d1(e){function t(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),c=s>=n.length;return o=!o&&k.isArray(i)?i.length:o,c?(k.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!k.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],s)&&k.isArray(i[o])&&(i[o]=qI(i[o])),!a)}if(k.isFormData(e)&&k.isFunction(e.entries)){const n={};return k.forEachEntry(e,(r,i)=>{t(KI(r),i,n,0)}),n}return null}const QI={"Content-Type":void 0};function YI(e,t,n){if(k.isString(e))try{return(t||JSON.parse)(e),k.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Du={transitional:u1,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=k.isObject(t);if(s&&k.isHTMLForm(t)&&(t=new FormData(t)),k.isFormData(t))return i&&i?JSON.stringify(d1(t)):t;if(k.isArrayBuffer(t)||k.isBuffer(t)||k.isStream(t)||k.isFile(t)||k.isBlob(t))return t;if(k.isArrayBufferView(t))return t.buffer;if(k.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return GI(t,this.formSerializer).toString();if((a=k.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ku(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),YI(t)):t}],transformResponse:[function(t){const n=this.transitional||Du.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(t&&k.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?ae.from(a,ae.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pn.classes.FormData,Blob:Pn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};k.forEach(["delete","get","head"],function(t){Du.headers[t]={}});k.forEach(["post","put","patch"],function(t){Du.headers[t]=k.merge(QI)});const Mm=Du,XI=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),JI=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&XI[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},sw=Symbol("internals");function yo(e){return e&&String(e).trim().toLowerCase()}function Zc(e){return e===!1||e==null?e:k.isArray(e)?e.map(Zc):String(e)}function ZI(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const ej=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Xd(e,t,n,r,i){if(k.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!k.isString(t)){if(k.isString(r))return t.indexOf(r)!==-1;if(k.isRegExp(r))return r.test(t)}}function tj(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function nj(e,t){const n=k.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,o){return this[r].call(this,t,i,s,o)},configurable:!0})})}class Lu{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(a,c,l){const u=yo(c);if(!u)throw new Error("header name must be a non-empty string");const d=k.findKey(i,u);(!d||i[d]===void 0||l===!0||l===void 0&&i[d]!==!1)&&(i[d||c]=Zc(a))}const o=(a,c)=>k.forEach(a,(l,u)=>s(l,u,c));return k.isPlainObject(t)||t instanceof this.constructor?o(t,n):k.isString(t)&&(t=t.trim())&&!ej(t)?o(JI(t),n):t!=null&&s(n,t,r),this}get(t,n){if(t=yo(t),t){const r=k.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return ZI(i);if(k.isFunction(n))return n.call(this,i,r);if(k.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=yo(t),t){const r=k.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Xd(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(o){if(o=yo(o),o){const a=k.findKey(r,o);a&&(!n||Xd(r,r[a],a,n))&&(delete r[a],i=!0)}}return k.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||Xd(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return k.forEach(this,(i,s)=>{const o=k.findKey(r,s);if(o){n[o]=Zc(i),delete n[s];return}const a=t?tj(s):String(s).trim();a!==s&&delete n[s],n[a]=Zc(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return k.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&k.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[sw]=this[sw]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=yo(o);r[a]||(nj(i,o),r[a]=!0)}return k.isArray(t)?t.forEach(s):s(t),this}}Lu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.freezeMethods(Lu.prototype);k.freezeMethods(Lu);const Zn=Lu;function Jd(e,t){const n=this||Mm,r=t||n,i=Zn.from(r.headers);let s=r.data;return k.forEach(e,function(a){s=a.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function p1(e){return!!(e&&e.__CANCEL__)}function Ia(e,t,n){ae.call(this,e??"canceled",ae.ERR_CANCELED,t,n),this.name="CanceledError"}k.inherits(Ia,ae,{__CANCEL__:!0});function rj(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ae("Request failed with status code "+n.status,[ae.ERR_BAD_REQUEST,ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const ij=Pn.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,a){const c=[];c.push(n+"="+encodeURIComponent(r)),k.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),k.isString(s)&&c.push("path="+s),k.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function sj(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function oj(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function f1(e,t){return e&&!sj(t)?oj(e,t):t}const aj=Pn.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=k.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function cj(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function lj(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(c){const l=Date.now(),u=r[s];o||(o=l),n[i]=c,r[i]=l;let d=s,p=0;for(;d!==i;)p+=n[d++],d=d%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),l-o<t)return;const f=u&&l-u;return f?Math.round(p*1e3/f):void 0}}function ow(e,t){let n=0;const r=lj(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,c=r(a),l=s<=o;n=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&l?(o-s)/c:void 0,event:i};u[t?"download":"upload"]=!0,e(u)}}const uj=typeof XMLHttpRequest<"u",dj=uj&&function(e){return new Promise(function(n,r){let i=e.data;const s=Zn.from(e.headers).normalize(),o=e.responseType;let a;function c(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}k.isFormData(i)&&(Pn.isStandardBrowserEnv||Pn.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let l=new XMLHttpRequest;if(e.auth){const f=e.auth.username||"",h=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.set("Authorization","Basic "+btoa(f+":"+h))}const u=f1(e.baseURL,e.url);l.open(e.method.toUpperCase(),l1(u,e.params,e.paramsSerializer),!0),l.timeout=e.timeout;function d(){if(!l)return;const f=Zn.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),m={data:!o||o==="text"||o==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:f,config:e,request:l};rj(function(v){n(v),c()},function(v){r(v),c()},m),l=null}if("onloadend"in l?l.onloadend=d:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(d)},l.onabort=function(){l&&(r(new ae("Request aborted",ae.ECONNABORTED,e,l)),l=null)},l.onerror=function(){r(new ae("Network Error",ae.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){let h=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const m=e.transitional||u1;e.timeoutErrorMessage&&(h=e.timeoutErrorMessage),r(new ae(h,m.clarifyTimeoutError?ae.ETIMEDOUT:ae.ECONNABORTED,e,l)),l=null},Pn.isStandardBrowserEnv){const f=(e.withCredentials||aj(u))&&e.xsrfCookieName&&ij.read(e.xsrfCookieName);f&&s.set(e.xsrfHeaderName,f)}i===void 0&&s.setContentType(null),"setRequestHeader"in l&&k.forEach(s.toJSON(),function(h,m){l.setRequestHeader(m,h)}),k.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),o&&o!=="json"&&(l.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&l.addEventListener("progress",ow(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",ow(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=f=>{l&&(r(!f||f.type?new Ia(null,e,l):f),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const p=cj(u);if(p&&Pn.protocols.indexOf(p)===-1){r(new ae("Unsupported protocol "+p+":",ae.ERR_BAD_REQUEST,e));return}l.send(i||null)})},el={http:jI,xhr:dj};k.forEach(el,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const pj={getAdapter:e=>{e=k.isArray(e)?e:[e];const{length:t}=e;let n,r;for(let i=0;i<t&&(n=e[i],!(r=k.isString(n)?el[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new ae(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(k.hasOwnProp(el,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!k.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:el};function Zd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ia(null,e)}function aw(e){return Zd(e),e.headers=Zn.from(e.headers),e.data=Jd.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),pj.getAdapter(e.adapter||Mm.adapter)(e).then(function(r){return Zd(e),r.data=Jd.call(e,e.transformResponse,r),r.headers=Zn.from(r.headers),r},function(r){return p1(r)||(Zd(e),r&&r.response&&(r.response.data=Jd.call(e,e.transformResponse,r.response),r.response.headers=Zn.from(r.response.headers))),Promise.reject(r)})}const cw=e=>e instanceof Zn?e.toJSON():e;function Hs(e,t){t=t||{};const n={};function r(l,u,d){return k.isPlainObject(l)&&k.isPlainObject(u)?k.merge.call({caseless:d},l,u):k.isPlainObject(u)?k.merge({},u):k.isArray(u)?u.slice():u}function i(l,u,d){if(k.isUndefined(u)){if(!k.isUndefined(l))return r(void 0,l,d)}else return r(l,u,d)}function s(l,u){if(!k.isUndefined(u))return r(void 0,u)}function o(l,u){if(k.isUndefined(u)){if(!k.isUndefined(l))return r(void 0,l)}else return r(void 0,u)}function a(l,u,d){if(d in t)return r(l,u);if(d in e)return r(void 0,l)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,u)=>i(cw(l),cw(u),!0)};return k.forEach(Object.keys(Object.assign({},e,t)),function(u){const d=c[u]||i,p=d(e[u],t[u],u);k.isUndefined(p)&&d!==a||(n[u]=p)}),n}const h1="1.4.0",Im={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Im[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const lw={};Im.transitional=function(t,n,r){function i(s,o){return"[Axios v"+h1+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(t===!1)throw new ae(i(o," has been removed"+(n?" in "+n:"")),ae.ERR_DEPRECATED);return n&&!lw[o]&&(lw[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,a):!0}};function fj(e,t,n){if(typeof e!="object")throw new ae("options must be an object",ae.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const a=e[s],c=a===void 0||o(a,s,e);if(c!==!0)throw new ae("option "+s+" must be "+c,ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ae("Unknown option "+s,ae.ERR_BAD_OPTION)}}const zf={assertOptions:fj,validators:Im},dr=zf.validators;class Wl{constructor(t){this.defaults=t,this.interceptors={request:new iw,response:new iw}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Hs(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&zf.assertOptions(r,{silentJSONParsing:dr.transitional(dr.boolean),forcedJSONParsing:dr.transitional(dr.boolean),clarifyTimeoutError:dr.transitional(dr.boolean)},!1),i!=null&&(k.isFunction(i)?n.paramsSerializer={serialize:i}:zf.assertOptions(i,{encode:dr.function,serialize:dr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=s&&k.merge(s.common,s[n.method]),o&&k.forEach(["delete","get","head","post","put","patch","common"],h=>{delete s[h]}),n.headers=Zn.concat(o,s);const a=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(c=c&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const l=[];this.interceptors.response.forEach(function(m){l.push(m.fulfilled,m.rejected)});let u,d=0,p;if(!c){const h=[aw.bind(this),void 0];for(h.unshift.apply(h,a),h.push.apply(h,l),p=h.length,u=Promise.resolve(n);d<p;)u=u.then(h[d++],h[d++]);return u}p=a.length;let f=n;for(d=0;d<p;){const h=a[d++],m=a[d++];try{f=h(f)}catch(w){m.call(this,w);break}}try{u=aw.call(this,f)}catch(h){return Promise.reject(h)}for(d=0,p=l.length;d<p;)u=u.then(l[d++],l[d++]);return u}getUri(t){t=Hs(this.defaults,t);const n=f1(t.baseURL,t.url);return l1(n,t.params,t.paramsSerializer)}}k.forEach(["delete","get","head","options"],function(t){Wl.prototype[t]=function(n,r){return this.request(Hs(r||{},{method:t,url:n,data:(r||{}).data}))}});k.forEach(["post","put","patch"],function(t){function n(r){return function(s,o,a){return this.request(Hs(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Wl.prototype[t]=n(),Wl.prototype[t+"Form"]=n(!0)});const tl=Wl;class jm{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},t(function(s,o,a){r.reason||(r.reason=new Ia(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new jm(function(i){t=i}),cancel:t}}}const hj=jm;function mj(e){return function(n){return e.apply(null,n)}}function gj(e){return k.isObject(e)&&e.isAxiosError===!0}const Hf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hf).forEach(([e,t])=>{Hf[t]=e});const yj=Hf;function m1(e){const t=new tl(e),n=XR(tl.prototype.request,t);return k.extend(n,tl.prototype,t,{allOwnKeys:!0}),k.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return m1(Hs(e,i))},n}const et=m1(Mm);et.Axios=tl;et.CanceledError=Ia;et.CancelToken=hj;et.isCancel=p1;et.VERSION=h1;et.toFormData=ku;et.AxiosError=ae;et.Cancel=et.CanceledError;et.all=function(t){return Promise.all(t)};et.spread=mj;et.isAxiosError=gj;et.mergeConfig=Hs;et.AxiosHeaders=Zn;et.formToJSON=e=>d1(k.isHTMLForm(e)?new FormData(e):e);et.HttpStatusCode=yj;et.default=et;const vj=et,wj=ve.div`
  position: fixed;
  display: flex;
  top: 40px;
  right: 40px;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`,_j=ve.img`
  width: 100px;
  height: 100px;
  border-radius: 50%;
  border: 5px solid white;
  margin-bottom: 10px;
`,Sj=ve.div`
  font-size: 14px;
  color: #fff;
`;function bj({user:e}){return b.jsx(b.Fragment,{children:e==null?null:b.jsxs(wj,{children:[b.jsx(_j,{src:e.profile_image_url,alt:e.nickname}),b.jsx(Sj,{children:e.nickname})]})})}const Rj=_.memo(bj),Cj=ve.div`
  flex-direction: column;
  display: flex;
  height: 100%;
  width: 100vw;
`,xj=ve.div`
  justify-content: center;
  align-items: center;
  height: 100vh;
  width: 100vw;
`,g1=[{name:"Home",path:"home",components:b.jsx(ZM,{})},{name:"RoomList",path:"roomlist",components:b.jsx($M,{})},{name:"Ranking",path:"ranking",components:b.jsx(VM,{})},{name:"Tutorial",path:"tutorial",components:b.jsx(eI,{})}];function Tj(){const[e,t]=_.useState({userId:0}),n=xi();function r(){vj.get("https://namanmoo.store/profile",{withCredentials:!0}).then(({data:i})=>{console.log(i),t({userId:1,nickname:i.properties.nickname,profile_image_url:i.properties.profile_image})}).catch(i=>{console.log(i),t({userId:1,nickname:"최광민",profile_image_url:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBw0NDg0NDQ8PDQ0NDw0NDg0NDQ8NDg4NFREWFhQdExMYHCghGBolGxUTITEhJSkrLi4wFx8zODMsNygtLisBCgoKDg0OGhAQGC4dICU3KystKysrLS0rLS0tLSstLS0tLS0tLS0rLS0rLS0tLSstLS0tKy0tKzcrKysrKy0rN//AABEIAOAA4QMBIgACEQEDEQH/xAAaAAEBAQADAQAAAAAAAAAAAAAAAQUCAwQG/8QAMBABAAIAAggDBwUBAAAAAAAAAAECAwQFERIhMUFRcTJSYSKBkaGxweETM3KS0UL/xAAZAQEBAQEBAQAAAAAAAAAAAAAAAQMCBAX/xAAeEQEBAQEAAwADAQAAAAAAAAAAAQIRAzFBEiFRE//aAAwDAQACEQMRAD8A+rBX0XzUFQUFQQFAQUBBQEFAQUBBQEFAQVABUABQQAAABUUAABFAAAAAAAAAAAAAAAAAAAAAAAQAAAVRAFEUAAQAAAAAAAAAAAAEBVEAUQBRAAAQAFAAFRQABAAAAAcqUtbdWJntGt31yGLPKI7zCdkWS15h6p0fi9IntaHRiYN6eKsx66t3xOw5Y4AKgACACgAAAAAAAgAKAAKigACAAER0aOV0fHHE/r/rno7K7MbdvFPD0h7WWt/I2zj7UrWIjVEao6QoM2gADx5nIVtvp7Nun/M/4y71mszExqmOT6B5s7loxK648ccPX0d53/WesfYxwGzFABQAAAAAAAQAFAAFRQABB3ZPC271jlxntDpaGia+O3aHOryOsztaIDB6AAAAAAGRpLC2b644X3+/m8rU0rXXSJ6W+Ustvi9jDc5UAdOQAAAAAAAAAAABUUAAQaeifDfvH0Zj3aKvqtavmjXHeHO/TvHtpgMG4AAAAADy6T/bnvVkNLS191a9Z2ma2x6Yb9oA7cgAAAAAAAgAKAAKigACDlhYk1tFo4xOtxBW/h3i0RaOExrcmPks1+nOqd9J4+ktetomImJ1xPCYYazxvnXVAcugAAmdW+eEcRl5/N7XsU8POev4WTrnV5HnzWN+pebcuEdnUDdggCgAAAAAAAIACgACooAAgAA7cDMXw59md3Os8JdQitXC0jSfFE1n4w9FcxhzwvX4wwkc3EdzyVvzjUjjav8AaHRi5/Drwnan0/1jqn+cL5K9GYzd8Td4a+WPu84O5OOLegCogAoAAAAAAAIACgACooAAgO7L5a2Jw3RztPBp4GTpTfq2rdZ+zm6kdzNrMwspiX4V1R1ndD14ejPNb3Vj7y0Bnd1pMR5a6Pwo5TPeZ+znGTwvJHzd457XX4x0zlMLyR83C2Qwp5THaZekO0/GM/E0ZH/NvdaHlxcniU4xrjrXe2h1N1zcR88NrHylL8Y1T5o3SzMzlbYfHfXzR92k1KzuLHnAdOQAAAAAAAQAFAAFRQHryWT2/atup052/Djkct+pOufBXj6z0bERqZ71z9R3jPf3UrERGqI1RHKFBk2AAAAAAAACY17p4SAMvPZHZ13p4eden4eF9GyNIZXYnar4Z4x5Za418rLWfseMBozAAAAABAAUAAcqUm0xWOMzqhxe/RWFrmbzy3R35pbyLJ2tDBw4pWKxy+cuYPO9AAAAAAAAAAAACuOJSLRNZ4TulyBHz+PhTS01nl84cGnpbC3ReOW6e3JmN83sYanKAOkAAABAAUAAbeRps4dfWNqfexIh9FWNURHSNTPyNPH7AGTUAAAAAAAAAAABQBHXj02qWr1ifiwH0b5/MV1XvHS0/Vp46z24ANWYAAAIACgAOWF4q/yj6voHz+F4q/yr9X0LLyNfGgDNoAAAAAAAAAAAAoAgw89+7fu3GHnv3b9/s78ftxv06AGzIAAAB//Z"})})}return _.useEffect(()=>{async function i(){r(),Jn.loop=!0,await Jn.play()}return i(),()=>{Jn.pause()}},[]),b.jsxs(b.Fragment,{children:[b.jsx(qR,{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:b.jsx("source",{src:"/back.mp4",type:"video/mp4"})}),b.jsxs(Cj,{children:[b.jsx(Rj,{user:e}),b.jsx(xj,{children:b.jsx(zR,{mode:"wait",children:b.jsxs(E0,{location:n,children:[g1.map((i,s)=>b.jsx(Wn,{path:`/${i.path}`,element:b.jsx(tI,{children:i.components})},s)),b.jsx(Wn,{path:"*",element:b.jsx("div",{children:b.jsx("h2",{children:"404 Page not found"})})}),b.jsx(Wn,{path:"/",element:b.jsx(T0,{to:"home"})})]},n.pathname)})})]})]})}function Ej(){const e=async()=>{const t=await fetch("https://namanmoo.store/authorize",{method:"GET",credentials:"include",headers:{Origin:"https://kimcookieya.shop"}});console.log(t);const n=await t.json();console.log(n),window.location.href=n.redirectUrl};return b.jsxs(b.Fragment,{children:[b.jsx(qR,{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:b.jsx("source",{src:"/back.mp4",type:"video/mp4"})}),b.jsxs(KM,{children:[b.jsx("header",{children:b.jsx(QR,{children:"Hands Up!"})}),b.jsxs(YM,{children:[b.jsxs(JM,{children:[b.jsx($n,{className:"d-0"}),b.jsx($n,{className:"d-1"}),b.jsx($n,{className:"d-2"}),b.jsx($n,{className:"d-1"}),b.jsx($n,{className:"d-2"}),b.jsx($n,{className:"d-2"}),b.jsx($n,{className:"d-3"}),b.jsx($n,{className:"d-3"}),b.jsx($n,{className:"d-4"})]}),b.jsx(qM,{to:"/main",onClick:Lm,children:"LOGIN"}),b.jsx("img",{src:"public/kakao_login_medium.png",onClick:e,style:{cursor:"pointer"}})]})]})]})}var y1={},Wf={exports:{}},ep,uw;function Pj(){if(uw)return ep;uw=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*7,s=r*365.25;ep=function(u,d){d=d||{};var p=typeof u;if(p==="string"&&u.length>0)return o(u);if(p==="number"&&isFinite(u))return d.long?c(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(d){var p=parseFloat(d[1]),f=(d[2]||"ms").toLowerCase();switch(f){case"years":case"year":case"yrs":case"yr":case"y":return p*s;case"weeks":case"week":case"w":return p*i;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(u){var d=Math.abs(u);return d>=r?Math.round(u/r)+"d":d>=n?Math.round(u/n)+"h":d>=t?Math.round(u/t)+"m":d>=e?Math.round(u/e)+"s":u+"ms"}function c(u){var d=Math.abs(u);return d>=r?l(u,d,r,"day"):d>=n?l(u,d,n,"hour"):d>=t?l(u,d,t,"minute"):d>=e?l(u,d,e,"second"):u+" ms"}function l(u,d,p,f){var h=d>=p*1.5;return Math.round(u/p)+" "+f+(h?"s":"")}return ep}function kj(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=o,n.humanize=Pj(),n.destroy=l,Object.keys(e).forEach(u=>{n[u]=e[u]}),n.names=[],n.skips=[],n.formatters={};function t(u){let d=0;for(let p=0;p<u.length;p++)d=(d<<5)-d+u.charCodeAt(p),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){let d,p=null,f,h;function m(...w){if(!m.enabled)return;const v=m,g=Number(new Date),y=g-(d||g);v.diff=y,v.prev=d,v.curr=g,d=g,w[0]=n.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let S=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(x,C)=>{if(x==="%%")return"%";S++;const P=n.formatters[C];if(typeof P=="function"){const M=w[S];x=P.call(v,M),w.splice(S,1),S--}return x}),n.formatArgs.call(v,w),(v.log||n.log).apply(v,w)}return m.namespace=u,m.useColors=n.useColors(),m.color=n.selectColor(u),m.extend=r,m.destroy=n.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(f!==n.namespaces&&(f=n.namespaces,h=n.enabled(u)),h),set:w=>{p=w}}),typeof n.init=="function"&&n.init(m),m}function r(u,d){const p=n(this.namespace+(typeof d>"u"?":":d)+u);return p.log=this.log,p}function i(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let d;const p=(typeof u=="string"?u:"").split(/[\s,]+/),f=p.length;for(d=0;d<f;d++)p[d]&&(u=p[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function s(){const u=[...n.names.map(a),...n.skips.map(a).map(d=>"-"+d)].join(",");return n.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let d,p;for(d=0,p=n.skips.length;d<p;d++)if(n.skips[d].test(u))return!1;for(d=0,p=n.names.length;d<p;d++)if(n.names[d].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var Dj=kj;(function(e,t){t.formatArgs=r,t.save=i,t.load=s,t.useColors=n,t.storage=o(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;c.splice(1,0,l,"color: inherit");let u=0,d=0;c[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(u++,p==="%c"&&(d=u))}),c.splice(d,0,l)}t.log=console.debug||console.log||(()=>{});function i(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function s(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}function o(){try{return localStorage}catch{}}e.exports=Dj(t);const{formatters:a}=e.exports;a.j=function(c){try{return JSON.stringify(c)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}})(Wf,Wf.exports);var Au=Wf.exports,Si={},Gf={exports:{}};(function(e,t){(function(n,r){var i="1.0.35",s="",o="?",a="function",c="undefined",l="object",u="string",d="major",p="model",f="name",h="type",m="vendor",w="version",v="architecture",g="console",y="mobile",S="tablet",R="smarttv",x="wearable",C="embedded",P=350,M="Amazon",I="Apple",W="ASUS",Q="BlackBerry",fe="Browser",te="Chrome",de="Edge",le="Firefox",ie="Google",T="Huawei",D="LG",A="Microsoft",O="Motorola",G="Opera",se="Samsung",he="Sharp",Ee="Sony",pe="Xiaomi",De="Zebra",Ft="Facebook",nt="Chromium OS",Le="Mac OS",ht=function(j,J){var K={};for(var Se in j)J[Se]&&J[Se].length%2===0?K[Se]=J[Se].concat(j[Se]):K[Se]=j[Se];return K},Bt=function(j){for(var J={},K=0;K<j.length;K++)J[j[K].toUpperCase()]=j[K];return J},Xt=function(j,J){return typeof j===u?Pt(J).indexOf(Pt(j))!==-1:!1},Pt=function(j){return j.toLowerCase()},Re=function(j){return typeof j===u?j.replace(/[^\d\.]/g,s).split(".")[0]:r},cr=function(j,J){if(typeof j===u)return j=j.replace(/^\s\s*/,s),typeof J===c?j:j.substring(0,P)},Jt=function(j,J){for(var K=0,Se,lr,un,me,q,dn;K<J.length&&!q;){var Yu=J[K],lg=J[K+1];for(Se=lr=0;Se<Yu.length&&!q&&Yu[Se];)if(q=Yu[Se++].exec(j),q)for(un=0;un<lg.length;un++)dn=q[++lr],me=lg[un],typeof me===l&&me.length>0?me.length===2?typeof me[1]==a?this[me[0]]=me[1].call(this,dn):this[me[0]]=me[1]:me.length===3?typeof me[1]===a&&!(me[1].exec&&me[1].test)?this[me[0]]=dn?me[1].call(this,dn,me[2]):r:this[me[0]]=dn?dn.replace(me[1],me[2]):r:me.length===4&&(this[me[0]]=dn?me[3].call(this,dn.replace(me[1],me[2])):r):this[me]=dn||r;K+=2}},so=function(j,J){for(var K in J)if(typeof J[K]===l&&J[K].length>0){for(var Se=0;Se<J[K].length;Se++)if(Xt(J[K][Se],j))return K===o?r:K}else if(Xt(J[K],j))return K===o?r:K;return j},Qu={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},qa={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Qa={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[w,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[w,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,w],[/opios[\/ ]+([\w\.]+)/i],[w,[f,G+" Mini"]],[/\bopr\/([\w\.]+)/i],[w,[f,G]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,w],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[w,[f,"UC"+fe]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[w,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[w,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[w,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[w,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[w,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+fe],w],[/\bfocus\/([\w\.]+)/i],[w,[f,le+" Focus"]],[/\bopt\/([\w\.]+)/i],[w,[f,G+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[w,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[w,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[w,[f,G+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[w,[f,"MIUI "+fe]],[/fxios\/([-\w\.]+)/i],[w,[f,le]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+fe]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+fe],w],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],w],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,w],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,Ft],w],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[f,w],[/\bgsa\/([\w\.]+) .*safari\//i],[w,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[w,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[w,[f,te+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,te+" WebView"],w],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[w,[f,"Android "+fe]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,w],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[w,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[w,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[w,so,Qu]],[/(webkit|khtml)\/([\w\.]+)/i],[f,w],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],w],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[w,[f,le+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,w],[/(cobalt)\/([\w\.]+)/i],[f,[w,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,Pt]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,s,Pt]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,Pt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[m,se],[h,S]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[m,se],[h,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[p,[m,I],[h,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[m,I],[h,S]],[/(macintosh);/i],[p,[m,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[m,he],[h,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[m,T],[h,S]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[m,T],[h,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[m,pe],[h,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[m,pe],[h,S]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[m,"OPPO"],[h,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[m,"Vivo"],[h,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[p,[m,"Realme"],[h,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[m,O],[h,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[m,O],[h,S]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[m,D],[h,S]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[m,D],[h,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[m,"Lenovo"],[h,S]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[m,"Nokia"],[h,y]],[/(pixel c)\b/i],[p,[m,ie],[h,S]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[m,ie],[h,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[m,Ee],[h,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[m,Ee],[h,S]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[m,"OnePlus"],[h,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[m,M],[h,S]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[m,M],[h,y]],[/(playbook);[-\w\),; ]+(rim)/i],[p,m,[h,S]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[m,Q],[h,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[m,W],[h,S]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[m,W],[h,y]],[/(nexus 9)/i],[p,[m,"HTC"],[h,S]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[p,/_/g," "],[h,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[m,"Acer"],[h,S]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[m,"Meizu"],[h,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,p,[h,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,p,[h,S]],[/(surface duo)/i],[p,[m,A],[h,S]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[m,"Fairphone"],[h,y]],[/(u304aa)/i],[p,[m,"AT&T"],[h,y]],[/\bsie-(\w*)/i],[p,[m,"Siemens"],[h,y]],[/\b(rct\w+) b/i],[p,[m,"RCA"],[h,S]],[/\b(venue[\d ]{2,7}) b/i],[p,[m,"Dell"],[h,S]],[/\b(q(?:mv|ta)\w+) b/i],[p,[m,"Verizon"],[h,S]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[m,"Barnes & Noble"],[h,S]],[/\b(tm\d{3}\w+) b/i],[p,[m,"NuVision"],[h,S]],[/\b(k88) b/i],[p,[m,"ZTE"],[h,S]],[/\b(nx\d{3}j) b/i],[p,[m,"ZTE"],[h,y]],[/\b(gen\d{3}) b.+49h/i],[p,[m,"Swiss"],[h,y]],[/\b(zur\d{3}) b/i],[p,[m,"Swiss"],[h,S]],[/\b((zeki)?tb.*\b) b/i],[p,[m,"Zeki"],[h,S]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],p,[h,S]],[/\b(ns-?\w{0,9}) b/i],[p,[m,"Insignia"],[h,S]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[m,"NextBook"],[h,S]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],p,[h,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],p,[h,y]],[/\b(ph-1) /i],[p,[m,"Essential"],[h,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[m,"Envizen"],[h,S]],[/\b(trio[-\w\. ]+) b/i],[p,[m,"MachSpeed"],[h,S]],[/\btu_(1491) b/i],[p,[m,"Rotor"],[h,S]],[/(shield[\w ]+) b/i],[p,[m,"Nvidia"],[h,S]],[/(sprint) (\w+)/i],[m,p,[h,y]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[m,A],[h,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[m,De],[h,S]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[m,De],[h,y]],[/smart-tv.+(samsung)/i],[m,[h,R]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[m,se],[h,R]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,D],[h,R]],[/(apple) ?tv/i],[m,[p,I+" TV"],[h,R]],[/crkey/i],[[p,te+"cast"],[m,ie],[h,R]],[/droid.+aft(\w)( bui|\))/i],[p,[m,M],[h,R]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[m,he],[h,R]],[/(bravia[\w ]+)( bui|\))/i],[p,[m,Ee],[h,R]],[/(mitv-\w{5}) bui/i],[p,[m,pe],[h,R]],[/Hbbtv.*(technisat) (.*);/i],[m,p,[h,R]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,cr],[p,cr],[h,R]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,R]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,p,[h,g]],[/droid.+; (shield) bui/i],[p,[m,"Nvidia"],[h,g]],[/(playstation [345portablevi]+)/i],[p,[m,Ee],[h,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[m,A],[h,g]],[/((pebble))app/i],[m,p,[h,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[p,[m,I],[h,x]],[/droid.+; (glass) \d/i],[p,[m,ie],[h,x]],[/droid.+; (wt63?0{2,3})\)/i],[p,[m,De],[h,x]],[/(quest( 2| pro)?)/i],[p,[m,Ft],[h,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[h,C]],[/(aeobc)\b/i],[p,[m,M],[h,C]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[p,[h,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[h,S]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,S]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,y]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[w,[f,de+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[w,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,w],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[w,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,w],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[w,so,qa]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[w,so,qa]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[w,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,Le],[w,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[w,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,w],[/\(bb(10);/i],[w,[f,Q]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[w,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[w,[f,le+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[w,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[w,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[w,[f,te+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,nt],w],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,w],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],w],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,w]]},kt=function(j,J){if(typeof j===l&&(J=j,j=r),!(this instanceof kt))return new kt(j,J).getResult();var K=typeof n!==c&&n.navigator?n.navigator:r,Se=j||(K&&K.userAgent?K.userAgent:s),lr=K&&K.userAgentData?K.userAgentData:r,un=J?ht(Qa,J):Qa,me=K&&K.userAgent==Se;return this.getBrowser=function(){var q={};return q[f]=r,q[w]=r,Jt.call(q,Se,un.browser),q[d]=Re(q[w]),me&&K&&K.brave&&typeof K.brave.isBrave==a&&(q[f]="Brave"),q},this.getCPU=function(){var q={};return q[v]=r,Jt.call(q,Se,un.cpu),q},this.getDevice=function(){var q={};return q[m]=r,q[p]=r,q[h]=r,Jt.call(q,Se,un.device),me&&!q[h]&&lr&&lr.mobile&&(q[h]=y),me&&q[p]=="Macintosh"&&K&&typeof K.standalone!==c&&K.maxTouchPoints&&K.maxTouchPoints>2&&(q[p]="iPad",q[h]=S),q},this.getEngine=function(){var q={};return q[f]=r,q[w]=r,Jt.call(q,Se,un.engine),q},this.getOS=function(){var q={};return q[f]=r,q[w]=r,Jt.call(q,Se,un.os),me&&!q[f]&&lr&&lr.platform!="Unknown"&&(q[f]=lr.platform.replace(/chrome os/i,nt).replace(/macos/i,Le)),q},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Se},this.setUA=function(q){return Se=typeof q===u&&q.length>P?cr(q,P):q,this},this.setUA(Se),this};kt.VERSION=i,kt.BROWSER=Bt([f,w,d]),kt.CPU=Bt([v]),kt.DEVICE=Bt([p,m,h,g,y,R,S,x,C]),kt.ENGINE=kt.OS=Bt([f,w]),e.exports&&(t=e.exports=kt),t.UAParser=kt;var Bn=typeof n!==c&&(n.jQuery||n.Zepto);if(Bn&&!Bn.ua){var Di=new kt;Bn.ua=Di.getResult(),Bn.ua.get=function(){return Di.getUA()},Bn.ua.set=function(j){Di.setUA(j);var J=Di.getResult();for(var K in J)Bn.ua[K]=J[K]}}})(typeof window=="object"?window:E)})(Gf,Gf.exports);var Lj=Gf.exports,Be={},Aj=E&&E.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Be,"__esModule",{value:!0});Be.Logger=void 0;const ji=Aj(Au),Ni="mediasoup-client";let Oj=class{constructor(t){t?(this._debug=(0,ji.default)(`${Ni}:${t}`),this._warn=(0,ji.default)(`${Ni}:WARN:${t}`),this._error=(0,ji.default)(`${Ni}:ERROR:${t}`)):(this._debug=(0,ji.default)(Ni),this._warn=(0,ji.default)(`${Ni}:WARN`),this._error=(0,ji.default)(`${Ni}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};Be.Logger=Oj;var Nn={},Nm={exports:{}},Ts=typeof Reflect=="object"?Reflect:null,dw=Ts&&typeof Ts.apply=="function"?Ts.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},nl;Ts&&typeof Ts.ownKeys=="function"?nl=Ts.ownKeys:Object.getOwnPropertySymbols?nl=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:nl=function(t){return Object.getOwnPropertyNames(t)};function Mj(e){console&&console.warn&&console.warn(e)}var v1=Number.isNaN||function(t){return t!==t};function _e(){_e.init.call(this)}Nm.exports=_e;Nm.exports.once=Fj;_e.EventEmitter=_e;_e.prototype._events=void 0;_e.prototype._eventsCount=0;_e.prototype._maxListeners=void 0;var pw=10;function Ou(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(_e,"defaultMaxListeners",{enumerable:!0,get:function(){return pw},set:function(e){if(typeof e!="number"||e<0||v1(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");pw=e}});_e.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};_e.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||v1(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function w1(e){return e._maxListeners===void 0?_e.defaultMaxListeners:e._maxListeners}_e.prototype.getMaxListeners=function(){return w1(this)};_e.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[t];if(c===void 0)return!1;if(typeof c=="function")dw(c,this,n);else for(var l=c.length,u=C1(c,l),r=0;r<l;++r)dw(u[r],this,n);return!0};function _1(e,t,n,r){var i,s,o;if(Ou(n),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),o===void 0)o=s[t]=n,++e._eventsCount;else if(typeof o=="function"?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=w1(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,Mj(a)}return e}_e.prototype.addListener=function(t,n){return _1(this,t,n,!1)};_e.prototype.on=_e.prototype.addListener;_e.prototype.prependListener=function(t,n){return _1(this,t,n,!0)};function Ij(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function S1(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=Ij.bind(r);return i.listener=n,r.wrapFn=i,i}_e.prototype.once=function(t,n){return Ou(n),this.on(t,S1(this,t,n)),this};_e.prototype.prependOnceListener=function(t,n){return Ou(n),this.prependListener(t,S1(this,t,n)),this};_e.prototype.removeListener=function(t,n){var r,i,s,o,a;if(Ou(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():jj(r,s),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this};_e.prototype.off=_e.prototype.removeListener;_e.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function b1(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?Nj(i):C1(i,i.length)}_e.prototype.listeners=function(t){return b1(this,t,!0)};_e.prototype.rawListeners=function(t){return b1(this,t,!1)};_e.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):R1.call(e,t)};_e.prototype.listenerCount=R1;function R1(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}_e.prototype.eventNames=function(){return this._eventsCount>0?nl(this._events):[]};function C1(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function jj(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Nj(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function Fj(e,t){return new Promise(function(n,r){function i(o){e.removeListener(t,s),r(o)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}x1(e,t,s,{once:!0}),t!=="error"&&Bj(e,i,{once:!0})})}function Bj(e,t,n){typeof e.on=="function"&&x1(e,"error",t,n)}function x1(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(s){r.once&&e.removeEventListener(t,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var $j=Nm.exports;Object.defineProperty(Nn,"__esModule",{value:!0});Nn.EnhancedEventEmitter=void 0;const Uj=$j,Vj=Be,zj=new Vj.Logger("EnhancedEventEmitter");class Hj extends Uj.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}emit(t,...n){return super.emit(t,...n)}safeEmit(t,...n){const r=super.listenerCount(t);try{return super.emit(t,...n)}catch(i){return zj.error("safeEmit() | event listener threw an error [eventName:%s]:%o",t,i),!!r}}on(t,n){return super.on(t,n),this}off(t,n){return super.off(t,n),this}addListener(t,n){return super.on(t,n),this}prependListener(t,n){return super.prependListener(t,n),this}once(t,n){return super.once(t,n),this}prependOnceListener(t,n){return super.prependOnceListener(t,n),this}removeListener(t,n){return super.off(t,n),this}removeAllListeners(t){return super.removeAllListeners(t),this}listenerCount(t){return super.listenerCount(t)}listeners(t){return super.listeners(t)}rawListeners(t){return super.rawListeners(t)}}Nn.EnhancedEventEmitter=Hj;var tt={};Object.defineProperty(tt,"__esModule",{value:!0});tt.InvalidStateError=tt.UnsupportedError=void 0;class Fm extends Error{constructor(t){super(t),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,Fm):this.stack=new Error(t).stack}}tt.UnsupportedError=Fm;class Bm extends Error{constructor(t){super(t),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,Bm):this.stack=new Error(t).stack}}tt.InvalidStateError=Bm;var Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.generateRandomNumber=Ve.clone=void 0;function Wj(e,t){return typeof e>"u"?t:JSON.parse(JSON.stringify(e))}Ve.clone=Wj;function Gj(){return Math.round(Math.random()*1e7)}Ve.generateRandomNumber=Gj;var F={},T1={};(function(e){const t=Au("h264-profile-level-id");t.log=console.info.bind(console);const n=1,r=2,i=3,s=4,o=5;e.ProfileConstrainedBaseline=n,e.ProfileBaseline=r,e.ProfileMain=i,e.ProfileConstrainedHigh=s,e.ProfileHigh=o;const a=0,c=10,l=11,u=12,d=13,p=20,f=21,h=22,m=30,w=31,v=32,g=40,y=41,S=42,R=50,x=51,C=52;e.Level1_b=a,e.Level1=c,e.Level1_1=l,e.Level1_2=u,e.Level1_3=d,e.Level2=p,e.Level2_1=f,e.Level2_2=h,e.Level3=m,e.Level3_1=w,e.Level3_2=v,e.Level4=g,e.Level4_1=y,e.Level4_2=S,e.Level5=R,e.Level5_1=x,e.Level5_2=C;class P{constructor(D,A){this.profile=D,this.level=A}}e.ProfileLevelId=P;const M=new P(n,w),I=16;class W{constructor(D){this._mask=~te("x",D),this._maskedValue=te("1",D)}isMatch(D){return this._maskedValue===(D&this._mask)}}class Q{constructor(D,A,O){this.profile_idc=D,this.profile_iop=A,this.profile=O}}const fe=[new Q(66,new W("x1xx0000"),n),new Q(77,new W("1xxx0000"),n),new Q(88,new W("11xx0000"),n),new Q(66,new W("x0xx0000"),r),new Q(88,new W("10xx0000"),r),new Q(77,new W("0x0x0000"),i),new Q(100,new W("00000000"),o),new Q(100,new W("00001100"),s)];e.parseProfileLevelId=function(T){if(typeof T!="string"||T.length!==6)return null;const D=parseInt(T,16);if(D===0)return null;const A=D&255,O=D>>8&255,G=D>>16&255;let se;switch(A){case l:{se=O&I?a:l;break}case c:case u:case d:case p:case f:case h:case m:case w:case v:case g:case y:case S:case R:case x:case C:{se=A;break}default:return t("parseProfileLevelId() | unrecognized level_idc:%s",A),null}for(const he of fe)if(G===he.profile_idc&&he.profile_iop.isMatch(O))return new P(he.profile,se);return t("parseProfileLevelId() | unrecognized profile_idc/profile_iop combination"),null},e.profileLevelIdToString=function(T){if(T.level==a)switch(T.profile){case n:return"42f00b";case r:return"42100b";case i:return"4d100b";default:return t("profileLevelIdToString() | Level 1_b not is allowed for profile:%s",T.profile),null}let D;switch(T.profile){case n:{D="42e0";break}case r:{D="4200";break}case i:{D="4d00";break}case s:{D="640c";break}case o:{D="6400";break}default:return t("profileLevelIdToString() | unrecognized profile:%s",T.profile),null}let A=T.level.toString(16);return A.length===1&&(A=`0${A}`),`${D}${A}`},e.parseSdpProfileLevelId=function(T={}){const D=T["profile-level-id"];return D?e.parseProfileLevelId(D):M},e.isSameProfile=function(T={},D={}){const A=e.parseSdpProfileLevelId(T),O=e.parseSdpProfileLevelId(D);return!!(A&&O&&A.profile===O.profile)},e.generateProfileLevelIdForAnswer=function(T={},D={}){if(!T["profile-level-id"]&&!D["profile-level-id"])return t("generateProfileLevelIdForAnswer() | no profile-level-id in local and remote params"),null;const A=e.parseSdpProfileLevelId(T),O=e.parseSdpProfileLevelId(D);if(!A)throw new TypeError("invalid local_profile_level_id");if(!O)throw new TypeError("invalid remote_profile_level_id");if(A.profile!==O.profile)throw new TypeError("H264 Profile mismatch");const G=ie(T)&&ie(D),se=A.level,he=O.level,Ee=le(se,he),pe=G?se:Ee;return t("generateProfileLevelIdForAnswer() | result: [profile:%s, level:%s]",A.profile,pe),e.profileLevelIdToString(new P(A.profile,pe))};function te(T,D){return(D[0]===T)<<7|(D[1]===T)<<6|(D[2]===T)<<5|(D[3]===T)<<4|(D[4]===T)<<3|(D[5]===T)<<2|(D[6]===T)<<1|(D[7]===T)<<0}function de(T,D){return T===a?D!==c&&D!==a:D===a?T!==c:T<D}function le(T,D){return de(T,D)?T:D}function ie(T={}){const D=T["level-asymmetry-allowed"];return D===1||D==="1"}})(T1);var Kj=E&&E.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),qj=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),E1=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Kj(t,e,n);return qj(t,e),t};Object.defineProperty(F,"__esModule",{value:!0});F.canReceive=F.canSend=F.generateProbatorRtpParameters=F.reduceCodecs=F.getSendingRemoteRtpParameters=F.getSendingRtpParameters=F.getRecvRtpCapabilities=F.getExtendedRtpCapabilities=F.validateSctpStreamParameters=F.validateSctpParameters=F.validateNumSctpStreams=F.validateSctpCapabilities=F.validateRtcpParameters=F.validateRtpEncodingParameters=F.validateRtpHeaderExtensionParameters=F.validateRtpCodecParameters=F.validateRtpParameters=F.validateRtpHeaderExtension=F.validateRtcpFeedback=F.validateRtpCodecCapability=F.validateRtpCapabilities=void 0;const fw=E1(T1),Qj=E1(Ve),Yj="probator",Xj=1234,Jj=127;function Zj(e){if(typeof e!="object")throw new TypeError("caps is not an object");if(e.codecs&&!Array.isArray(e.codecs))throw new TypeError("caps.codecs is not an array");e.codecs||(e.codecs=[]);for(const t of e.codecs)P1(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)k1(t)}F.validateRtpCapabilities=Zj;function P1(e){const t=new RegExp("^(audio|video)/(.+)","i");if(typeof e!="object")throw new TypeError("codec is not an object");if(!e.mimeType||typeof e.mimeType!="string")throw new TypeError("missing codec.mimeType");const n=t.exec(e.mimeType);if(!n)throw new TypeError("invalid codec.mimeType");if(e.kind=n[1].toLowerCase(),e.preferredPayloadType&&typeof e.preferredPayloadType!="number")throw new TypeError("invalid codec.preferredPayloadType");if(typeof e.clockRate!="number")throw new TypeError("missing codec.clockRate");e.kind==="audio"?typeof e.channels!="number"&&(e.channels=1):delete e.channels,(!e.parameters||typeof e.parameters!="object")&&(e.parameters={});for(const r of Object.keys(e.parameters)){let i=e.parameters[r];if(i===void 0&&(e.parameters[r]="",i=""),typeof i!="string"&&typeof i!="number")throw new TypeError(`invalid codec parameter [key:${r}s, value:${i}]`);if(r==="apt"&&typeof i!="number")throw new TypeError("invalid codec apt parameter")}(!e.rtcpFeedback||!Array.isArray(e.rtcpFeedback))&&(e.rtcpFeedback=[]);for(const r of e.rtcpFeedback)$m(r)}F.validateRtpCodecCapability=P1;function $m(e){if(typeof e!="object")throw new TypeError("fb is not an object");if(!e.type||typeof e.type!="string")throw new TypeError("missing fb.type");(!e.parameter||typeof e.parameter!="string")&&(e.parameter="")}F.validateRtcpFeedback=$m;function k1(e){if(typeof e!="object")throw new TypeError("ext is not an object");if(e.kind!=="audio"&&e.kind!=="video")throw new TypeError("invalid ext.kind");if(!e.uri||typeof e.uri!="string")throw new TypeError("missing ext.uri");if(typeof e.preferredId!="number")throw new TypeError("missing ext.preferredId");if(e.preferredEncrypt&&typeof e.preferredEncrypt!="boolean")throw new TypeError("invalid ext.preferredEncrypt");if(e.preferredEncrypt||(e.preferredEncrypt=!1),e.direction&&typeof e.direction!="string")throw new TypeError("invalid ext.direction");e.direction||(e.direction="sendrecv")}F.validateRtpHeaderExtension=k1;function Um(e){if(typeof e!="object")throw new TypeError("params is not an object");if(e.mid&&typeof e.mid!="string")throw new TypeError("params.mid is not a string");if(!Array.isArray(e.codecs))throw new TypeError("missing params.codecs");for(const t of e.codecs)D1(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("params.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)L1(t);if(e.encodings&&!Array.isArray(e.encodings))throw new TypeError("params.encodings is not an array");e.encodings||(e.encodings=[]);for(const t of e.encodings)A1(t);if(e.rtcp&&typeof e.rtcp!="object")throw new TypeError("params.rtcp is not an object");e.rtcp||(e.rtcp={}),O1(e.rtcp)}F.validateRtpParameters=Um;function D1(e){const t=new RegExp("^(audio|video)/(.+)","i");if(typeof e!="object")throw new TypeError("codec is not an object");if(!e.mimeType||typeof e.mimeType!="string")throw new TypeError("missing codec.mimeType");const n=t.exec(e.mimeType);if(!n)throw new TypeError("invalid codec.mimeType");if(typeof e.payloadType!="number")throw new TypeError("missing codec.payloadType");if(typeof e.clockRate!="number")throw new TypeError("missing codec.clockRate");n[1].toLowerCase()==="audio"?typeof e.channels!="number"&&(e.channels=1):delete e.channels,(!e.parameters||typeof e.parameters!="object")&&(e.parameters={});for(const i of Object.keys(e.parameters)){let s=e.parameters[i];if(s===void 0&&(e.parameters[i]="",s=""),typeof s!="string"&&typeof s!="number")throw new TypeError(`invalid codec parameter [key:${i}s, value:${s}]`);if(i==="apt"&&typeof s!="number")throw new TypeError("invalid codec apt parameter")}(!e.rtcpFeedback||!Array.isArray(e.rtcpFeedback))&&(e.rtcpFeedback=[]);for(const i of e.rtcpFeedback)$m(i)}F.validateRtpCodecParameters=D1;function L1(e){if(typeof e!="object")throw new TypeError("ext is not an object");if(!e.uri||typeof e.uri!="string")throw new TypeError("missing ext.uri");if(typeof e.id!="number")throw new TypeError("missing ext.id");if(e.encrypt&&typeof e.encrypt!="boolean")throw new TypeError("invalid ext.encrypt");e.encrypt||(e.encrypt=!1),(!e.parameters||typeof e.parameters!="object")&&(e.parameters={});for(const t of Object.keys(e.parameters)){let n=e.parameters[t];if(n===void 0&&(e.parameters[t]="",n=""),typeof n!="string"&&typeof n!="number")throw new TypeError("invalid header extension parameter")}}F.validateRtpHeaderExtensionParameters=L1;function A1(e){if(typeof e!="object")throw new TypeError("encoding is not an object");if(e.ssrc&&typeof e.ssrc!="number")throw new TypeError("invalid encoding.ssrc");if(e.rid&&typeof e.rid!="string")throw new TypeError("invalid encoding.rid");if(e.rtx&&typeof e.rtx!="object")throw new TypeError("invalid encoding.rtx");if(e.rtx&&typeof e.rtx.ssrc!="number")throw new TypeError("missing encoding.rtx.ssrc");if((!e.dtx||typeof e.dtx!="boolean")&&(e.dtx=!1),e.scalabilityMode&&typeof e.scalabilityMode!="string")throw new TypeError("invalid encoding.scalabilityMode")}F.validateRtpEncodingParameters=A1;function O1(e){if(typeof e!="object")throw new TypeError("rtcp is not an object");if(e.cname&&typeof e.cname!="string")throw new TypeError("invalid rtcp.cname");(!e.reducedSize||typeof e.reducedSize!="boolean")&&(e.reducedSize=!0)}F.validateRtcpParameters=O1;function eN(e){if(typeof e!="object")throw new TypeError("caps is not an object");if(!e.numStreams||typeof e.numStreams!="object")throw new TypeError("missing caps.numStreams");M1(e.numStreams)}F.validateSctpCapabilities=eN;function M1(e){if(typeof e!="object")throw new TypeError("numStreams is not an object");if(typeof e.OS!="number")throw new TypeError("missing numStreams.OS");if(typeof e.MIS!="number")throw new TypeError("missing numStreams.MIS")}F.validateNumSctpStreams=M1;function tN(e){if(typeof e!="object")throw new TypeError("params is not an object");if(typeof e.port!="number")throw new TypeError("missing params.port");if(typeof e.OS!="number")throw new TypeError("missing params.OS");if(typeof e.MIS!="number")throw new TypeError("missing params.MIS");if(typeof e.maxMessageSize!="number")throw new TypeError("missing params.maxMessageSize")}F.validateSctpParameters=tN;function nN(e){if(typeof e!="object")throw new TypeError("params is not an object");if(typeof e.streamId!="number")throw new TypeError("missing params.streamId");let t=!1;if(typeof e.ordered=="boolean"?t=!0:e.ordered=!0,e.maxPacketLifeTime&&typeof e.maxPacketLifeTime!="number")throw new TypeError("invalid params.maxPacketLifeTime");if(e.maxRetransmits&&typeof e.maxRetransmits!="number")throw new TypeError("invalid params.maxRetransmits");if(e.maxPacketLifeTime&&e.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(t&&e.ordered&&(e.maxPacketLifeTime||e.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(!t&&(e.maxPacketLifeTime||e.maxRetransmits)&&(e.ordered=!1),e.label&&typeof e.label!="string")throw new TypeError("invalid params.label");if(e.protocol&&typeof e.protocol!="string")throw new TypeError("invalid params.protocol")}F.validateSctpStreamParameters=nN;function rN(e,t){const n={codecs:[],headerExtensions:[]};for(const r of t.codecs||[]){if(Ko(r))continue;const i=(e.codecs||[]).find(o=>I1(o,r,{strict:!0,modify:!0}));if(!i)continue;const s={mimeType:i.mimeType,kind:i.kind,clockRate:i.clockRate,channels:i.channels,localPayloadType:i.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:r.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:i.parameters,remoteParameters:r.parameters,rtcpFeedback:pN(i,r)};n.codecs.push(s)}for(const r of n.codecs){const i=e.codecs.find(o=>Ko(o)&&o.parameters.apt===r.localPayloadType),s=t.codecs.find(o=>Ko(o)&&o.parameters.apt===r.remotePayloadType);i&&s&&(r.localRtxPayloadType=i.preferredPayloadType,r.remoteRtxPayloadType=s.preferredPayloadType)}for(const r of t.headerExtensions){const i=e.headerExtensions.find(o=>dN(o,r));if(!i)continue;const s={kind:r.kind,uri:r.uri,sendId:i.preferredId,recvId:r.preferredId,encrypt:i.preferredEncrypt,direction:"sendrecv"};switch(r.direction){case"sendrecv":s.direction="sendrecv";break;case"recvonly":s.direction="sendonly";break;case"sendonly":s.direction="recvonly";break;case"inactive":s.direction="inactive";break}n.headerExtensions.push(s)}return n}F.getExtendedRtpCapabilities=rN;function iN(e){const t={codecs:[],headerExtensions:[]};for(const n of e.codecs){const r={mimeType:n.mimeType,kind:n.kind,preferredPayloadType:n.remotePayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.localParameters,rtcpFeedback:n.rtcpFeedback};if(t.codecs.push(r),!n.remoteRtxPayloadType)continue;const i={mimeType:`${n.kind}/rtx`,kind:n.kind,preferredPayloadType:n.remoteRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.remotePayloadType},rtcpFeedback:[]};t.codecs.push(i)}for(const n of e.headerExtensions){if(n.direction!=="sendrecv"&&n.direction!=="recvonly")continue;const r={kind:n.kind,uri:n.uri,preferredId:n.recvId,preferredEncrypt:n.encrypt,direction:n.direction};t.headerExtensions.push(r)}return t}F.getRecvRtpCapabilities=iN;function sN(e,t){const n={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const r of t.codecs){if(r.kind!==e)continue;const i={mimeType:r.mimeType,payloadType:r.localPayloadType,clockRate:r.clockRate,channels:r.channels,parameters:r.localParameters,rtcpFeedback:r.rtcpFeedback};if(n.codecs.push(i),r.localRtxPayloadType){const s={mimeType:`${r.kind}/rtx`,payloadType:r.localRtxPayloadType,clockRate:r.clockRate,parameters:{apt:r.localPayloadType},rtcpFeedback:[]};n.codecs.push(s)}}for(const r of t.headerExtensions){if(r.kind&&r.kind!==e||r.direction!=="sendrecv"&&r.direction!=="sendonly")continue;const i={uri:r.uri,id:r.sendId,encrypt:r.encrypt,parameters:{}};n.headerExtensions.push(i)}return n}F.getSendingRtpParameters=sN;function oN(e,t){const n={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const r of t.codecs){if(r.kind!==e)continue;const i={mimeType:r.mimeType,payloadType:r.localPayloadType,clockRate:r.clockRate,channels:r.channels,parameters:r.remoteParameters,rtcpFeedback:r.rtcpFeedback};if(n.codecs.push(i),r.localRtxPayloadType){const s={mimeType:`${r.kind}/rtx`,payloadType:r.localRtxPayloadType,clockRate:r.clockRate,parameters:{apt:r.localPayloadType},rtcpFeedback:[]};n.codecs.push(s)}}for(const r of t.headerExtensions){if(r.kind&&r.kind!==e||r.direction!=="sendrecv"&&r.direction!=="sendonly")continue;const i={uri:r.uri,id:r.sendId,encrypt:r.encrypt,parameters:{}};n.headerExtensions.push(i)}if(n.headerExtensions.some(r=>r.uri==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"))for(const r of n.codecs)r.rtcpFeedback=(r.rtcpFeedback||[]).filter(i=>i.type!=="goog-remb");else if(n.headerExtensions.some(r=>r.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"))for(const r of n.codecs)r.rtcpFeedback=(r.rtcpFeedback||[]).filter(i=>i.type!=="transport-cc");else for(const r of n.codecs)r.rtcpFeedback=(r.rtcpFeedback||[]).filter(i=>i.type!=="transport-cc"&&i.type!=="goog-remb");return n}F.getSendingRemoteRtpParameters=oN;function aN(e,t){const n=[];if(!t)n.push(e[0]),Ko(e[1])&&n.push(e[1]);else{for(let r=0;r<e.length;++r)if(I1(e[r],t)){n.push(e[r]),Ko(e[r+1])&&n.push(e[r+1]);break}if(n.length===0)throw new TypeError("no matching codec found")}return n}F.reduceCodecs=aN;function cN(e){e=Qj.clone(e,{}),Um(e);const t={mid:Yj,codecs:[],headerExtensions:[],encodings:[{ssrc:Xj}],rtcp:{cname:"probator"}};return t.codecs.push(e.codecs[0]),t.codecs[0].payloadType=Jj,t.headerExtensions=e.headerExtensions,t}F.generateProbatorRtpParameters=cN;function lN(e,t){return t.codecs.some(n=>n.kind===e)}F.canSend=lN;function uN(e,t){if(Um(e),e.codecs.length===0)return!1;const n=e.codecs[0];return t.codecs.some(r=>r.remotePayloadType===n.payloadType)}F.canReceive=uN;function Ko(e){return e?/.+\/rtx$/i.test(e.mimeType):!1}function I1(e,t,{strict:n=!1,modify:r=!1}={}){const i=e.mimeType.toLowerCase(),s=t.mimeType.toLowerCase();if(i!==s||e.clockRate!==t.clockRate||e.channels!==t.channels)return!1;switch(i){case"video/h264":{if(n){const o=e.parameters["packetization-mode"]||0,a=t.parameters["packetization-mode"]||0;if(o!==a||!fw.isSameProfile(e.parameters,t.parameters))return!1;let c;try{c=fw.generateProfileLevelIdForAnswer(e.parameters,t.parameters)}catch{return!1}r&&(c?(e.parameters["profile-level-id"]=c,t.parameters["profile-level-id"]=c):(delete e.parameters["profile-level-id"],delete t.parameters["profile-level-id"]))}break}case"video/vp9":{if(n){const o=e.parameters["profile-id"]||0,a=t.parameters["profile-id"]||0;if(o!==a)return!1}break}}return!0}function dN(e,t){return!(e.kind&&t.kind&&e.kind!==t.kind||e.uri!==t.uri)}function pN(e,t){const n=[];for(const r of e.rtcpFeedback||[]){const i=(t.rtcpFeedback||[]).find(s=>s.type===r.type&&(s.parameter===r.parameter||!s.parameter&&!r.parameter));i&&n.push(i)}return n}var ja={},Br={},Mu={},fN=E&&E.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mu,"__esModule",{value:!0});Mu.Logger=void 0;const Fi=fN(Au),Bi="awaitqueue";class hN{constructor(t){t?(this._debug=(0,Fi.default)(`${Bi}:${t}`),this._warn=(0,Fi.default)(`${Bi}:WARN:${t}`),this._error=(0,Fi.default)(`${Bi}:ERROR:${t}`)):(this._debug=(0,Fi.default)(Bi),this._warn=(0,Fi.default)(`${Bi}:WARN`),this._error=(0,Fi.default)(`${Bi}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}Mu.Logger=hN;Object.defineProperty(Br,"__esModule",{value:!0});Br.AwaitQueue=Br.AwaitQueueRemovedTaskError=Br.AwaitQueueStoppedError=void 0;const mN=Mu,pr=new mN.Logger;class Iu extends Error{constructor(t){super(t??"AwaitQueue stopped"),this.name="AwaitQueueStoppedError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Iu)}}Br.AwaitQueueStoppedError=Iu;class ju extends Error{constructor(t){super(t??"AwaitQueue task removed"),this.name="AwaitQueueRemovedTaskError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ju)}}Br.AwaitQueueRemovedTaskError=ju;class gN{constructor(){this.pendingTasks=new Map,this.nextTaskId=0,this.stopping=!1}get size(){return this.pendingTasks.size}async push(t,n){if(n=n??t.name,pr.debug(`push() [name:${n}]`),typeof t!="function")throw new TypeError("given task is not a function");if(n)try{Object.defineProperty(t,"name",{value:n})}catch{}return new Promise((r,i)=>{const s={id:this.nextTaskId++,task:t,name:n,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:o=>{if(s.completed)return;s.completed=!0,this.pendingTasks.delete(s.id),pr.debug(`resolving task [name:${s.name}]`),r(o);const[a]=this.pendingTasks.values();a&&!a.executedAt&&this.execute(a)},reject:o=>{if(!s.completed&&(s.completed=!0,this.pendingTasks.delete(s.id),pr.debug(`rejecting task [name:${s.name}]: %s`,String(o)),i(o),!this.stopping)){const[a]=this.pendingTasks.values();a&&!a.executedAt&&this.execute(a)}}};this.pendingTasks.set(s.id,s),this.pendingTasks.size===1&&this.execute(s)})}stop(){pr.debug("stop()"),this.stopping=!0;for(const t of this.pendingTasks.values())pr.debug(`stop() | stopping task [name:${t.name}]`),t.reject(new Iu);this.stopping=!1}remove(t){pr.debug(`remove() [taskIdx:${t}]`);const n=Array.from(this.pendingTasks.values())[t];if(!n){pr.debug(`stop() | no task with given idx [taskIdx:${t}]`);return}n.reject(new ju)}dump(){const t=Date.now();let n=0;return Array.from(this.pendingTasks.values()).map(r=>({idx:n++,task:r.task,name:r.name,enqueuedTime:r.executedAt?r.executedAt-r.enqueuedAt:t-r.enqueuedAt,executionTime:r.executedAt?t-r.executedAt:0}))}async execute(t){if(pr.debug(`execute() [name:${t.name}]`),t.executedAt)throw new Error("task already being executed");t.executedAt=Date.now();try{const n=await t.task();t.resolve(n)}catch(n){t.reject(n)}}}Br.AwaitQueue=gN;/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let hw;var yN=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:E):e=>(hw||(hw=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0)),Na={};Object.defineProperty(Na,"__esModule",{value:!0});Na.Producer=void 0;const vN=Be,mw=Nn,$i=tt,fn=new vN.Logger("Producer");class wN extends mw.EnhancedEventEmitter{constructor({id:t,localId:n,rtpSender:r,track:i,rtpParameters:s,stopTracks:o,disableTrackOnPause:a,zeroRtpOnPause:c,appData:l}){super(),this._closed=!1,this._observer=new mw.EnhancedEventEmitter,fn.debug("constructor()"),this._id=t,this._localId=n,this._rtpSender=r,this._track=i,this._kind=i.kind,this._rtpParameters=s,this._paused=a?!i.enabled:!1,this._maxSpatialLayer=void 0,this._stopTracks=o,this._disableTrackOnPause=a,this._zeroRtpOnPause=c,this._appData=l||{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(fn.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(fn.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new $i.InvalidStateError("closed");return new Promise((t,n)=>{this.safeEmit("@getstats",t,n)})}pause(){if(fn.debug("pause()"),this._closed){fn.error("pause() | Producer closed");return}this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((t,n)=>{this.safeEmit("@pause",t,n)}).catch(()=>{}),this._observer.safeEmit("pause")}resume(){if(fn.debug("resume()"),this._closed){fn.error("resume() | Producer closed");return}this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((t,n)=>{this.safeEmit("@resume",t,n)}).catch(()=>{}),this._observer.safeEmit("resume")}async replaceTrack({track:t}){if(fn.debug("replaceTrack() [track:%o]",t),this._closed){if(t&&this._stopTracks)try{t.stop()}catch{}throw new $i.InvalidStateError("closed")}else if(t&&t.readyState==="ended")throw new $i.InvalidStateError("track ended");if(t===this._track){fn.debug("replaceTrack() | same track, ignored");return}await new Promise((n,r)=>{this.safeEmit("@replacetrack",t,n,r)}),this.destroyTrack(),this._track=t,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()}async setMaxSpatialLayer(t){if(this._closed)throw new $i.InvalidStateError("closed");if(this._kind!=="video")throw new $i.UnsupportedError("not a video Producer");if(typeof t!="number")throw new TypeError("invalid spatialLayer");t!==this._maxSpatialLayer&&(await new Promise((n,r)=>{this.safeEmit("@setmaxspatiallayer",t,n,r)}).catch(()=>{}),this._maxSpatialLayer=t)}async setRtpEncodingParameters(t){if(this._closed)throw new $i.InvalidStateError("closed");if(typeof t!="object")throw new TypeError("invalid params");await new Promise((n,r)=>{this.safeEmit("@setrtpencodingparameters",t,n,r)})}onTrackEnded(){fn.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch{}}}Na.Producer=wN;var Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});Fa.Consumer=void 0;const _N=Be,gw=Nn,SN=tt,hn=new _N.Logger("Consumer");class bN extends gw.EnhancedEventEmitter{constructor({id:t,localId:n,producerId:r,rtpReceiver:i,track:s,rtpParameters:o,appData:a}){super(),this._closed=!1,this._observer=new gw.EnhancedEventEmitter,hn.debug("constructor()"),this._id=t,this._localId=n,this._producerId=r,this._rtpReceiver=i,this._track=s,this._rtpParameters=o,this._paused=!s.enabled,this._appData=a||{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(hn.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(hn.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new SN.InvalidStateError("closed");return new Promise((t,n)=>{this.safeEmit("@getstats",t,n)})}pause(){if(hn.debug("pause()"),this._closed){hn.error("pause() | Consumer closed");return}if(this._paused){hn.debug("pause() | Consumer is already paused");return}this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause")}resume(){if(hn.debug("resume()"),this._closed){hn.error("resume() | Consumer closed");return}if(!this._paused){hn.debug("resume() | Consumer is already resumed");return}this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")}onTrackEnded(){hn.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch{}}}Fa.Consumer=bN;var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});Ba.DataProducer=void 0;const RN=Be,yw=Nn,CN=tt,Un=new RN.Logger("DataProducer");class xN extends yw.EnhancedEventEmitter{constructor({id:t,dataChannel:n,sctpStreamParameters:r,appData:i}){super(),this._closed=!1,this._observer=new yw.EnhancedEventEmitter,Un.debug("constructor()"),this._id=t,this._dataChannel=n,this._sctpStreamParameters=r,this._appData=i||{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(t){this._dataChannel.bufferedAmountLowThreshold=t}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(Un.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(Un.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(t){if(Un.debug("send()"),this._closed)throw new CN.InvalidStateError("closed");this._dataChannel.send(t)}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(Un.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",t=>{if(this._closed)return;let{error:n}=t;n||(n=new Error("unknown DataChannel error")),n.errorDetail==="sctp-failure"?Un.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",n.sctpCauseCode,n.message):Un.error('DataChannel "error" event: %o',n),this.safeEmit("error",n)}),this._dataChannel.addEventListener("close",()=>{this._closed||(Un.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||Un.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}}Ba.DataProducer=xN;var $a={};Object.defineProperty($a,"__esModule",{value:!0});$a.DataConsumer=void 0;const TN=Be,vw=Nn,Xr=new TN.Logger("DataConsumer");class EN extends vw.EnhancedEventEmitter{constructor({id:t,dataProducerId:n,dataChannel:r,sctpStreamParameters:i,appData:s}){super(),this._closed=!1,this._observer=new vw.EnhancedEventEmitter,Xr.debug("constructor()"),this._id=t,this._dataProducerId=n,this._dataChannel=r,this._sctpStreamParameters=i,this._appData=s||{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(t){this._dataChannel.binaryType=t}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(Xr.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(Xr.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(Xr.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",t=>{if(this._closed)return;let{error:n}=t;n||(n=new Error("unknown DataChannel error")),n.errorDetail==="sctp-failure"?Xr.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",n.sctpCauseCode,n.message):Xr.error('DataChannel "error" event: %o',n),this.safeEmit("error",n)}),this._dataChannel.addEventListener("close",()=>{this._closed||(Xr.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",t=>{this._closed||this.safeEmit("message",t.data)})}}$a.DataConsumer=EN;var PN=E&&E.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),kN=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),j1=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&PN(t,e,n);return kN(t,e),t},DN=E&&E.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ja,"__esModule",{value:!0});ja.Transport=void 0;const LN=Br,tp=DN(yN),AN=Be,ww=Nn,Qe=tt,np=j1(Ve),vo=j1(F),ON=Na,MN=Fa,IN=Ba,jN=$a,He=new AN.Logger("Transport");class NN{constructor(t){this.consumerOptions=t,this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}}let FN=class extends ww.EnhancedEventEmitter{constructor({direction:t,id:n,iceParameters:r,iceCandidates:i,dtlsParameters:s,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:u,appData:d,handlerFactory:p,extendedRtpCapabilities:f,canProduceByKind:h}){super(),this._closed=!1,this._iceGatheringState="new",this._connectionState="new",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new LN.AwaitQueue,this._pendingConsumerTasks=[],this._consumerCreationInProgress=!1,this._pendingPauseConsumers=new Map,this._consumerPauseInProgress=!1,this._pendingResumeConsumers=new Map,this._consumerResumeInProgress=!1,this._pendingCloseConsumers=new Map,this._consumerCloseInProgress=!1,this._observer=new ww.EnhancedEventEmitter,He.debug("constructor() [id:%s, direction:%s]",n,t),this._id=n,this._direction=t,this._extendedRtpCapabilities=f,this._canProduceByKind=h,this._maxSctpMessageSize=o?o.maxMessageSize:null,l=np.clone(l,{}),delete l.iceServers,delete l.iceTransportPolicy,delete l.bundlePolicy,delete l.rtcpMuxPolicy,delete l.sdpSemantics,this._handler=p(),this._handler.run({direction:t,iceParameters:r,iceCandidates:i,dtlsParameters:s,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:u,extendedRtpCapabilities:f}),this._appData=d||{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){if(!this._closed){He.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const t of this._producers.values())t.transportClosed();this._producers.clear();for(const t of this._consumers.values())t.transportClosed();this._consumers.clear();for(const t of this._dataProducers.values())t.transportClosed();this._dataProducers.clear();for(const t of this._dataConsumers.values())t.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new Qe.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:t}){if(He.debug("restartIce()"),this._closed)throw new Qe.InvalidStateError("closed");if(!t)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>await this._handler.restartIce(t),"transport.restartIce()")}async updateIceServers({iceServers:t}={}){if(He.debug("updateIceServers()"),this._closed)throw new Qe.InvalidStateError("closed");if(!Array.isArray(t))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(t),"transport.updateIceServers()")}async produce({track:t,encodings:n,codecOptions:r,codec:i,stopTracks:s=!0,disableTrackOnPause:o=!0,zeroRtpOnPause:a=!1,appData:c={}}={}){if(He.debug("produce() [track:%o]",t),this._closed)throw new Qe.InvalidStateError("closed");if(t){if(this._direction!=="send")throw new Qe.UnsupportedError("not a sending Transport");if(this._canProduceByKind[t.kind]){if(t.readyState==="ended")throw new Qe.InvalidStateError("track ended");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("produce")===0)throw new TypeError('no "produce" listener set into this transport');if(c&&typeof c!="object")throw new TypeError("if given, appData must be an object")}else throw new Qe.UnsupportedError(`cannot produce ${t.kind}`)}else throw new TypeError("missing track");return this._awaitQueue.push(async()=>{let l;if(n&&!Array.isArray(n))throw TypeError("encodings must be an array");n&&n.length===0?l=void 0:n&&(l=n.map(f=>{const h={active:!0};return f.active===!1&&(h.active=!1),typeof f.dtx=="boolean"&&(h.dtx=f.dtx),typeof f.scalabilityMode=="string"&&(h.scalabilityMode=f.scalabilityMode),typeof f.scaleResolutionDownBy=="number"&&(h.scaleResolutionDownBy=f.scaleResolutionDownBy),typeof f.maxBitrate=="number"&&(h.maxBitrate=f.maxBitrate),typeof f.maxFramerate=="number"&&(h.maxFramerate=f.maxFramerate),typeof f.adaptivePtime=="boolean"&&(h.adaptivePtime=f.adaptivePtime),typeof f.priority=="string"&&(h.priority=f.priority),typeof f.networkPriority=="string"&&(h.networkPriority=f.networkPriority),h}));const{localId:u,rtpParameters:d,rtpSender:p}=await this._handler.send({track:t,encodings:l,codecOptions:r,codec:i});try{vo.validateRtpParameters(d);const{id:f}=await new Promise((m,w)=>{this.safeEmit("produce",{kind:t.kind,rtpParameters:d,appData:c},m,w)}),h=new ON.Producer({id:f,localId:u,rtpSender:p,track:t,rtpParameters:d,stopTracks:s,disableTrackOnPause:o,zeroRtpOnPause:a,appData:c});return this._producers.set(h.id,h),this.handleProducer(h),this._observer.safeEmit("newproducer",h),h}catch(f){throw this._handler.stopSending(u).catch(()=>{}),f}},"transport.produce()").catch(l=>{if(s)try{t.stop()}catch{}throw l})}async consume({id:t,producerId:n,kind:r,rtpParameters:i,streamId:s,appData:o={}}){if(He.debug("consume()"),i=np.clone(i,void 0),this._closed)throw new Qe.InvalidStateError("closed");if(this._direction!=="recv")throw new Qe.UnsupportedError("not a receiving Transport");if(typeof t!="string")throw new TypeError("missing id");if(typeof n!="string")throw new TypeError("missing producerId");if(r!=="audio"&&r!=="video")throw new TypeError(`invalid kind '${r}'`);if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(o&&typeof o!="object")throw new TypeError("if given, appData must be an object");if(!vo.canReceive(i,this._extendedRtpCapabilities))throw new Qe.UnsupportedError("cannot consume this Producer");const c=new NN({id:t,producerId:n,kind:r,rtpParameters:i,streamId:s,appData:o});return this._pendingConsumerTasks.push(c),(0,tp.default)(()=>{this._closed||this._consumerCreationInProgress===!1&&this.createPendingConsumers()}),c.promise}async produceData({ordered:t=!0,maxPacketLifeTime:n,maxRetransmits:r,label:i="",protocol:s="",appData:o={}}={}){if(He.debug("produceData()"),this._closed)throw new Qe.InvalidStateError("closed");if(this._direction!=="send")throw new Qe.UnsupportedError("not a sending Transport");if(this._maxSctpMessageSize){if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("producedata")===0)throw new TypeError('no "producedata" listener set into this transport');if(o&&typeof o!="object")throw new TypeError("if given, appData must be an object")}else throw new Qe.UnsupportedError("SCTP not enabled by remote Transport");return(n||r)&&(t=!1),this._awaitQueue.push(async()=>{const{dataChannel:a,sctpStreamParameters:c}=await this._handler.sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:s});vo.validateSctpStreamParameters(c);const{id:l}=await new Promise((d,p)=>{this.safeEmit("producedata",{sctpStreamParameters:c,label:i,protocol:s,appData:o},d,p)}),u=new IN.DataProducer({id:l,dataChannel:a,sctpStreamParameters:c,appData:o});return this._dataProducers.set(u.id,u),this.handleDataProducer(u),this._observer.safeEmit("newdataproducer",u),u},"transport.produceData()")}async consumeData({id:t,dataProducerId:n,sctpStreamParameters:r,label:i="",protocol:s="",appData:o={}}){if(He.debug("consumeData()"),r=np.clone(r,void 0),this._closed)throw new Qe.InvalidStateError("closed");if(this._direction!=="recv")throw new Qe.UnsupportedError("not a receiving Transport");if(this._maxSctpMessageSize){if(typeof t!="string")throw new TypeError("missing id");if(typeof n!="string")throw new TypeError("missing dataProducerId");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(o&&typeof o!="object")throw new TypeError("if given, appData must be an object")}else throw new Qe.UnsupportedError("SCTP not enabled by remote Transport");return vo.validateSctpStreamParameters(r),this._awaitQueue.push(async()=>{const{dataChannel:a}=await this._handler.receiveDataChannel({sctpStreamParameters:r,label:i,protocol:s}),c=new jN.DataConsumer({id:t,dataProducerId:n,dataChannel:a,sctpStreamParameters:r,appData:o});return this._dataConsumers.set(c.id,c),this.handleDataConsumer(c),this._observer.safeEmit("newdataconsumer",c),c},"transport.consumeData()")}async createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingConsumerTasks.length===0){He.debug("createPendingConsumers() | there is no Consumer to be created");return}const t=[...this._pendingConsumerTasks];this._pendingConsumerTasks=[];let n;const r=[];for(const i of t){const{id:s,kind:o,rtpParameters:a,streamId:c}=i.consumerOptions;r.push({trackId:s,kind:o,rtpParameters:a,streamId:c})}try{const i=await this._handler.receive(r);for(let s=0;s<i.length;++s){const o=t[s],a=i[s],{id:c,producerId:l,kind:u,rtpParameters:d,appData:p}=o.consumerOptions,{localId:f,rtpReceiver:h,track:m}=a,w=new MN.Consumer({id:c,localId:f,producerId:l,rtpReceiver:h,track:m,rtpParameters:d,appData:p});this._consumers.set(w.id,w),this.handleConsumer(w),!this._probatorConsumerCreated&&!n&&u==="video"&&(n=w),this._observer.safeEmit("newconsumer",w),o.resolve(w)}}catch(i){for(const s of t)s.reject(i)}if(n)try{const i=vo.generateProbatorRtpParameters(n.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:i}]),He.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(i){He.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",i)}},"transport.createPendingConsumers()").then(()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()}).catch(()=>{})}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingPauseConsumers.size===0){He.debug("pausePendingConsumers() | there is no Consumer to be paused");return}const t=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const n=t.map(r=>r.localId);await this._handler.pauseReceiving(n)}catch(n){He.error("pausePendingConsumers() | failed to pause Consumers:",n)}},"transport.pausePendingConsumers").then(()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()}).catch(()=>{})}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingResumeConsumers.size===0){He.debug("resumePendingConsumers() | there is no Consumer to be resumed");return}const t=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const n=t.map(r=>r.localId);await this._handler.resumeReceiving(n)}catch(n){He.error("resumePendingConsumers() | failed to resume Consumers:",n)}},"transport.resumePendingConsumers").then(()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()}).catch(()=>{})}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingCloseConsumers.size===0){He.debug("closePendingConsumers() | there is no Consumer to be closed");return}const t=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(t.map(n=>n.localId))}catch(n){He.error("closePendingConsumers() | failed to close Consumers:",n)}},"transport.closePendingConsumers").then(()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()}).catch(()=>{})}handleHandler(){const t=this._handler;t.on("@connect",({dtlsParameters:n},r,i)=>{if(this._closed){i(new Qe.InvalidStateError("closed"));return}this.safeEmit("connect",{dtlsParameters:n},r,i)}),t.on("@icegatheringstatechange",n=>{n!==this._iceGatheringState&&(He.debug("ICE gathering state changed to %s",n),this._iceGatheringState=n,this._closed||this.safeEmit("icegatheringstatechange",n))}),t.on("@connectionstatechange",n=>{n!==this._connectionState&&(He.debug("connection state changed to %s",n),this._connectionState=n,this._closed||this.safeEmit("connectionstatechange",n))})}handleProducer(t){t.on("@close",()=>{this._producers.delete(t.id),!this._closed&&this._awaitQueue.push(async()=>await this._handler.stopSending(t.localId),"producer @close event").catch(n=>He.warn("producer.close() failed:%o",n))}),t.on("@pause",(n,r)=>{this._awaitQueue.push(async()=>await this._handler.pauseSending(t.localId),"producer @pause event").then(n).catch(r)}),t.on("@resume",(n,r)=>{this._awaitQueue.push(async()=>await this._handler.resumeSending(t.localId),"producer @resume event").then(n).catch(r)}),t.on("@replacetrack",(n,r,i)=>{this._awaitQueue.push(async()=>await this._handler.replaceTrack(t.localId,n),"producer @replacetrack event").then(r).catch(i)}),t.on("@setmaxspatiallayer",(n,r,i)=>{this._awaitQueue.push(async()=>await this._handler.setMaxSpatialLayer(t.localId,n),"producer @setmaxspatiallayer event").then(r).catch(i)}),t.on("@setrtpencodingparameters",(n,r,i)=>{this._awaitQueue.push(async()=>await this._handler.setRtpEncodingParameters(t.localId,n),"producer @setrtpencodingparameters event").then(r).catch(i)}),t.on("@getstats",(n,r)=>{if(this._closed)return r(new Qe.InvalidStateError("closed"));this._handler.getSenderStats(t.localId).then(n).catch(r)})}handleConsumer(t){t.on("@close",()=>{this._consumers.delete(t.id),this._pendingPauseConsumers.delete(t.id),this._pendingResumeConsumers.delete(t.id),!this._closed&&(this._pendingCloseConsumers.set(t.id,t),this._consumerCloseInProgress===!1&&this.closePendingConsumers())}),t.on("@pause",()=>{this._pendingResumeConsumers.has(t.id)&&this._pendingResumeConsumers.delete(t.id),this._pendingPauseConsumers.set(t.id,t),(0,tp.default)(()=>{this._closed||this._consumerPauseInProgress===!1&&this.pausePendingConsumers()})}),t.on("@resume",()=>{this._pendingPauseConsumers.has(t.id)&&this._pendingPauseConsumers.delete(t.id),this._pendingResumeConsumers.set(t.id,t),(0,tp.default)(()=>{this._closed||this._consumerResumeInProgress===!1&&this.resumePendingConsumers()})}),t.on("@getstats",(n,r)=>{if(this._closed)return r(new Qe.InvalidStateError("closed"));this._handler.getReceiverStats(t.localId).then(n).catch(r)})}handleDataProducer(t){t.on("@close",()=>{this._dataProducers.delete(t.id)})}handleDataConsumer(t){t.on("@close",()=>{this._dataConsumers.delete(t.id)})}};ja.Transport=FN;var Nu={},ze={},N1={},F1={exports:{}},_w=F1.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return e.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return e.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return e.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=e.raddr!=null?" raddr %s rport %d":"%v%v",t+=e.tcptype!=null?" tcptype %s":"%v",e.generation!=null&&(t+=" generation %d"),t+=e["network-id"]!=null?" network-id %d":"%v",t+=e["network-cost"]!=null?" network-cost %d":"%v",t}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return e.attribute!=null&&(t+=" %s",e.value!=null&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return e.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(e.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=e.id!=null?"id=%s %s":"%v%s",t+=e.mediaClockValue!=null?"=%s":"",t+=e.rateNumerator!=null?" rate=%s":"",t+=e.rateDenominator!=null?"/%s":"",t}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(_w).forEach(function(e){var t=_w[e];t.forEach(function(n){n.reg||(n.reg=/(.*)/),n.format||(n.format="%s")})});var B1=F1.exports;(function(e){var t=function(a){return String(Number(a))===a?Number(a):a},n=function(a,c,l,u){if(u&&!l)c[u]=t(a[1]);else for(var d=0;d<l.length;d+=1)a[d+1]!=null&&(c[l[d]]=t(a[d+1]))},r=function(a,c,l){var u=a.name&&a.names;a.push&&!c[a.push]?c[a.push]=[]:u&&!c[a.name]&&(c[a.name]={});var d=a.push?{}:u?c[a.name]:c;n(l.match(a.reg),d,a.names,a.name),a.push&&c[a.push].push(d)},i=B1,s=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(a){var c={},l=[],u=c;return a.split(/(\r\n|\r|\n)/).filter(s).forEach(function(d){var p=d[0],f=d.slice(2);p==="m"&&(l.push({rtp:[],fmtp:[]}),u=l[l.length-1]);for(var h=0;h<(i[p]||[]).length;h+=1){var m=i[p][h];if(m.reg.test(f))return r(m,u,f)}}),c.media=l,c};var o=function(a,c){var l=c.split(/=(.+)/,2);return l.length===2?a[l[0]]=t(l[1]):l.length===1&&c.length>1&&(a[l[0]]=void 0),a};e.parseParams=function(a){return a.split(/;\s?/).reduce(o,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(a){return a.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(a){for(var c=[],l=a.split(" ").map(t),u=0;u<l.length;u+=3)c.push({component:l[u],ip:l[u+1],port:l[u+2]});return c},e.parseImageAttributes=function(a){return a.split(" ").map(function(c){return c.substring(1,c.length-1).split(",").reduce(o,{})})},e.parseSimulcastStreamList=function(a){return a.split(";").map(function(c){return c.split(",").map(function(l){var u,d=!1;return l[0]!=="~"?u=t(l):(u=t(l.substring(1,l.length)),d=!0),{scid:u,paused:d}})})}})(N1);var rp=B1,BN=/%[sdv%]/g,$N=function(e){var t=1,n=arguments,r=n.length;return e.replace(BN,function(i){if(t>=r)return i;var s=n[t];switch(t+=1,i){case"%%":return"%";case"%s":return String(s);case"%d":return Number(s);case"%v":return""}})},wo=function(e,t,n){var r=t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format,i=[e+"="+r];if(t.names)for(var s=0;s<t.names.length;s+=1){var o=t.names[s];t.name?i.push(n[t.name][o]):i.push(n[t.names[s]])}else i.push(n[t.name]);return $N.apply(null,i)},UN=["v","o","s","i","u","e","p","c","b","t","r","z","a"],VN=["i","c","b","a"],zN=function(e,t){t=t||{},e.version==null&&(e.version=0),e.name==null&&(e.name=" "),e.media.forEach(function(s){s.payloads==null&&(s.payloads="")});var n=t.outerOrder||UN,r=t.innerOrder||VN,i=[];return n.forEach(function(s){rp[s].forEach(function(o){o.name in e&&e[o.name]!=null?i.push(wo(s,o,e)):o.push in e&&e[o.push]!=null&&e[o.push].forEach(function(a){i.push(wo(s,o,a))})})}),e.media.forEach(function(s){i.push(wo("m",rp.m[0],s)),r.forEach(function(o){rp[o].forEach(function(a){a.name in s&&s[a.name]!=null?i.push(wo(o,a,s)):a.push in s&&s[a.push]!=null&&s[a.push].forEach(function(c){i.push(wo(o,a,c))})})})}),i.join(`\r
`)+`\r
`},Pi=N1,HN=zN;ze.write=HN;ze.parse=Pi.parse;ze.parseParams=Pi.parseParams;ze.parseFmtpConfig=Pi.parseFmtpConfig;ze.parsePayloads=Pi.parsePayloads;ze.parseRemoteCandidates=Pi.parseRemoteCandidates;ze.parseImageAttributes=Pi.parseImageAttributes;ze.parseSimulcastStreamList=Pi.parseSimulcastStreamList;var Ze={},WN=E&&E.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),GN=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),KN=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&WN(t,e,n);return GN(t,e),t};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.applyCodecParameters=Ze.getCname=Ze.extractDtlsParameters=Ze.extractRtpCapabilities=void 0;const $1=KN(ze);function qN({sdpObject:e}){const t=new Map,n=[];let r=!1,i=!1;for(const o of e.media){const a=o.type;switch(a){case"audio":{if(r)continue;r=!0;break}case"video":{if(i)continue;i=!0;break}default:continue}for(const c of o.rtp){const l={kind:a,mimeType:`${a}/${c.codec}`,preferredPayloadType:c.payload,clockRate:c.rate,channels:c.encoding,parameters:{},rtcpFeedback:[]};t.set(l.preferredPayloadType,l)}for(const c of o.fmtp||[]){const l=$1.parseParams(c.config),u=t.get(c.payload);u&&(l&&l.hasOwnProperty("profile-level-id")&&(l["profile-level-id"]=String(l["profile-level-id"])),u.parameters=l)}for(const c of o.rtcpFb||[]){const l={type:c.type,parameter:c.subtype};if(l.parameter||delete l.parameter,c.payload!=="*"){const u=t.get(c.payload);if(!u)continue;u.rtcpFeedback.push(l)}else for(const u of t.values())u.kind===a&&!/.+\/rtx$/i.test(u.mimeType)&&u.rtcpFeedback.push(l)}for(const c of o.ext||[]){if(c["encrypt-uri"])continue;const l={kind:a,uri:c.uri,preferredId:c.value};n.push(l)}}return{codecs:Array.from(t.values()),headerExtensions:n}}Ze.extractRtpCapabilities=qN;function QN({sdpObject:e}){const t=(e.media||[]).find(s=>s.iceUfrag&&s.port!==0);if(!t)throw new Error("no active media section found");const n=t.fingerprint||e.fingerprint;let r;switch(t.setup){case"active":r="client";break;case"passive":r="server";break;case"actpass":r="auto";break}return{role:r,fingerprints:[{algorithm:n.type,value:n.hash}]}}Ze.extractDtlsParameters=QN;function YN({offerMediaObject:e}){const t=(e.ssrcs||[]).find(n=>n.attribute==="cname");return t?t.value:""}Ze.getCname=YN;function XN({offerRtpParameters:e,answerMediaObject:t}){for(const n of e.codecs){const r=n.mimeType.toLowerCase();if(r!=="audio/opus"||!(t.rtp||[]).find(a=>a.payload===n.payloadType))continue;t.fmtp=t.fmtp||[];let s=t.fmtp.find(a=>a.payload===n.payloadType);s||(s={payload:n.payloadType,config:""},t.fmtp.push(s));const o=$1.parseParams(s.config);switch(r){case"audio/opus":{const a=n.parameters["sprop-stereo"];a!==void 0&&(o.stereo=a?1:0);break}}s.config="";for(const a of Object.keys(o))s.config&&(s.config+=";"),s.config+=`${a}=${o[a]}`}}Ze.applyCodecParameters=XN;var ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.addLegacySimulcast=ln.getRtpEncodings=void 0;function JN({offerMediaObject:e}){const t=new Set;for(const i of e.ssrcs||[]){const s=i.id;t.add(s)}if(t.size===0)throw new Error("no a=ssrc lines found");const n=new Map;for(const i of e.ssrcGroups||[]){if(i.semantics!=="FID")continue;let[s,o]=i.ssrcs.split(/\s+/);s=Number(s),o=Number(o),t.has(s)&&(t.delete(s),t.delete(o),n.set(s,o))}for(const i of t)n.set(i,null);const r=[];for(const[i,s]of n){const o={ssrc:i};s&&(o.rtx={ssrc:s}),r.push(o)}return r}ln.getRtpEncodings=JN;function ZN({offerMediaObject:e,numStreams:t}){if(t<=1)throw new TypeError("numStreams must be greater than 1");const n=(e.ssrcs||[]).find(d=>d.attribute==="msid");if(!n)throw new Error("a=ssrc line with msid information not found");const[r,i]=n.value.split(" "),s=n.id;let o;(e.ssrcGroups||[]).some(d=>{if(d.semantics!=="FID")return!1;const p=d.ssrcs.split(/\s+/);return Number(p[0])===s?(o=Number(p[1]),!0):!1});const a=e.ssrcs.find(d=>d.attribute==="cname");if(!a)throw new Error("a=ssrc line with cname information not found");const c=a.value,l=[],u=[];for(let d=0;d<t;++d)l.push(s+d),o&&u.push(o+d);e.ssrcGroups=[],e.ssrcs=[],e.ssrcGroups.push({semantics:"SIM",ssrcs:l.join(" ")});for(let d=0;d<l.length;++d){const p=l[d];e.ssrcs.push({id:p,attribute:"cname",value:c}),e.ssrcs.push({id:p,attribute:"msid",value:`${r} ${i}`})}for(let d=0;d<u.length;++d){const p=l[d],f=u[d];e.ssrcs.push({id:f,attribute:"cname",value:c}),e.ssrcs.push({id:f,attribute:"msid",value:`${r} ${i}`}),e.ssrcGroups.push({semantics:"FID",ssrcs:`${p} ${f}`})}}ln.addLegacySimulcast=ZN;var ki={};Object.defineProperty(ki,"__esModule",{value:!0});ki.addNackSuppportForOpus=void 0;function e2(e){var t;for(const n of e.codecs||[])(n.mimeType.toLowerCase()==="audio/opus"||n.mimeType.toLowerCase()==="audio/multiopus")&&!((t=n.rtcpFeedback)!=null&&t.some(r=>r.type==="nack"&&!r.parameter))&&(n.rtcpFeedback||(n.rtcpFeedback=[]),n.rtcpFeedback.push({type:"nack"}))}ki.addNackSuppportForOpus=e2;var _t={};Object.defineProperty(_t,"__esModule",{value:!0});_t.HandlerInterface=void 0;const t2=Nn;class n2 extends t2.EnhancedEventEmitter{constructor(){super()}}_t.HandlerInterface=n2;var Nt={},$r={},r2=E&&E.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),i2=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),U1=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&r2(t,e,n);return i2(t,e),t};Object.defineProperty($r,"__esModule",{value:!0});$r.OfferMediaSection=$r.AnswerMediaSection=$r.MediaSection=void 0;const s2=U1(ze),Sw=U1(Ve);class Vm{constructor({iceParameters:t,iceCandidates:n,dtlsParameters:r,planB:i=!1}){if(this._mediaObject={},this._planB=i,t&&this.setIceParameters(t),n){this._mediaObject.candidates=[];for(const s of n){const o={};o.component=1,o.foundation=s.foundation,o.ip=s.ip,o.port=s.port,o.priority=s.priority,o.transport=s.protocol,o.type=s.type,s.tcpType&&(o.tcptype=s.tcpType),this._mediaObject.candidates.push(o)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}r&&this.setDtlsRole(r.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return this._mediaObject.port===0}getObject(){return this._mediaObject}setIceParameters(t){this._mediaObject.iceUfrag=t.usernameFragment,this._mediaObject.icePwd=t.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}close(){this.disable(),this._mediaObject.port=0}}$r.MediaSection=Vm;class o2 extends Vm{constructor({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,plainRtpParameters:s,planB:o=!1,offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:u,extmapAllowMixed:d=!1}){switch(super({iceParameters:t,iceCandidates:n,dtlsParameters:r,planB:o}),this._mediaObject.mid=String(a.mid),this._mediaObject.type=a.type,this._mediaObject.protocol=a.protocol,s?(this._mediaObject.connection={ip:s.ip,version:s.ipVersion},this._mediaObject.port=s.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),a.type){case"audio":case"video":{this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const p of l.codecs){const f={payload:p.payloadType,codec:Kf(p),rate:p.clockRate};p.channels>1&&(f.encoding=p.channels),this._mediaObject.rtp.push(f);const h=Sw.clone(p.parameters,{});let m=Sw.clone(p.rtcpFeedback,[]);if(u){const{opusStereo:v,opusFec:g,opusDtx:y,opusMaxPlaybackRate:S,opusMaxAverageBitrate:R,opusPtime:x,opusNack:C,videoGoogleStartBitrate:P,videoGoogleMaxBitrate:M,videoGoogleMinBitrate:I}=u,W=c.codecs.find(Q=>Q.payloadType===p.payloadType);switch(p.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":{v!==void 0&&(W.parameters["sprop-stereo"]=v?1:0,h.stereo=v?1:0),g!==void 0&&(W.parameters.useinbandfec=g?1:0,h.useinbandfec=g?1:0),y!==void 0&&(W.parameters.usedtx=y?1:0,h.usedtx=y?1:0),S!==void 0&&(h.maxplaybackrate=S),R!==void 0&&(h.maxaveragebitrate=R),x!==void 0&&(W.parameters.ptime=x,h.ptime=x),C||(W.rtcpFeedback=W.rtcpFeedback.filter(Q=>Q.type!=="nack"||Q.parameter),m=m.filter(Q=>Q.type!=="nack"||Q.parameter));break}case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":{P!==void 0&&(h["x-google-start-bitrate"]=P),M!==void 0&&(h["x-google-max-bitrate"]=M),I!==void 0&&(h["x-google-min-bitrate"]=I);break}}}const w={payload:p.payloadType,config:""};for(const v of Object.keys(h))w.config&&(w.config+=";"),w.config+=`${v}=${h[v]}`;w.config&&this._mediaObject.fmtp.push(w);for(const v of m)this._mediaObject.rtcpFb.push({payload:p.payloadType,type:v.type,subtype:v.parameter})}this._mediaObject.payloads=l.codecs.map(p=>p.payloadType).join(" "),this._mediaObject.ext=[];for(const p of l.headerExtensions)(a.ext||[]).some(h=>h.uri===p.uri)&&this._mediaObject.ext.push({uri:p.uri,value:p.id});if(d&&a.extmapAllowMixed==="extmap-allow-mixed"&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),a.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:a.simulcast.list1},this._mediaObject.rids=[];for(const p of a.rids||[])p.direction==="send"&&this._mediaObject.rids.push({id:p.id,direction:"recv"})}else if(a.simulcast_03){this._mediaObject.simulcast_03={value:a.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const p of a.rids||[])p.direction==="send"&&this._mediaObject.rids.push({id:p.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&this._mediaObject.type==="video"&&(this._mediaObject.xGoogleFlag="conference");break}case"application":{typeof a.sctpPort=="number"?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=i.port,this._mediaObject.maxMessageSize=i.maxMessageSize):a.sctpmap&&(this._mediaObject.payloads=i.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:i.port,maxMessageSize:i.maxMessageSize});break}}}setDtlsRole(t){switch(t){case"client":this._mediaObject.setup="active";break;case"server":this._mediaObject.setup="passive";break;case"auto":this._mediaObject.setup="actpass";break}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(t){var s;if(!this._mediaObject.simulcast||!this._mediaObject.simulcast.list1)return;const n={};for(const o of t)o.rid&&(n[o.rid]=o);const r=this._mediaObject.simulcast.list1,i=s2.parseSimulcastStreamList(r);for(const o of i)for(const a of o)a.paused=!((s=n[a.scid])!=null&&s.active);this._mediaObject.simulcast.list1=i.map(o=>o.map(a=>`${a.paused?"~":""}${a.scid}`).join(",")).join(";")}}$r.AnswerMediaSection=o2;class a2 extends Vm{constructor({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,plainRtpParameters:s,planB:o=!1,mid:a,kind:c,offerRtpParameters:l,streamId:u,trackId:d,oldDataChannelSpec:p=!1}){switch(super({iceParameters:t,iceCandidates:n,dtlsParameters:r,planB:o}),this._mediaObject.mid=String(a),this._mediaObject.type=c,s?(this._mediaObject.connection={ip:s.ip,version:s.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=s.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},i?this._mediaObject.protocol="UDP/DTLS/SCTP":this._mediaObject.protocol="UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),c){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${u||"-"} ${d}`);for(const w of l.codecs){const v={payload:w.payloadType,codec:Kf(w),rate:w.clockRate};w.channels>1&&(v.encoding=w.channels),this._mediaObject.rtp.push(v);const g={payload:w.payloadType,config:""};for(const y of Object.keys(w.parameters))g.config&&(g.config+=";"),g.config+=`${y}=${w.parameters[y]}`;g.config&&this._mediaObject.fmtp.push(g);for(const y of w.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:w.payloadType,type:y.type,subtype:y.parameter})}this._mediaObject.payloads=l.codecs.map(w=>w.payloadType).join(" "),this._mediaObject.ext=[];for(const w of l.headerExtensions)this._mediaObject.ext.push({uri:w.uri,value:w.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const f=l.encodings[0],h=f.ssrc,m=f.rtx&&f.rtx.ssrc?f.rtx.ssrc:void 0;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],l.rtcp.cname&&this._mediaObject.ssrcs.push({id:h,attribute:"cname",value:l.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:h,attribute:"msid",value:`${u||"-"} ${d}`}),m&&(l.rtcp.cname&&this._mediaObject.ssrcs.push({id:m,attribute:"cname",value:l.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:m,attribute:"msid",value:`${u||"-"} ${d}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${h} ${m}`}));break}case"application":{p?(this._mediaObject.payloads=i.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:i.port,maxMessageSize:i.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=i.port,this._mediaObject.maxMessageSize=i.maxMessageSize);break}}}setDtlsRole(t){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}planBReceive({offerRtpParameters:t,streamId:n,trackId:r}){const i=t.encodings[0],s=i.ssrc,o=i.rtx&&i.rtx.ssrc?i.rtx.ssrc:void 0,a=this._mediaObject.payloads.split(" ");for(const c of t.codecs){if(a.includes(String(c.payloadType)))continue;const l={payload:c.payloadType,codec:Kf(c),rate:c.clockRate};c.channels>1&&(l.encoding=c.channels),this._mediaObject.rtp.push(l);const u={payload:c.payloadType,config:""};for(const d of Object.keys(c.parameters))u.config&&(u.config+=";"),u.config+=`${d}=${c.parameters[d]}`;u.config&&this._mediaObject.fmtp.push(u);for(const d of c.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:c.payloadType,type:d.type,subtype:d.parameter})}this._mediaObject.payloads+=` ${t.codecs.filter(c=>!this._mediaObject.payloads.includes(c.payloadType)).map(c=>c.payloadType).join(" ")}`,this._mediaObject.payloads=this._mediaObject.payloads.trim(),t.rtcp.cname&&this._mediaObject.ssrcs.push({id:s,attribute:"cname",value:t.rtcp.cname}),this._mediaObject.ssrcs.push({id:s,attribute:"msid",value:`${n||"-"} ${r}`}),o&&(t.rtcp.cname&&this._mediaObject.ssrcs.push({id:o,attribute:"cname",value:t.rtcp.cname}),this._mediaObject.ssrcs.push({id:o,attribute:"msid",value:`${n||"-"} ${r}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${s} ${o}`}))}planBStopReceiving({offerRtpParameters:t}){const n=t.encodings[0],r=n.ssrc,i=n.rtx&&n.rtx.ssrc?n.rtx.ssrc:void 0;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter(s=>s.id!==r&&s.id!==i),i&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter(s=>s.ssrcs!==`${r} ${i}`))}}$r.OfferMediaSection=a2;function Kf(e){const n=new RegExp("^(audio|video)/(.+)","i").exec(e.mimeType);if(!n)throw new TypeError("invalid codec.mimeType");return n[2]}var c2=E&&E.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),l2=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u2=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&c2(t,e,n);return l2(t,e),t};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.RemoteSdp=void 0;const d2=u2(ze),p2=Be,_c=$r,ip=new p2.Logger("RemoteSdp");class f2{constructor({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,plainRtpParameters:s,planB:o=!1}){if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=t,this._iceCandidates=n,this._dtlsParameters=r,this._sctpParameters=i,this._plainRtpParameters=s,this._planB=o,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},t&&t.iceLite&&(this._sdpObject.icelite="ice-lite"),r){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const a=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:r.fingerprints[a-1].algorithm,hash:r.fingerprints[a-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}s&&(this._sdpObject.origin.address=s.ip,this._sdpObject.origin.ipVer=s.ipVersion)}updateIceParameters(t){ip.debug("updateIceParameters() [iceParameters:%o]",t),this._iceParameters=t,this._sdpObject.icelite=t.iceLite?"ice-lite":void 0;for(const n of this._mediaSections)n.setIceParameters(t)}updateDtlsRole(t){ip.debug("updateDtlsRole() [role:%s]",t),this._dtlsParameters.role=t;for(const n of this._mediaSections)n.setDtlsRole(t)}getNextMediaSectionIdx(){for(let t=0;t<this._mediaSections.length;++t){const n=this._mediaSections[t];if(n.closed)return{idx:t,reuseMid:n.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:t,reuseMid:n,offerRtpParameters:r,answerRtpParameters:i,codecOptions:s,extmapAllowMixed:o=!1}){const a=new _c.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:t,offerRtpParameters:r,answerRtpParameters:i,codecOptions:s,extmapAllowMixed:o});n?this._replaceMediaSection(a,n):this._midToIndex.has(a.mid)?this._replaceMediaSection(a):this._addMediaSection(a)}receive({mid:t,kind:n,offerRtpParameters:r,streamId:i,trackId:s}){const o=this._midToIndex.get(t);let a;if(o!==void 0&&(a=this._mediaSections[o]),a)a.planBReceive({offerRtpParameters:r,streamId:i,trackId:s}),this._replaceMediaSection(a);else{a=new _c.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:t,kind:n,offerRtpParameters:r,streamId:i,trackId:s});const c=this._mediaSections.find(l=>l.closed);c?this._replaceMediaSection(a,c.mid):this._addMediaSection(a)}}pauseMediaSection(t){this._findMediaSection(t).pause()}resumeSendingMediaSection(t){this._findMediaSection(t).resume()}resumeReceivingMediaSection(t){this._findMediaSection(t).resume()}disableMediaSection(t){this._findMediaSection(t).disable()}closeMediaSection(t){const n=this._findMediaSection(t);return t===this._firstMid?(ip.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",t),this.disableMediaSection(t),!1):(n.close(),this._regenerateBundleMids(),!0)}muxMediaSectionSimulcast(t,n){const r=this._findMediaSection(t);r.muxSimulcastStreams(n),this._replaceMediaSection(r)}planBStopReceiving({mid:t,offerRtpParameters:n}){const r=this._findMediaSection(t);r.planBStopReceiving({offerRtpParameters:n}),this._replaceMediaSection(r)}sendSctpAssociation({offerMediaObject:t}){const n=new _c.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:t});this._addMediaSection(n)}receiveSctpAssociation({oldDataChannelSpec:t=!1}={}){const n=new _c.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:t});this._addMediaSection(n)}getSdp(){return this._sdpObject.origin.sessionVersion++,d2.write(this._sdpObject)}_addMediaSection(t){this._firstMid||(this._firstMid=t.mid),this._mediaSections.push(t),this._midToIndex.set(t.mid,this._mediaSections.length-1),this._sdpObject.media.push(t.getObject()),this._regenerateBundleMids()}_replaceMediaSection(t,n){if(typeof n=="string"){const r=this._midToIndex.get(n);if(r===void 0)throw new Error(`no media section found for reuseMid '${n}'`);const i=this._mediaSections[r];this._mediaSections[r]=t,this._midToIndex.delete(i.mid),this._midToIndex.set(t.mid,r),this._sdpObject.media[r]=t.getObject(),this._regenerateBundleMids()}else{const r=this._midToIndex.get(t.mid);if(r===void 0)throw new Error(`no media section found with mid '${t.mid}'`);this._mediaSections[r]=t,this._sdpObject.media[r]=t.getObject()}}_findMediaSection(t){const n=this._midToIndex.get(t);if(n===void 0)throw new Error(`no media section found with mid '${t}'`);return this._mediaSections[n]}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(t=>!t.closed).map(t=>t.mid).join(" "))}}Nt.RemoteSdp=f2;var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.parse=void 0;const h2=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");function m2(e){const t=h2.exec(e||"");return t?{spatialLayers:Number(t[1]),temporalLayers:Number(t[2])}:{spatialLayers:1,temporalLayers:1}}Fn.parse=m2;var g2=E&&E.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),y2=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),eo=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&g2(t,e,n);return y2(t,e),t};Object.defineProperty(Nu,"__esModule",{value:!0});Nu.Chrome111=void 0;const fr=eo(ze),v2=Be,bw=eo(Ve),Ui=eo(F),Sc=eo(Ze),Rw=eo(ln),w2=eo(ki),_2=tt,S2=_t,b2=Nt,R2=Fn,V=new v2.Logger("Chrome111"),Cw={OS:1024,MIS:1024};class zm extends S2.HandlerInterface{static createFactory(){return()=>new zm}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome111"}close(){if(V.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){V.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const n=await t.createOffer();try{t.close()}catch{}const r=fr.parse(n.sdp),i=Sc.extractRtpCapabilities({sdpObject:r});return w2.addNackSuppportForOpus(i),i}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return V.debug("getNativeSctpCapabilities()"),{numStreams:Cw}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){this.assertNotClosed(),V.debug("run()"),this._direction=t,this._remoteSdp=new b2.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s}),this._sendingRtpParametersByKind={audio:Ui.getSendingRtpParameters("audio",u),video:Ui.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Ui.getSendingRemoteRtpParameters("audio",u),video:Ui.getSendingRemoteRtpParameters("video",u)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(V.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}}))}async updateIceServers(t){this.assertNotClosed(),V.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(this.assertNotClosed(),V.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});V.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};V.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};V.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();V.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){if(this.assertNotClosed(),this.assertSendDirection(),V.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),n&&n.length>1){n.forEach((w,v)=>{w.rid=`r${v}`});let h=1,m=1;for(const w of n){const v=w.scalabilityMode?(0,R2.parse)(w.scalabilityMode).temporalLayers:3;v>m&&(m=v)}for(const w of n)w.rid=`r${h++}`,w.scalabilityMode=`L1T${m}`}const s=bw.clone(this._sendingRtpParametersByKind[t.kind],{});s.codecs=Ui.reduceCodecs(s.codecs,i);const o=bw.clone(this._sendingRemoteRtpParametersByKind[t.kind],{});o.codecs=Ui.reduceCodecs(o.codecs,i);const a=this._remoteSdp.getNextMediaSectionIdx(),c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:n}),l=await this._pc.createOffer();let u=fr.parse(l.sdp);this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),V.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l);const d=c.mid;s.mid=d,u=fr.parse(this._pc.localDescription.sdp);const p=u.media[a.idx];if(s.rtcp.cname=Sc.getCname({offerMediaObject:p}),!n)s.encodings=Rw.getRtpEncodings({offerMediaObject:p});else if(n.length===1){const h=Rw.getRtpEncodings({offerMediaObject:p});Object.assign(h[0],n[0]),s.encodings=h}else s.encodings=n;this._remoteSdp.send({offerMediaObject:p,reuseMid:a.reuseMid,offerRtpParameters:s,answerRtpParameters:o,codecOptions:r,extmapAllowMixed:!0});const f={type:"answer",sdp:this._remoteSdp.getSdp()};return V.debug("send() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._mapMidTransceiver.set(d,c),{localId:d,rtpParameters:s,rtpSender:c.sender}}async stopSending(t){if(this.assertSendDirection(),V.debug("stopSending() [localId:%s]",t),this._closed)return;const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");if(n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.closeMediaSection(n.mid))try{n.stop()}catch{}const i=await this._pc.createOffer();V.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};V.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),V.debug("pauseSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="inactive",this._remoteSdp.pauseMediaSection(t);const r=await this._pc.createOffer();V.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};V.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),V.debug("resumeSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(this._remoteSdp.resumeSendingMediaSection(t),!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="sendonly";const r=await this._pc.createOffer();V.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};V.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(t,n){this.assertNotClosed(),this.assertSendDirection(),n?V.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):V.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(n)}async setMaxSpatialLayer(t,n){this.assertNotClosed(),this.assertSendDirection(),V.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((a,c)=>{c<=n?a.active=!0:a.active=!1}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();V.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};V.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,n){this.assertNotClosed(),this.assertSendDirection(),V.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((a,c)=>{i.encodings[c]={...a,...n}}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();V.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};V.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:s}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmits:r,protocol:s};V.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%Cw.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=fr.parse(l.sdp),d=u.media.find(f=>f.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),V.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const p={type:"answer",sdp:this._remoteSdp.getSdp()};V.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const n=[],r=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u,streamId:d}=a;V.debug("receive() [trackId:%s, kind:%s]",c,l);const p=u.mid||String(this._mapMidTransceiver.size);r.set(c,p),this._remoteSdp.receive({mid:p,kind:l,offerRtpParameters:u,streamId:d||u.rtcp.cname,trackId:c})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};V.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let s=await this._pc.createAnswer();const o=fr.parse(s.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,u=r.get(c),d=o.media.find(p=>String(p.mid)===u);Sc.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d})}s={type:"answer",sdp:fr.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),V.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const a of t){const{trackId:c}=a,l=r.get(c),u=this._pc.getTransceivers().find(d=>d.mid===l);if(u)this._mapMidTransceiver.set(l,u),n.push({localId:l,track:u.receiver.track,rtpReceiver:u.receiver});else throw new Error("new RTCRtpTransceiver not found")}return n}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const i of t){V.debug("stopReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(s.mid)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};V.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();V.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const i of t)this._mapMidTransceiver.delete(i)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){V.debug("pauseReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");s.direction="inactive",this._remoteSdp.pauseMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};V.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();V.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){V.debug("resumeReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");s.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};V.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();V.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a,protocol:r};V.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(n,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const u={type:"offer",sdp:this._remoteSdp.getSdp()};V.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const p=fr.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p})}V.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=fr.parse(this._pc.localDescription.sdp));const r=Sc.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,s)=>{this.safeEmit("@connect",{dtlsParameters:r},i,s)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new _2.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Nu.Chrome111=zm;var Fu={},C2=E&&E.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),x2=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),to=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&C2(t,e,n);return x2(t,e),t};Object.defineProperty(Fu,"__esModule",{value:!0});Fu.Chrome74=void 0;const mn=to(ze),T2=Be,xw=to(Ve),Vi=to(F),bc=to(Ze),sp=to(ln),E2=to(ki),P2=tt,k2=_t,D2=Nt,L2=Fn,$=new T2.Logger("Chrome74"),Tw={OS:1024,MIS:1024};class Hm extends k2.HandlerInterface{static createFactory(){return()=>new Hm}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome74"}close(){if($.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){$.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const n=await t.createOffer();try{t.close()}catch{}const r=mn.parse(n.sdp),i=bc.extractRtpCapabilities({sdpObject:r});return E2.addNackSuppportForOpus(i),i}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return $.debug("getNativeSctpCapabilities()"),{numStreams:Tw}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){$.debug("run()"),this._direction=t,this._remoteSdp=new D2.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s}),this._sendingRtpParametersByKind={audio:Vi.getSendingRtpParameters("audio",u),video:Vi.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Vi.getSendingRemoteRtpParameters("audio",u),video:Vi.getSendingRemoteRtpParameters("video",u)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):($.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}}))}async updateIceServers(t){this.assertNotClosed(),$.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(this.assertNotClosed(),$.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});$.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};$.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};$.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();$.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertNotClosed(),this.assertSendDirection(),$.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),n&&n.length>1&&n.forEach((w,v)=>{w.rid=`r${v}`});const s=xw.clone(this._sendingRtpParametersByKind[t.kind],{});s.codecs=Vi.reduceCodecs(s.codecs,i);const o=xw.clone(this._sendingRemoteRtpParametersByKind[t.kind],{});o.codecs=Vi.reduceCodecs(o.codecs,i);const a=this._remoteSdp.getNextMediaSectionIdx(),c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:n});let l=await this._pc.createOffer(),u=mn.parse(l.sdp),d;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u});let p=!1;const f=(0,L2.parse)((n||[{}])[0].scalabilityMode);n&&n.length===1&&f.spatialLayers>1&&s.codecs[0].mimeType.toLowerCase()==="video/vp9"&&($.debug("send() | enabling legacy simulcast for VP9 SVC"),p=!0,u=mn.parse(l.sdp),d=u.media[a.idx],sp.addLegacySimulcast({offerMediaObject:d,numStreams:f.spatialLayers}),l={type:"offer",sdp:mn.write(u)}),$.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l);const h=c.mid;if(s.mid=h,u=mn.parse(this._pc.localDescription.sdp),d=u.media[a.idx],s.rtcp.cname=bc.getCname({offerMediaObject:d}),!n)s.encodings=sp.getRtpEncodings({offerMediaObject:d});else if(n.length===1){let w=sp.getRtpEncodings({offerMediaObject:d});Object.assign(w[0],n[0]),p&&(w=[w[0]]),s.encodings=w}else s.encodings=n;if(s.encodings.length>1&&(s.codecs[0].mimeType.toLowerCase()==="video/vp8"||s.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const w of s.encodings)w.scalabilityMode?w.scalabilityMode=`L1T${f.temporalLayers}`:w.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:d,reuseMid:a.reuseMid,offerRtpParameters:s,answerRtpParameters:o,codecOptions:r,extmapAllowMixed:!0});const m={type:"answer",sdp:this._remoteSdp.getSdp()};return $.debug("send() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m),this._mapMidTransceiver.set(h,c),{localId:h,rtpParameters:s,rtpSender:c.sender}}async stopSending(t){if(this.assertSendDirection(),$.debug("stopSending() [localId:%s]",t),this._closed)return;const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");if(n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.closeMediaSection(n.mid))try{n.stop()}catch{}const i=await this._pc.createOffer();$.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};$.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),$.debug("pauseSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="inactive",this._remoteSdp.pauseMediaSection(t);const r=await this._pc.createOffer();$.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};$.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),$.debug("resumeSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(this._remoteSdp.resumeSendingMediaSection(t),!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="sendonly";const r=await this._pc.createOffer();$.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};$.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(t,n){this.assertNotClosed(),this.assertSendDirection(),n?$.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):$.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(n)}async setMaxSpatialLayer(t,n){this.assertNotClosed(),this.assertSendDirection(),$.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((a,c)=>{c<=n?a.active=!0:a.active=!1}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();$.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};$.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,n){this.assertNotClosed(),this.assertSendDirection(),$.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((a,c)=>{i.encodings[c]={...a,...n}}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();$.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};$.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:s}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmits:r,protocol:s};$.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%Tw.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=mn.parse(l.sdp),d=u.media.find(f=>f.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),$.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const p={type:"answer",sdp:this._remoteSdp.getSdp()};$.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const n=[],r=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u,streamId:d}=a;$.debug("receive() [trackId:%s, kind:%s]",c,l);const p=u.mid||String(this._mapMidTransceiver.size);r.set(c,p),this._remoteSdp.receive({mid:p,kind:l,offerRtpParameters:u,streamId:d||u.rtcp.cname,trackId:c})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};$.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let s=await this._pc.createAnswer();const o=mn.parse(s.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,u=r.get(c),d=o.media.find(p=>String(p.mid)===u);bc.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d})}s={type:"answer",sdp:mn.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),$.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const a of t){const{trackId:c}=a,l=r.get(c),u=this._pc.getTransceivers().find(d=>d.mid===l);if(u)this._mapMidTransceiver.set(l,u),n.push({localId:l,track:u.receiver.track,rtpReceiver:u.receiver});else throw new Error("new RTCRtpTransceiver not found")}return n}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const i of t){$.debug("stopReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(s.mid)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};$.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();$.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const i of t)this._mapMidTransceiver.delete(i)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){$.debug("pauseReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");s.direction="inactive",this._remoteSdp.pauseMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};$.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();$.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){$.debug("resumeReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");s.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};$.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();$.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a,protocol:r};$.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(n,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const u={type:"offer",sdp:this._remoteSdp.getSdp()};$.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const p=mn.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p})}$.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=mn.parse(this._pc.localDescription.sdp));const r=bc.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,s)=>{this.safeEmit("@connect",{dtlsParameters:r},i,s)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new P2.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Fu.Chrome74=Hm;var Bu={},A2=E&&E.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),O2=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ua=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&A2(t,e,n);return O2(t,e),t};Object.defineProperty(Bu,"__esModule",{value:!0});Bu.Chrome70=void 0;const Ut=Ua(ze),M2=Be,Ew=Ua(Ve),zi=Ua(F),Rc=Ua(Ze),op=Ua(ln),I2=_t,j2=Nt,N2=Fn,Y=new M2.Logger("Chrome70"),Pw={OS:1024,MIS:1024};class Wm extends I2.HandlerInterface{static createFactory(){return()=>new Wm}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome70"}close(){if(Y.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){Y.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const n=await t.createOffer();try{t.close()}catch{}const r=Ut.parse(n.sdp);return Rc.extractRtpCapabilities({sdpObject:r})}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return Y.debug("getNativeSctpCapabilities()"),{numStreams:Pw}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){Y.debug("run()"),this._direction=t,this._remoteSdp=new j2.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s}),this._sendingRtpParametersByKind={audio:zi.getSendingRtpParameters("audio",u),video:zi.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:zi.getSendingRemoteRtpParameters("audio",u),video:zi.getSendingRemoteRtpParameters("video",u)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(Y.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(t){Y.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(Y.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});Y.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Y.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertSendDirection(),Y.debug("send() [kind:%s, track.id:%s]",t.kind,t.id);const s=Ew.clone(this._sendingRtpParametersByKind[t.kind],{});s.codecs=zi.reduceCodecs(s.codecs,i);const o=Ew.clone(this._sendingRemoteRtpParametersByKind[t.kind],{});o.codecs=zi.reduceCodecs(o.codecs,i);const a=this._remoteSdp.getNextMediaSectionIdx(),c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});let l=await this._pc.createOffer(),u=Ut.parse(l.sdp),d;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),n&&n.length>1&&(Y.debug("send() | enabling legacy simulcast"),u=Ut.parse(l.sdp),d=u.media[a.idx],op.addLegacySimulcast({offerMediaObject:d,numStreams:n.length}),l={type:"offer",sdp:Ut.write(u)});let p=!1;const f=(0,N2.parse)((n||[{}])[0].scalabilityMode);if(n&&n.length===1&&f.spatialLayers>1&&s.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(Y.debug("send() | enabling legacy simulcast for VP9 SVC"),p=!0,u=Ut.parse(l.sdp),d=u.media[a.idx],op.addLegacySimulcast({offerMediaObject:d,numStreams:f.spatialLayers}),l={type:"offer",sdp:Ut.write(u)}),Y.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),n){Y.debug("send() | applying given encodings");const w=c.sender.getParameters();for(let v=0;v<(w.encodings||[]).length;++v){const g=w.encodings[v],y=n[v];if(!y)break;w.encodings[v]=Object.assign(g,y)}await c.sender.setParameters(w)}const h=c.mid;if(s.mid=h,u=Ut.parse(this._pc.localDescription.sdp),d=u.media[a.idx],s.rtcp.cname=Rc.getCname({offerMediaObject:d}),s.encodings=op.getRtpEncodings({offerMediaObject:d}),n)for(let w=0;w<s.encodings.length;++w)n[w]&&Object.assign(s.encodings[w],n[w]);if(p&&(s.encodings=[s.encodings[0]]),s.encodings.length>1&&(s.codecs[0].mimeType.toLowerCase()==="video/vp8"||s.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const w of s.encodings)w.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:d,reuseMid:a.reuseMid,offerRtpParameters:s,answerRtpParameters:o,codecOptions:r});const m={type:"answer",sdp:this._remoteSdp.getSdp()};return Y.debug("send() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m),this._mapMidTransceiver.set(h,c),{localId:h,rtpParameters:s,rtpSender:c.sender}}async stopSending(t){this.assertSendDirection(),Y.debug("stopSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");if(n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.closeMediaSection(n.mid))try{n.stop()}catch{}const i=await this._pc.createOffer();Y.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(t)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,n){this.assertSendDirection(),n?Y.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):Y.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(n)}async setMaxSpatialLayer(t,n){this.assertSendDirection(),Y.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((a,c)=>{c<=n?a.active=!0:a.active=!1}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();Y.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,n){this.assertSendDirection(),Y.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((a,c)=>{i.encodings[c]={...a,...n}}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();Y.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertSendDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:s}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmitTime:n,maxRetransmits:r,protocol:s};Y.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%Pw.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=Ut.parse(l.sdp),d=u.media.find(f=>f.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),Y.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const p={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const n=[],r=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u,streamId:d}=a;Y.debug("receive() [trackId:%s, kind:%s]",c,l);const p=u.mid||String(this._mapMidTransceiver.size);r.set(c,p),this._remoteSdp.receive({mid:p,kind:l,offerRtpParameters:u,streamId:d||u.rtcp.cname,trackId:c})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let s=await this._pc.createAnswer();const o=Ut.parse(s.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,u=r.get(c),d=o.media.find(p=>String(p.mid)===u);Rc.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d})}s={type:"answer",sdp:Ut.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),Y.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const a of t){const{trackId:c}=a,l=r.get(c),u=this._pc.getTransceivers().find(d=>d.mid===l);if(!u)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,u),n.push({localId:l,track:u.receiver.track,rtpReceiver:u.receiver})}return n}async stopReceiving(t){this.assertRecvDirection();for(const i of t){Y.debug("stopReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(s.mid)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Y.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const i of t)this._mapMidTransceiver.delete(i)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){this.assertRecvDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:r};Y.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(n,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const u={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const p=Ut.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p})}Y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=Ut.parse(this._pc.localDescription.sdp));const r=Rc.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,s)=>{this.safeEmit("@connect",{dtlsParameters:r},i,s)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Bu.Chrome70=Wm;var $u={},sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.addLegacySimulcast=sr.getRtpEncodings=void 0;function F2({offerMediaObject:e,track:t}){const n=new Set;for(const s of e.ssrcs||[]){if(s.attribute!=="msid")continue;if(s.value.split(" ")[1]===t.id){const a=s.id;n.add(a)}}if(n.size===0)throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);const r=new Map;for(const s of e.ssrcGroups||[]){if(s.semantics!=="FID")continue;let[o,a]=s.ssrcs.split(/\s+/);o=Number(o),a=Number(a),n.has(o)&&(n.delete(o),n.delete(a),r.set(o,a))}for(const s of n)r.set(s,null);const i=[];for(const[s,o]of r){const a={ssrc:s};o&&(a.rtx={ssrc:o}),i.push(a)}return i}sr.getRtpEncodings=F2;function B2({offerMediaObject:e,track:t,numStreams:n}){if(n<=1)throw new TypeError("numStreams must be greater than 1");let r,i,s;if(!(e.ssrcs||[]).find(d=>d.attribute!=="msid"?!1:d.value.split(" ")[1]===t.id?(r=d.id,s=d.value.split(" ")[0],!0):!1))throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);(e.ssrcGroups||[]).some(d=>{if(d.semantics!=="FID")return!1;const p=d.ssrcs.split(/\s+/);return Number(p[0])===r?(i=Number(p[1]),!0):!1});const a=e.ssrcs.find(d=>d.attribute==="cname"&&d.id===r);if(!a)throw new Error(`a=ssrc line with cname information not found [track.id:${t.id}]`);const c=a.value,l=[],u=[];for(let d=0;d<n;++d)l.push(r+d),i&&u.push(i+d);e.ssrcGroups=e.ssrcGroups||[],e.ssrcs=e.ssrcs||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:l.join(" ")});for(let d=0;d<l.length;++d){const p=l[d];e.ssrcs.push({id:p,attribute:"cname",value:c}),e.ssrcs.push({id:p,attribute:"msid",value:`${s} ${t.id}`})}for(let d=0;d<u.length;++d){const p=l[d],f=u[d];e.ssrcs.push({id:f,attribute:"cname",value:c}),e.ssrcs.push({id:f,attribute:"msid",value:`${s} ${t.id}`}),e.ssrcGroups.push({semantics:"FID",ssrcs:`${p} ${f}`})}}sr.addLegacySimulcast=B2;var $2=E&&E.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),U2=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Va=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&$2(t,e,n);return U2(t,e),t};Object.defineProperty($u,"__esModule",{value:!0});$u.Chrome67=void 0;const gn=Va(ze),V2=Be,kw=Va(Ve),Hi=Va(F),Cc=Va(Ze),Dw=Va(sr),z2=_t,H2=Nt,Z=new V2.Logger("Chrome67"),Lw={OS:1024,MIS:1024};class Gm extends z2.HandlerInterface{static createFactory(){return()=>new Gm}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome67"}close(){if(Z.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){Z.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const n=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const r=gn.parse(n.sdp);return Cc.extractRtpCapabilities({sdpObject:r})}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return Z.debug("getNativeSctpCapabilities()"),{numStreams:Lw}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){Z.debug("run()"),this._direction=t,this._remoteSdp=new H2.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:Hi.getSendingRtpParameters("audio",u),video:Hi.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Hi.getSendingRemoteRtpParameters("audio",u),video:Hi.getSendingRemoteRtpParameters("video",u)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(Z.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(t){Z.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(Z.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});Z.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Z.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertSendDirection(),Z.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),i&&Z.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addTrack(t,this._sendStream);let s=await this._pc.createOffer(),o=gn.parse(s.sdp),a;const c=kw.clone(this._sendingRtpParametersByKind[t.kind],{});c.codecs=Hi.reduceCodecs(c.codecs);const l=kw.clone(this._sendingRemoteRtpParametersByKind[t.kind],{});if(l.codecs=Hi.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&n&&n.length>1&&(Z.debug("send() | enabling simulcast"),o=gn.parse(s.sdp),a=o.media.find(f=>f.type==="video"),Dw.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:n.length}),s={type:"offer",sdp:gn.write(o)}),Z.debug("send() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s),o=gn.parse(this._pc.localDescription.sdp),a=o.media.find(f=>f.type===t.kind),c.rtcp.cname=Cc.getCname({offerMediaObject:a}),c.encodings=Dw.getRtpEncodings({offerMediaObject:a,track:t}),n)for(let f=0;f<c.encodings.length;++f)n[f]&&Object.assign(c.encodings[f],n[f]);if(c.encodings.length>1&&c.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const f of c.encodings)f.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:r});const u={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("send() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setRemoteDescription(u);const d=String(this._nextSendLocalId);this._nextSendLocalId++;const p=this._pc.getSenders().find(f=>f.track===t);return this._mapSendLocalIdRtpSender.set(d,p),{localId:d,rtpParameters:c,rtpSender:p}}async stopSending(t){this.assertSendDirection(),Z.debug("stopSending() [localId:%s]",t);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(n),n.track&&this._sendStream.removeTrack(n.track),this._mapSendLocalIdRtpSender.delete(t);const r=await this._pc.createOffer();Z.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(s){if(this._sendStream.getTracks().length===0){Z.warn("stopSending() | ignoring expected error due no sending tracks: %s",s.toString());return}throw s}if(this._pc.signalingState==="stable")return;const i={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,n){this.assertSendDirection(),n?Z.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):Z.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");const i=r.track;await r.replaceTrack(n),i&&this._sendStream.removeTrack(i),n&&this._sendStream.addTrack(n)}async setMaxSpatialLayer(t,n){this.assertSendDirection(),Z.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");const i=r.getParameters();i.encodings.forEach((s,o)=>{o<=n?s.active=!0:s.active=!1}),await r.setParameters(i)}async setRtpEncodingParameters(t,n){this.assertSendDirection(),Z.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");const i=r.getParameters();i.encodings.forEach((s,o)=>{i.encodings[o]={...s,...n}}),await r.setParameters(i)}async getSenderStats(t){this.assertSendDirection();const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");return n.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:s}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmitTime:n,maxRetransmits:r,protocol:s};Z.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%Lw.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=gn.parse(l.sdp),d=u.media.find(f=>f.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),Z.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const p={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const n=[];for(const o of t){const{trackId:a,kind:c,rtpParameters:l,streamId:u}=o;Z.debug("receive() [trackId:%s, kind:%s]",a,c);const d=c;this._remoteSdp.receive({mid:d,kind:c,offerRtpParameters:l,streamId:u||l.rtcp.cname,trackId:a})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let i=await this._pc.createAnswer();const s=gn.parse(i.sdp);for(const o of t){const{kind:a,rtpParameters:c}=o,l=a,u=s.media.find(d=>String(d.mid)===l);Cc.applyCodecParameters({offerRtpParameters:c,answerMediaObject:u})}i={type:"answer",sdp:gn.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:s}),Z.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const o of t){const{kind:a,trackId:c,rtpParameters:l}=o,u=c,d=a,p=this._pc.getReceivers().find(f=>f.track&&f.track.id===u);if(!p)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(u,{mid:d,rtpParameters:l,rtpReceiver:p}),n.push({localId:u,track:p.track,rtpReceiver:p})}return n}async stopReceiving(t){this.assertRecvDirection();for(const i of t){Z.debug("stopReceiving() [localId:%s]",i);const{mid:s,rtpParameters:o}=this._mapRecvLocalIdInfo.get(i)||{};this._mapRecvLocalIdInfo.delete(i),this._remoteSdp.planBStopReceiving({mid:s,offerRtpParameters:o})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Z.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){this.assertRecvDirection();const{rtpReceiver:n}=this._mapRecvLocalIdInfo.get(t)||{};if(!n)throw new Error("associated RTCRtpReceiver not found");return n.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:r};Z.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(n,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const u={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const p=gn.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p})}Z.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=gn.parse(this._pc.localDescription.sdp));const r=Cc.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,s)=>{this.safeEmit("@connect",{dtlsParameters:r},i,s)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}$u.Chrome67=Gm;var Uu={},W2=E&&E.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),G2=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),za=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&W2(t,e,n);return G2(t,e),t};Object.defineProperty(Uu,"__esModule",{value:!0});Uu.Chrome55=void 0;const yn=za(ze),K2=Be,_o=tt,Aw=za(Ve),Wi=za(F),xc=za(Ze),Ow=za(sr),q2=_t,Q2=Nt,ue=new K2.Logger("Chrome55"),Mw={OS:1024,MIS:1024};class Km extends q2.HandlerInterface{static createFactory(){return()=>new Km}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome55"}close(){if(ue.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){ue.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const n=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const r=yn.parse(n.sdp);return xc.extractRtpCapabilities({sdpObject:r})}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return ue.debug("getNativeSctpCapabilities()"),{numStreams:Mw}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){ue.debug("run()"),this._direction=t,this._remoteSdp=new Q2.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:Wi.getSendingRtpParameters("audio",u),video:Wi.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Wi.getSendingRemoteRtpParameters("audio",u),video:Wi.getSendingRemoteRtpParameters("video",u)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(ue.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(t){ue.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(ue.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});ue.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};ue.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();ue.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertSendDirection(),ue.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),i&&ue.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addStream(this._sendStream);let s=await this._pc.createOffer(),o=yn.parse(s.sdp),a;const c=Aw.clone(this._sendingRtpParametersByKind[t.kind],{});c.codecs=Wi.reduceCodecs(c.codecs);const l=Aw.clone(this._sendingRemoteRtpParametersByKind[t.kind],{});if(l.codecs=Wi.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&n&&n.length>1&&(ue.debug("send() | enabling simulcast"),o=yn.parse(s.sdp),a=o.media.find(p=>p.type==="video"),Ow.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:n.length}),s={type:"offer",sdp:yn.write(o)}),ue.debug("send() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s),o=yn.parse(this._pc.localDescription.sdp),a=o.media.find(p=>p.type===t.kind),c.rtcp.cname=xc.getCname({offerMediaObject:a}),c.encodings=Ow.getRtpEncodings({offerMediaObject:a,track:t}),n)for(let p=0;p<c.encodings.length;++p)n[p]&&Object.assign(c.encodings[p],n[p]);if(c.encodings.length>1&&c.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const p of c.encodings)p.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:r});const u={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("send() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setRemoteDescription(u);const d=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(d,t),{localId:d,rtpParameters:c}}async stopSending(t){this.assertSendDirection(),ue.debug("stopSending() [localId:%s]",t);const n=this._mapSendLocalIdTrack.get(t);if(!n)throw new Error("track not found");this._mapSendLocalIdTrack.delete(t),this._sendStream.removeTrack(n),this._pc.addStream(this._sendStream);const r=await this._pc.createOffer();ue.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(s){if(this._sendStream.getTracks().length===0){ue.warn("stopSending() | ignoring expected error due no sending tracks: %s",s.toString());return}throw s}if(this._pc.signalingState==="stable")return;const i={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,n){throw new _o.UnsupportedError("not implemented")}async setMaxSpatialLayer(t,n){throw new _o.UnsupportedError(" not implemented")}async setRtpEncodingParameters(t,n){throw new _o.UnsupportedError("not supported")}async getSenderStats(t){throw new _o.UnsupportedError("not implemented")}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:s}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmitTime:n,maxRetransmits:r,protocol:s};ue.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%Mw.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=yn.parse(l.sdp),d=u.media.find(f=>f.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),ue.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const p={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const n=[];for(const o of t){const{trackId:a,kind:c,rtpParameters:l,streamId:u}=o;ue.debug("receive() [trackId:%s, kind:%s]",a,c);const d=c;this._remoteSdp.receive({mid:d,kind:c,offerRtpParameters:l,streamId:u||l.rtcp.cname,trackId:a})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ue.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let i=await this._pc.createAnswer();const s=yn.parse(i.sdp);for(const o of t){const{kind:a,rtpParameters:c}=o,l=a,u=s.media.find(d=>String(d.mid)===l);xc.applyCodecParameters({offerRtpParameters:c,answerMediaObject:u})}i={type:"answer",sdp:yn.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:s}),ue.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const o of t){const{kind:a,trackId:c,rtpParameters:l}=o,u=a,d=c,p=o.streamId||l.rtcp.cname,h=this._pc.getRemoteStreams().find(m=>m.id===p).getTrackById(d);if(!h)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(d,{mid:u,rtpParameters:l}),n.push({localId:d,track:h})}return n}async stopReceiving(t){this.assertRecvDirection();for(const i of t){ue.debug("stopReceiving() [localId:%s]",i);const{mid:s,rtpParameters:o}=this._mapRecvLocalIdInfo.get(i)||{};this._mapRecvLocalIdInfo.delete(i),this._remoteSdp.planBStopReceiving({mid:s,offerRtpParameters:o})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};ue.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();ue.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){throw new _o.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:r};ue.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(n,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const u={type:"offer",sdp:this._remoteSdp.getSdp()};ue.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const p=yn.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p})}ue.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=yn.parse(this._pc.localDescription.sdp));const r=xc.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,s)=>{this.safeEmit("@connect",{dtlsParameters:r},i,s)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Uu.Chrome55=Km;var Vu={},Y2=E&&E.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),X2=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ha=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Y2(t,e,n);return X2(t,e),t};Object.defineProperty(Vu,"__esModule",{value:!0});Vu.Firefox60=void 0;const hr=Ha(ze),J2=Be,Iw=tt,ap=Ha(Ve),Gi=Ha(F),Tc=Ha(Ze),jw=Ha(ln),Z2=_t,eF=Nt,tF=Fn,H=new J2.Logger("Firefox60"),Nw={OS:16,MIS:2048};class qm extends Z2.HandlerInterface{static createFactory(){return()=>new qm}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Firefox60"}close(){if(H.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){H.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),n=document.createElement("canvas");n.getContext("2d");const i=n.captureStream().getVideoTracks()[0];try{t.addTransceiver("audio",{direction:"sendrecv"});const s=t.addTransceiver(i,{direction:"sendrecv"}),o=s.sender.getParameters(),a=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}];o.encodings=a,await s.sender.setParameters(o);const c=await t.createOffer();try{n.remove()}catch{}try{i.stop()}catch{}try{t.close()}catch{}const l=hr.parse(c.sdp);return Tc.extractRtpCapabilities({sdpObject:l})}catch(s){try{n.remove()}catch{}try{i.stop()}catch{}try{t.close()}catch{}throw s}}async getNativeSctpCapabilities(){return H.debug("getNativeSctpCapabilities()"),{numStreams:Nw}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){this.assertNotClosed(),H.debug("run()"),this._direction=t,this._remoteSdp=new eF.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s}),this._sendingRtpParametersByKind={audio:Gi.getSendingRtpParameters("audio",u),video:Gi.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Gi.getSendingRemoteRtpParameters("audio",u),video:Gi.getSendingRemoteRtpParameters("video",u)},this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(H.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(t){throw this.assertNotClosed(),new Iw.UnsupportedError("not supported")}async restartIce(t){if(this.assertNotClosed(),H.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});H.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};H.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};H.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();H.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertNotClosed(),this.assertSendDirection(),H.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),n&&(n=ap.clone(n,[]),n.length>1&&(n.forEach((h,m)=>{h.rid=`r${m}`}),n.reverse()));const s=ap.clone(this._sendingRtpParametersByKind[t.kind],{});s.codecs=Gi.reduceCodecs(s.codecs,i);const o=ap.clone(this._sendingRemoteRtpParametersByKind[t.kind],{});o.codecs=Gi.reduceCodecs(o.codecs,i);const a=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});if(n){const h=a.sender.getParameters();h.encodings=n,await a.sender.setParameters(h)}const c=await this._pc.createOffer();let l=hr.parse(c.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:l});const u=(0,tF.parse)((n||[{}])[0].scalabilityMode);H.debug("send() | calling pc.setLocalDescription() [offer:%o]",c),await this._pc.setLocalDescription(c);const d=a.mid;s.mid=d,l=hr.parse(this._pc.localDescription.sdp);const p=l.media[l.media.length-1];if(s.rtcp.cname=Tc.getCname({offerMediaObject:p}),!n)s.encodings=jw.getRtpEncodings({offerMediaObject:p});else if(n.length===1){const h=jw.getRtpEncodings({offerMediaObject:p});Object.assign(h[0],n[0]),s.encodings=h}else s.encodings=n.reverse();if(s.encodings.length>1&&(s.codecs[0].mimeType.toLowerCase()==="video/vp8"||s.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const h of s.encodings)h.scalabilityMode?h.scalabilityMode=`L1T${u.temporalLayers}`:h.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:p,offerRtpParameters:s,answerRtpParameters:o,codecOptions:r,extmapAllowMixed:!0});const f={type:"answer",sdp:this._remoteSdp.getSdp()};return H.debug("send() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._mapMidTransceiver.set(d,a),{localId:d,rtpParameters:s,rtpSender:a.sender}}async stopSending(t){if(this.assertSendDirection(),H.debug("stopSending() [localId:%s]",t),this._closed)return;const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated transceiver not found");n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.disableMediaSection(n.mid);const r=await this._pc.createOffer();H.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};H.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),H.debug("pauseSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="inactive",this._remoteSdp.pauseMediaSection(t);const r=await this._pc.createOffer();H.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};H.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),H.debug("resumeSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(t);const r=await this._pc.createOffer();H.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};H.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(t,n){this.assertNotClosed(),this.assertSendDirection(),n?H.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):H.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(n)}async setMaxSpatialLayer(t,n){this.assertNotClosed(),this.assertSendDirection(),H.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated transceiver not found");const i=r.sender.getParameters();n=i.encodings.length-1-n,i.encodings.forEach((a,c)=>{c>=n?a.active=!0:a.active=!1}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();H.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};H.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,n){this.assertNotClosed(),this.assertSendDirection(),H.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((a,c)=>{i.encodings[c]={...a,...n}}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();H.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};H.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:s}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmits:r,protocol:s};H.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%Nw.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=hr.parse(l.sdp),d=u.media.find(f=>f.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:u}),H.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const p={type:"answer",sdp:this._remoteSdp.getSdp()};H.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const n=[],r=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u,streamId:d}=a;H.debug("receive() [trackId:%s, kind:%s]",c,l);const p=u.mid||String(this._mapMidTransceiver.size);r.set(c,p),this._remoteSdp.receive({mid:p,kind:l,offerRtpParameters:u,streamId:d||u.rtcp.cname,trackId:c})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};H.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let s=await this._pc.createAnswer();const o=hr.parse(s.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,u=r.get(c),d=o.media.find(p=>String(p.mid)===u);Tc.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d}),s={type:"answer",sdp:hr.write(o)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:o}),H.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const a of t){const{trackId:c}=a,l=r.get(c),u=this._pc.getTransceivers().find(d=>d.mid===l);if(!u)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,u),n.push({localId:l,track:u.receiver.track,rtpReceiver:u.receiver})}return n}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const i of t){H.debug("stopReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(s.mid)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};H.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();H.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const i of t)this._mapMidTransceiver.delete(i)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){H.debug("pauseReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");s.direction="inactive",this._remoteSdp.pauseMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};H.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();H.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){H.debug("resumeReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");s.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};H.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();H.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(t){this.assertRecvDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a,protocol:r};H.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(n,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const u={type:"offer",sdp:this._remoteSdp.getSdp()};H.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const p=hr.parse(d.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:p})}H.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=hr.parse(this._pc.localDescription.sdp));const r=Tc.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,s)=>{this.safeEmit("@connect",{dtlsParameters:r},i,s)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new Iw.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Vu.Firefox60=qm;var zu={},nF=E&&E.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),rF=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),no=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&nF(t,e,n);return rF(t,e),t};Object.defineProperty(zu,"__esModule",{value:!0});zu.Safari12=void 0;const vn=no(ze),iF=Be,Fw=no(Ve),Ki=no(F),Ec=no(Ze),Bw=no(ln),sF=no(ki),oF=tt,aF=_t,cF=Nt,lF=Fn,U=new iF.Logger("Safari12"),$w={OS:1024,MIS:1024};class Qm extends aF.HandlerInterface{static createFactory(){return()=>new Qm}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Safari12"}close(){if(U.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){U.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{t.addTransceiver("audio"),t.addTransceiver("video");const n=await t.createOffer();try{t.close()}catch{}const r=vn.parse(n.sdp),i=Ec.extractRtpCapabilities({sdpObject:r});return sF.addNackSuppportForOpus(i),i}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return U.debug("getNativeSctpCapabilities()"),{numStreams:$w}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){this.assertNotClosed(),U.debug("run()"),this._direction=t,this._remoteSdp=new cF.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s}),this._sendingRtpParametersByKind={audio:Ki.getSendingRtpParameters("audio",u),video:Ki.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Ki.getSendingRemoteRtpParameters("audio",u),video:Ki.getSendingRemoteRtpParameters("video",u)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(U.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(t){this.assertNotClosed(),U.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(this.assertNotClosed(),U.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});U.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};U.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};U.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();U.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertNotClosed(),this.assertSendDirection(),U.debug("send() [kind:%s, track.id:%s]",t.kind,t.id);const s=Fw.clone(this._sendingRtpParametersByKind[t.kind],{});s.codecs=Ki.reduceCodecs(s.codecs,i);const o=Fw.clone(this._sendingRemoteRtpParametersByKind[t.kind],{});o.codecs=Ki.reduceCodecs(o.codecs,i);const a=this._remoteSdp.getNextMediaSectionIdx(),c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});let l=await this._pc.createOffer(),u=vn.parse(l.sdp),d;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u});const p=(0,lF.parse)((n||[{}])[0].scalabilityMode);n&&n.length>1&&(U.debug("send() | enabling legacy simulcast"),u=vn.parse(l.sdp),d=u.media[a.idx],Bw.addLegacySimulcast({offerMediaObject:d,numStreams:n.length}),l={type:"offer",sdp:vn.write(u)}),U.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l);const f=c.mid;if(s.mid=f,u=vn.parse(this._pc.localDescription.sdp),d=u.media[a.idx],s.rtcp.cname=Ec.getCname({offerMediaObject:d}),s.encodings=Bw.getRtpEncodings({offerMediaObject:d}),n)for(let m=0;m<s.encodings.length;++m)n[m]&&Object.assign(s.encodings[m],n[m]);if(s.encodings.length>1&&(s.codecs[0].mimeType.toLowerCase()==="video/vp8"||s.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const m of s.encodings)m.scalabilityMode?m.scalabilityMode=`L1T${p.temporalLayers}`:m.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:d,reuseMid:a.reuseMid,offerRtpParameters:s,answerRtpParameters:o,codecOptions:r});const h={type:"answer",sdp:this._remoteSdp.getSdp()};return U.debug("send() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h),this._mapMidTransceiver.set(f,c),{localId:f,rtpParameters:s,rtpSender:c.sender}}async stopSending(t){if(this.assertSendDirection(),this._closed)return;U.debug("stopSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");if(n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.closeMediaSection(n.mid))try{n.stop()}catch{}const i=await this._pc.createOffer();U.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};U.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),U.debug("pauseSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="inactive",this._remoteSdp.pauseMediaSection(t);const r=await this._pc.createOffer();U.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};U.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),U.debug("resumeSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(t);const r=await this._pc.createOffer();U.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};U.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(t,n){this.assertNotClosed(),this.assertSendDirection(),n?U.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):U.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(n)}async setMaxSpatialLayer(t,n){this.assertNotClosed(),this.assertSendDirection(),U.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((a,c)=>{c<=n?a.active=!0:a.active=!1}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();U.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};U.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,n){this.assertNotClosed(),this.assertSendDirection(),U.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((a,c)=>{i.encodings[c]={...a,...n}}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();U.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};U.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:s}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmits:r,protocol:s};U.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%$w.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=vn.parse(l.sdp),d=u.media.find(f=>f.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),U.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const p={type:"answer",sdp:this._remoteSdp.getSdp()};U.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const n=[],r=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u,streamId:d}=a;U.debug("receive() [trackId:%s, kind:%s]",c,l);const p=u.mid||String(this._mapMidTransceiver.size);r.set(c,p),this._remoteSdp.receive({mid:p,kind:l,offerRtpParameters:u,streamId:d||u.rtcp.cname,trackId:c})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};U.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let s=await this._pc.createAnswer();const o=vn.parse(s.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,u=r.get(c),d=o.media.find(p=>String(p.mid)===u);Ec.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d})}s={type:"answer",sdp:vn.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),U.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const a of t){const{trackId:c}=a,l=r.get(c),u=this._pc.getTransceivers().find(d=>d.mid===l);if(!u)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,u),n.push({localId:l,track:u.receiver.track,rtpReceiver:u.receiver})}return n}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const i of t){U.debug("stopReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(s.mid)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};U.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();U.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const i of t)this._mapMidTransceiver.delete(i)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){U.debug("pauseReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");s.direction="inactive",this._remoteSdp.pauseMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};U.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();U.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){U.debug("resumeReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");s.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};U.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();U.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a,protocol:r};U.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(n,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const u={type:"offer",sdp:this._remoteSdp.getSdp()};U.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const p=vn.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p})}U.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=vn.parse(this._pc.localDescription.sdp));const r=Ec.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,s)=>{this.safeEmit("@connect",{dtlsParameters:r},i,s)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new oF.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}zu.Safari12=Qm;var Hu={},uF=E&&E.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),dF=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Wa=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&uF(t,e,n);return dF(t,e),t};Object.defineProperty(Hu,"__esModule",{value:!0});Hu.Safari11=void 0;const wn=Wa(ze),pF=Be,Uw=Wa(Ve),qi=Wa(F),Pc=Wa(Ze),Vw=Wa(sr),fF=_t,hF=Nt,ne=new pF.Logger("Safari11"),zw={OS:1024,MIS:1024};class Ym extends fF.HandlerInterface{static createFactory(){return()=>new Ym}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Safari11"}close(){if(ne.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){ne.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const n=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const r=wn.parse(n.sdp);return Pc.extractRtpCapabilities({sdpObject:r})}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return ne.debug("getNativeSctpCapabilities()"),{numStreams:zw}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){ne.debug("run()"),this._direction=t,this._remoteSdp=new hF.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:qi.getSendingRtpParameters("audio",u),video:qi.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:qi.getSendingRemoteRtpParameters("audio",u),video:qi.getSendingRemoteRtpParameters("video",u)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(ne.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(t){ne.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(ne.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});ne.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};ne.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};ne.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();ne.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertSendDirection(),ne.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),i&&ne.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addTrack(t,this._sendStream);let s=await this._pc.createOffer(),o=wn.parse(s.sdp),a;const c=Uw.clone(this._sendingRtpParametersByKind[t.kind],{});c.codecs=qi.reduceCodecs(c.codecs);const l=Uw.clone(this._sendingRemoteRtpParametersByKind[t.kind],{});if(l.codecs=qi.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&n&&n.length>1&&(ne.debug("send() | enabling simulcast"),o=wn.parse(s.sdp),a=o.media.find(f=>f.type==="video"),Vw.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:n.length}),s={type:"offer",sdp:wn.write(o)}),ne.debug("send() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s),o=wn.parse(this._pc.localDescription.sdp),a=o.media.find(f=>f.type===t.kind),c.rtcp.cname=Pc.getCname({offerMediaObject:a}),c.encodings=Vw.getRtpEncodings({offerMediaObject:a,track:t}),n)for(let f=0;f<c.encodings.length;++f)n[f]&&Object.assign(c.encodings[f],n[f]);if(c.encodings.length>1&&c.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const f of c.encodings)f.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:r});const u={type:"answer",sdp:this._remoteSdp.getSdp()};ne.debug("send() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setRemoteDescription(u);const d=String(this._nextSendLocalId);this._nextSendLocalId++;const p=this._pc.getSenders().find(f=>f.track===t);return this._mapSendLocalIdRtpSender.set(d,p),{localId:d,rtpParameters:c,rtpSender:p}}async stopSending(t){this.assertSendDirection();const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");n.track&&this._sendStream.removeTrack(n.track),this._mapSendLocalIdRtpSender.delete(t);const r=await this._pc.createOffer();ne.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(s){if(this._sendStream.getTracks().length===0){ne.warn("stopSending() | ignoring expected error due no sending tracks: %s",s.toString());return}throw s}if(this._pc.signalingState==="stable")return;const i={type:"answer",sdp:this._remoteSdp.getSdp()};ne.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,n){this.assertSendDirection(),n?ne.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):ne.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");const i=r.track;await r.replaceTrack(n),i&&this._sendStream.removeTrack(i),n&&this._sendStream.addTrack(n)}async setMaxSpatialLayer(t,n){this.assertSendDirection(),ne.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");const i=r.getParameters();i.encodings.forEach((s,o)=>{o<=n?s.active=!0:s.active=!1}),await r.setParameters(i)}async setRtpEncodingParameters(t,n){this.assertSendDirection(),ne.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");const i=r.getParameters();i.encodings.forEach((s,o)=>{i.encodings[o]={...s,...n}}),await r.setParameters(i)}async getSenderStats(t){this.assertSendDirection();const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");return n.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:s}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmits:r,protocol:s};ne.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%zw.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=wn.parse(l.sdp),d=u.media.find(f=>f.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),ne.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const p={type:"answer",sdp:this._remoteSdp.getSdp()};ne.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const n=[];for(const o of t){const{trackId:a,kind:c,rtpParameters:l,streamId:u}=o;ne.debug("receive() [trackId:%s, kind:%s]",a,c);const d=c;this._remoteSdp.receive({mid:d,kind:c,offerRtpParameters:l,streamId:u||l.rtcp.cname,trackId:a})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ne.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let i=await this._pc.createAnswer();const s=wn.parse(i.sdp);for(const o of t){const{kind:a,rtpParameters:c}=o,l=a,u=s.media.find(d=>String(d.mid)===l);Pc.applyCodecParameters({offerRtpParameters:c,answerMediaObject:u})}i={type:"answer",sdp:wn.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:s}),ne.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const o of t){const{kind:a,trackId:c,rtpParameters:l}=o,u=a,d=c,p=this._pc.getReceivers().find(f=>f.track&&f.track.id===d);if(!p)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(d,{mid:u,rtpParameters:l,rtpReceiver:p}),n.push({localId:d,track:p.track,rtpReceiver:p})}return n}async stopReceiving(t){this.assertRecvDirection();for(const i of t){ne.debug("stopReceiving() [localId:%s]",i);const{mid:s,rtpParameters:o}=this._mapRecvLocalIdInfo.get(i)||{};this._mapRecvLocalIdInfo.delete(i),this._remoteSdp.planBStopReceiving({mid:s,offerRtpParameters:o})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};ne.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();ne.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(t){this.assertRecvDirection();const{rtpReceiver:n}=this._mapRecvLocalIdInfo.get(t)||{};if(!n)throw new Error("associated RTCRtpReceiver not found");return n.getStats()}async pauseReceiving(t){}async resumeReceiving(t){}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a,protocol:r};ne.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(n,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const u={type:"offer",sdp:this._remoteSdp.getSdp()};ne.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const p=wn.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p})}ne.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=wn.parse(this._pc.localDescription.sdp));const r=Pc.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,s)=>{this.safeEmit("@connect",{dtlsParameters:r},i,s)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Hu.Safari11=Ym;var Wu={},Ws={},mF=E&&E.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),gF=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yF=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&mF(t,e,n);return gF(t,e),t};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.mangleRtpParameters=Ws.getCapabilities=void 0;const V1=yF(Ve);function vF(){const e=RTCRtpReceiver.getCapabilities(),t=V1.clone(e,{});for(const n of t.codecs){if(n.channels=n.numChannels,delete n.numChannels,n.mimeType=n.mimeType||`${n.kind}/${n.name}`,n.parameters){const r=n.parameters;r.apt&&(r.apt=Number(r.apt)),r["packetization-mode"]&&(r["packetization-mode"]=Number(r["packetization-mode"]))}for(const r of n.rtcpFeedback||[])r.parameter||(r.parameter="")}return t}Ws.getCapabilities=vF;function wF(e){const t=V1.clone(e,{});t.mid&&(t.muxId=t.mid,delete t.mid);for(const n of t.codecs)n.channels&&(n.numChannels=n.channels,delete n.channels),n.mimeType&&!n.name&&(n.name=n.mimeType.split("/")[1]),delete n.mimeType;return t}Ws.mangleRtpParameters=wF;var _F=E&&E.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),SF=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Xm=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&_F(t,e,n);return SF(t,e),t};Object.defineProperty(Wu,"__esModule",{value:!0});Wu.Edge11=void 0;const bF=Be,cp=tt,kc=Xm(Ve),lp=Xm(F),up=Xm(Ws),RF=_t,ge=new bF.Logger("Edge11");class Jm extends RF.HandlerInterface{static createFactory(){return()=>new Jm}constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}get name(){return"Edge11"}close(){ge.debug("close()");try{this._iceGatherer.close()}catch{}try{this._iceTransport.stop()}catch{}try{this._dtlsTransport.stop()}catch{}for(const t of this._rtpSenders.values())try{t.stop()}catch{}for(const t of this._rtpReceivers.values())try{t.stop()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){return ge.debug("getNativeRtpCapabilities()"),up.getCapabilities()}async getNativeSctpCapabilities(){return ge.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){ge.debug("run()"),this._sendingRtpParametersByKind={audio:lp.getSendingRtpParameters("audio",u),video:lp.getSendingRtpParameters("video",u)},this._remoteIceParameters=n,this._remoteIceCandidates=r,this._remoteDtlsParameters=i,this._cname=`CNAME-${kc.generateRandomNumber()}`,this.setIceGatherer({iceServers:o,iceTransportPolicy:a}),this.setIceTransport(),this.setDtlsTransport()}async updateIceServers(t){throw new cp.UnsupportedError("not supported")}async restartIce(t){if(ge.debug("restartIce()"),this._remoteIceParameters=t,!!this._transportReady){ge.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,t,"controlling");for(const n of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(n);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){ge.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),ge.debug("send() | calling new RTCRtpSender()");const s=new RTCRtpSender(t,this._dtlsTransport),o=kc.clone(this._sendingRtpParametersByKind[t.kind],{});o.codecs=lp.reduceCodecs(o.codecs,i);const a=o.codecs.some(u=>/.+\/rtx$/i.test(u.mimeType));n||(n=[{}]);for(const u of n)u.ssrc=kc.generateRandomNumber(),a&&(u.rtx={ssrc:kc.generateRandomNumber()});o.encodings=n,o.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const c=up.mangleRtpParameters(o);ge.debug("send() | calling rtpSender.send() [params:%o]",c),await s.send(c);const l=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(l,s),{localId:l,rtpParameters:o,rtpSender:s}}async stopSending(t){ge.debug("stopSending() [localId:%s]",t);const n=this._rtpSenders.get(t);if(!n)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(t);try{ge.debug("stopSending() | calling rtpSender.stop()"),n.stop()}catch(r){throw ge.warn("stopSending() | rtpSender.stop() failed:%o",r),r}}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,n){n?ge.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):ge.debug("replaceTrack() [localId:%s, no track]",t);const r=this._rtpSenders.get(t);if(!r)throw new Error("RTCRtpSender not found");r.setTrack(n)}async setMaxSpatialLayer(t,n){ge.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._rtpSenders.get(t);if(!r)throw new Error("RTCRtpSender not found");const i=r.getParameters();i.encodings.forEach((s,o)=>{o<=n?s.active=!0:s.active=!1}),await r.setParameters(i)}async setRtpEncodingParameters(t,n){ge.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._rtpSenders.get(t);if(!r)throw new Error("RTCRtpSender not found");const i=r.getParameters();i.encodings.forEach((s,o)=>{i.encodings[o]={...s,...n}}),await r.setParameters(i)}async getSenderStats(t){const n=this._rtpSenders.get(t);if(!n)throw new Error("RTCRtpSender not found");return n.getStats()}async sendDataChannel(t){throw new cp.UnsupportedError("not implemented")}async receive(t){const n=[];for(const r of t){const{trackId:i,kind:s}=r;ge.debug("receive() [trackId:%s, kind:%s]",i,s)}this._transportReady||await this.setupTransport({localDtlsRole:"server"});for(const r of t){const{trackId:i,kind:s,rtpParameters:o}=r;ge.debug("receive() | calling new RTCRtpReceiver()");const a=new RTCRtpReceiver(this._dtlsTransport,s);a.addEventListener("error",u=>{ge.error('rtpReceiver "error" event [event:%o]',u)});const c=up.mangleRtpParameters(o);ge.debug("receive() | calling rtpReceiver.receive() [params:%o]",c),await a.receive(c);const l=i;this._rtpReceivers.set(l,a),n.push({localId:l,track:a.track,rtpReceiver:a})}return n}async stopReceiving(t){for(const n of t){ge.debug("stopReceiving() [localId:%s]",n);const r=this._rtpReceivers.get(n);if(!r)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(n);try{ge.debug("stopReceiving() | calling rtpReceiver.stop()"),r.stop()}catch(i){ge.warn("stopReceiving() | rtpReceiver.stop() failed:%o",i)}}}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){const n=this._rtpReceivers.get(t);if(!n)throw new Error("RTCRtpReceiver not found");return n.getStats()}async receiveDataChannel(t){throw new cp.UnsupportedError("not implemented")}setIceGatherer({iceServers:t,iceTransportPolicy:n}){const r=new RTCIceGatherer({iceServers:t||[],gatherPolicy:n||"all"});r.addEventListener("error",i=>{ge.error('iceGatherer "error" event [event:%o]',i)});try{r.gather()}catch(i){ge.debug("setIceGatherer() | iceGatherer.gather() failed: %s",i.toString())}this._iceGatherer=r}setIceTransport(){const t=new RTCIceTransport(this._iceGatherer);t.addEventListener("statechange",()=>{switch(t.state){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}}),t.addEventListener("icestatechange",()=>{switch(t.state){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}}),t.addEventListener("candidatepairchange",n=>{ge.debug('iceTransport "candidatepairchange" event [pair:%o]',n.pair)}),this._iceTransport=t}setDtlsTransport(){const t=new RTCDtlsTransport(this._iceTransport);t.addEventListener("statechange",()=>{ge.debug('dtlsTransport "statechange" event [state:%s]',t.state)}),t.addEventListener("dtlsstatechange",()=>{ge.debug('dtlsTransport "dtlsstatechange" event [state:%s]',t.state),t.state==="closed"&&this.emit("@connectionstatechange","closed")}),t.addEventListener("error",n=>{ge.error('dtlsTransport "error" event [event:%o]',n)}),this._dtlsTransport=t}async setupTransport({localDtlsRole:t}){ge.debug("setupTransport()");const n=this._dtlsTransport.getLocalParameters();n.role=t,await new Promise((r,i)=>{this.safeEmit("@connect",{dtlsParameters:n},r,i)}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const r of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(r);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter(r=>r.algorithm==="sha-256"||r.algorithm==="sha-384"||r.algorithm==="sha-512"),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}}Wu.Edge11=Jm;var Gu={},CF=E&&E.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),xF=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ro=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&CF(t,e,n);return xF(t,e),t};Object.defineProperty(Gu,"__esModule",{value:!0});Gu.ReactNativeUnifiedPlan=void 0;const _n=ro(ze),TF=Be,Hw=ro(Ve),Qi=ro(F),Dc=ro(Ze),dp=ro(ln),EF=ro(ki),PF=tt,kF=_t,DF=Nt,LF=Fn,B=new TF.Logger("ReactNativeUnifiedPlan"),Ww={OS:1024,MIS:1024};class Zm extends kF.HandlerInterface{static createFactory(){return()=>new Zm}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"ReactNativeUnifiedPlan"}close(){if(B.debug("close()"),!this._closed){if(this._closed=!0,this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){B.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const n=await t.createOffer();try{t.close()}catch{}const r=_n.parse(n.sdp),i=Dc.extractRtpCapabilities({sdpObject:r});return EF.addNackSuppportForOpus(i),i}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return B.debug("getNativeSctpCapabilities()"),{numStreams:Ww}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){this.assertNotClosed(),B.debug("run()"),this._direction=t,this._remoteSdp=new DF.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s}),this._sendingRtpParametersByKind={audio:Qi.getSendingRtpParameters("audio",u),video:Qi.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Qi.getSendingRemoteRtpParameters("audio",u),video:Qi.getSendingRemoteRtpParameters("video",u)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(B.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(t){this.assertNotClosed(),B.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(this.assertNotClosed(),B.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});B.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};B.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};B.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();B.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertNotClosed(),this.assertSendDirection(),B.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),n&&n.length>1&&n.forEach((w,v)=>{w.rid=`r${v}`});const s=Hw.clone(this._sendingRtpParametersByKind[t.kind],{});s.codecs=Qi.reduceCodecs(s.codecs,i);const o=Hw.clone(this._sendingRemoteRtpParametersByKind[t.kind],{});o.codecs=Qi.reduceCodecs(o.codecs,i);const a=this._remoteSdp.getNextMediaSectionIdx(),c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:n});let l=await this._pc.createOffer(),u=_n.parse(l.sdp),d;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u});let p=!1;const f=(0,LF.parse)((n||[{}])[0].scalabilityMode);n&&n.length===1&&f.spatialLayers>1&&s.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(B.debug("send() | enabling legacy simulcast for VP9 SVC"),p=!0,u=_n.parse(l.sdp),d=u.media[a.idx],dp.addLegacySimulcast({offerMediaObject:d,numStreams:f.spatialLayers}),l={type:"offer",sdp:_n.write(u)}),B.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l);let h=c.mid??void 0;if(h||B.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),s.mid=h,u=_n.parse(this._pc.localDescription.sdp),d=u.media[a.idx],s.rtcp.cname=Dc.getCname({offerMediaObject:d}),!n)s.encodings=dp.getRtpEncodings({offerMediaObject:d});else if(n.length===1){let w=dp.getRtpEncodings({offerMediaObject:d});Object.assign(w[0],n[0]),p&&(w=[w[0]]),s.encodings=w}else s.encodings=n;if(s.encodings.length>1&&(s.codecs[0].mimeType.toLowerCase()==="video/vp8"||s.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const w of s.encodings)w.scalabilityMode?w.scalabilityMode=`L1T${f.temporalLayers}`:w.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:d,reuseMid:a.reuseMid,offerRtpParameters:s,answerRtpParameters:o,codecOptions:r,extmapAllowMixed:!0});const m={type:"answer",sdp:this._remoteSdp.getSdp()};return B.debug("send() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m),h||(h=c.mid,s.mid=h),this._mapMidTransceiver.set(h,c),{localId:h,rtpParameters:s,rtpSender:c.sender}}async stopSending(t){if(this.assertSendDirection(),this._closed)return;B.debug("stopSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");if(n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.closeMediaSection(n.mid))try{n.stop()}catch{}const i=await this._pc.createOffer();B.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};B.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),B.debug("pauseSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="inactive",this._remoteSdp.pauseMediaSection(t);const r=await this._pc.createOffer();B.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};B.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),B.debug("resumeSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(this._remoteSdp.resumeSendingMediaSection(t),!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="sendonly";const r=await this._pc.createOffer();B.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};B.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(t,n){this.assertNotClosed(),this.assertSendDirection(),n?B.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):B.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(n)}async setMaxSpatialLayer(t,n){this.assertNotClosed(),this.assertSendDirection(),B.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((a,c)=>{c<=n?a.active=!0:a.active=!1}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();B.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};B.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,n){this.assertNotClosed(),this.assertSendDirection(),B.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((a,c)=>{i.encodings[c]={...a,...n}}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();B.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};B.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:s}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmits:r,protocol:s};B.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%Ww.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=_n.parse(l.sdp),d=u.media.find(f=>f.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),B.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const p={type:"answer",sdp:this._remoteSdp.getSdp()};B.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const n=[],r=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u,streamId:d}=a;B.debug("receive() [trackId:%s, kind:%s]",c,l);const p=u.mid||String(this._mapMidTransceiver.size);r.set(c,p),this._remoteSdp.receive({mid:p,kind:l,offerRtpParameters:u,streamId:d||u.rtcp.cname,trackId:c})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};B.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let s=await this._pc.createAnswer();const o=_n.parse(s.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,u=r.get(c),d=o.media.find(p=>String(p.mid)===u);Dc.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d})}s={type:"answer",sdp:_n.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),B.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const a of t){const{trackId:c}=a,l=r.get(c),u=this._pc.getTransceivers().find(d=>d.mid===l);if(u)this._mapMidTransceiver.set(l,u),n.push({localId:l,track:u.receiver.track,rtpReceiver:u.receiver});else throw new Error("new RTCRtpTransceiver not found")}return n}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const i of t){B.debug("stopReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(s.mid)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};B.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();B.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const i of t)this._mapMidTransceiver.delete(i)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){B.debug("pauseReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");s.direction="inactive",this._remoteSdp.pauseMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};B.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();B.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){B.debug("resumeReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");s.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};B.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();B.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a,protocol:r};B.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(n,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const u={type:"offer",sdp:this._remoteSdp.getSdp()};B.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const p=_n.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p})}B.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=_n.parse(this._pc.localDescription.sdp));const r=Dc.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,s)=>{this.safeEmit("@connect",{dtlsParameters:r},i,s)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new PF.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Gu.ReactNativeUnifiedPlan=Zm;var Ku={},AF=E&&E.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),OF=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ga=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&AF(t,e,n);return OF(t,e),t};Object.defineProperty(Ku,"__esModule",{value:!0});Ku.ReactNative=void 0;const Sn=Ga(ze),MF=Be,So=tt,pp=Ga(Ve),Yi=Ga(F),Lc=Ga(Ze),Gw=Ga(sr),IF=_t,jF=Nt,oe=new MF.Logger("ReactNative"),Kw={OS:1024,MIS:1024};class eg extends IF.HandlerInterface{static createFactory(){return()=>new eg}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"ReactNative"}close(){if(oe.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){oe.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const n=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const r=Sn.parse(n.sdp);return Lc.extractRtpCapabilities({sdpObject:r})}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return oe.debug("getNativeSctpCapabilities()"),{numStreams:Kw}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){oe.debug("run()"),this._direction=t,this._remoteSdp=new jF.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:Yi.getSendingRtpParameters("audio",u),video:Yi.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Yi.getSendingRemoteRtpParameters("audio",u),video:Yi.getSendingRemoteRtpParameters("video",u)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(oe.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(t){oe.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(oe.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});oe.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};oe.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};oe.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();oe.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertSendDirection(),oe.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),i&&oe.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addStream(this._sendStream);let s=await this._pc.createOffer(),o=Sn.parse(s.sdp),a;const c=pp.clone(this._sendingRtpParametersByKind[t.kind],{});c.codecs=Yi.reduceCodecs(c.codecs);const l=pp.clone(this._sendingRemoteRtpParametersByKind[t.kind],{});if(l.codecs=Yi.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&n&&n.length>1&&(oe.debug("send() | enabling simulcast"),o=Sn.parse(s.sdp),a=o.media.find(p=>p.type==="video"),Gw.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:n.length}),s={type:"offer",sdp:Sn.write(o)}),oe.debug("send() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s),o=Sn.parse(this._pc.localDescription.sdp),a=o.media.find(p=>p.type===t.kind),c.rtcp.cname=Lc.getCname({offerMediaObject:a}),c.encodings=Gw.getRtpEncodings({offerMediaObject:a,track:t}),n)for(let p=0;p<c.encodings.length;++p)n[p]&&Object.assign(c.encodings[p],n[p]);if(c.encodings.length>1&&(c.codecs[0].mimeType.toLowerCase()==="video/vp8"||c.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const p of c.encodings)p.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:r});const u={type:"answer",sdp:this._remoteSdp.getSdp()};oe.debug("send() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setRemoteDescription(u);const d=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(d,t),{localId:d,rtpParameters:c}}async stopSending(t){this.assertSendDirection(),oe.debug("stopSending() [localId:%s]",t);const n=this._mapSendLocalIdTrack.get(t);if(!n)throw new Error("track not found");this._mapSendLocalIdTrack.delete(t),this._sendStream.removeTrack(n),this._pc.addStream(this._sendStream);const r=await this._pc.createOffer();oe.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(s){if(this._sendStream.getTracks().length===0){oe.warn("stopSending() | ignoring expected error due no sending tracks: %s",s.toString());return}throw s}if(this._pc.signalingState==="stable")return;const i={type:"answer",sdp:this._remoteSdp.getSdp()};oe.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,n){throw new So.UnsupportedError("not implemented")}async setMaxSpatialLayer(t,n){throw new So.UnsupportedError("not implemented")}async setRtpEncodingParameters(t,n){throw new So.UnsupportedError("not implemented")}async getSenderStats(t){throw new So.UnsupportedError("not implemented")}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:s}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmitTime:n,maxRetransmits:r,protocol:s};oe.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%Kw.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=Sn.parse(l.sdp),d=u.media.find(f=>f.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),oe.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const p={type:"answer",sdp:this._remoteSdp.getSdp()};oe.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const n=[],r=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u}=a;oe.debug("receive() [trackId:%s, kind:%s]",c,l);const d=l;let p=a.streamId||u.rtcp.cname;oe.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),p+=`-hack-${pp.generateRandomNumber()}`,r.set(c,p),this._remoteSdp.receive({mid:d,kind:l,offerRtpParameters:u,streamId:p,trackId:c})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};oe.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let s=await this._pc.createAnswer();const o=Sn.parse(s.sdp);for(const a of t){const{kind:c,rtpParameters:l}=a,u=c,d=o.media.find(p=>String(p.mid)===u);Lc.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d})}s={type:"answer",sdp:Sn.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),oe.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const a of t){const{kind:c,trackId:l,rtpParameters:u}=a,d=l,p=c,f=r.get(l),m=this._pc.getRemoteStreams().find(w=>w.id===f).getTrackById(d);if(!m)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(d,{mid:p,rtpParameters:u}),n.push({localId:d,track:m})}return n}async stopReceiving(t){this.assertRecvDirection();for(const i of t){oe.debug("stopReceiving() [localId:%s]",i);const{mid:s,rtpParameters:o}=this._mapRecvLocalIdInfo.get(i)||{};this._mapRecvLocalIdInfo.delete(i),this._remoteSdp.planBStopReceiving({mid:s,offerRtpParameters:o})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};oe.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();oe.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){throw new So.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:r};oe.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(n,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const u={type:"offer",sdp:this._remoteSdp.getSdp()};oe.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const p=Sn.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p})}oe.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=Sn.parse(this._pc.localDescription.sdp));const r=Lc.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,s)=>{this.safeEmit("@connect",{dtlsParameters:r},i,s)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Ku.ReactNative=eg;var NF=E&&E.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),FF=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),z1=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&NF(t,e,n);return FF(t,e),t};Object.defineProperty(Si,"__esModule",{value:!0});Si.Device=Si.detectDevice=void 0;const BF=Lj,$F=Be,UF=Nn,Xi=tt,VF=z1(Ve),mr=z1(F),zF=ja,HF=Nu,WF=Fu,GF=Bu,KF=$u,qF=Uu,QF=Vu,YF=zu,XF=Hu,JF=Wu,ZF=Gu,e3=Ku,Ye=new $F.Logger("Device");function H1(){var e,t,n;if(typeof navigator=="object"&&navigator.product==="ReactNative"){if(Ye.debug("detectDevice() | React-Native detected"),typeof RTCPeerConnection>"u"){Ye.warn("detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?");return}return typeof RTCRtpTransceiver<"u"?(Ye.debug("detectDevice() | ReactNative UnifiedPlan handler chosen"),"ReactNativeUnifiedPlan"):(Ye.debug("detectDevice() | ReactNative PlanB handler chosen"),"ReactNative")}else if(typeof navigator=="object"&&typeof navigator.userAgent=="string"){const r=navigator.userAgent,i=new BF.UAParser(r);Ye.debug("detectDevice() | browser detected [ua:%s, parsed:%o]",r,i.getResult());const s=i.getBrowser(),o=((e=s.name)==null?void 0:e.toLowerCase())??"",a=parseInt(s.major??"0"),l=((t=i.getEngine().name)==null?void 0:t.toLowerCase())??"",u=i.getOS(),d=((n=u.name)==null?void 0:n.toLowerCase())??"",p=parseFloat(u.version??"0"),f=d==="ios",h=["chrome","chromium","mobile chrome","chrome webview","chrome headless"].includes(o),m=["firefox","mobile firefox","mobile focus"].includes(o),w=["safari","mobile safari"].includes(o),v=["edge"].includes(o);if((h||v)&&!f&&a>=111)return"Chrome111";if(h&&!f&&a>=74||v&&!f&&a>=88)return"Chrome74";if(h&&!f&&a>=70)return"Chrome70";if(h&&!f&&a>=67)return"Chrome67";if(h&&!f&&a>=55)return"Chrome55";if(m&&!f&&a>=60)return"Firefox60";if(m&&f&&p>=14.3)return"Safari12";if(w&&a>=12&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(w&&a>=11)return"Safari11";if(v&&!f&&a>=11&&a<=18)return"Edge11";if(l==="webkit"&&f&&p>=14.3&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(l==="blink"){const g=r.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(g){const y=Number(g[1]);return y>=111?"Chrome111":y>=74?"Chrome74":y>=70?"Chrome70":y>=67?"Chrome67":"Chrome55"}else return"Chrome111"}else{Ye.warn("detectDevice() | browser not supported [name:%s, version:%s]",o,a);return}}else{Ye.warn("detectDevice() | unknown device");return}}Si.detectDevice=H1;class t3{constructor({handlerName:t,handlerFactory:n,Handler:r}={}){if(this._loaded=!1,this._observer=new UF.EnhancedEventEmitter,Ye.debug("constructor()"),r)if(Ye.warn("constructor() | Handler option is DEPRECATED, use handlerName or handlerFactory instead"),typeof r=="string")t=r;else throw new TypeError("non string Handler option no longer supported, use handlerFactory instead");if(t&&n)throw new TypeError("just one of handlerName or handlerInterface can be given");if(n)this._handlerFactory=n;else{if(t)Ye.debug("constructor() | handler given: %s",t);else if(t=H1(),t)Ye.debug("constructor() | detected handler: %s",t);else throw new Xi.UnsupportedError("device not supported");switch(t){case"Chrome111":this._handlerFactory=HF.Chrome111.createFactory();break;case"Chrome74":this._handlerFactory=WF.Chrome74.createFactory();break;case"Chrome70":this._handlerFactory=GF.Chrome70.createFactory();break;case"Chrome67":this._handlerFactory=KF.Chrome67.createFactory();break;case"Chrome55":this._handlerFactory=qF.Chrome55.createFactory();break;case"Firefox60":this._handlerFactory=QF.Firefox60.createFactory();break;case"Safari12":this._handlerFactory=YF.Safari12.createFactory();break;case"Safari11":this._handlerFactory=XF.Safari11.createFactory();break;case"Edge11":this._handlerFactory=JF.Edge11.createFactory();break;case"ReactNativeUnifiedPlan":this._handlerFactory=ZF.ReactNativeUnifiedPlan.createFactory();break;case"ReactNative":this._handlerFactory=e3.ReactNative.createFactory();break;default:throw new TypeError(`unknown handlerName "${t}"`)}}const i=this._handlerFactory();this._handlerName=i.name,i.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new Xi.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new Xi.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:t}){Ye.debug("load() [routerRtpCapabilities:%o]",t),t=VF.clone(t,void 0);let n;try{if(this._loaded)throw new Xi.InvalidStateError("already loaded");mr.validateRtpCapabilities(t),n=this._handlerFactory();const r=await n.getNativeRtpCapabilities();Ye.debug("load() | got native RTP capabilities:%o",r),mr.validateRtpCapabilities(r),this._extendedRtpCapabilities=mr.getExtendedRtpCapabilities(r,t),Ye.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=mr.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=mr.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=mr.getRecvRtpCapabilities(this._extendedRtpCapabilities),mr.validateRtpCapabilities(this._recvRtpCapabilities),Ye.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await n.getNativeSctpCapabilities(),Ye.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),mr.validateSctpCapabilities(this._sctpCapabilities),Ye.debug("load() succeeded"),this._loaded=!0,n.close()}catch(r){throw n&&n.close(),r}}canProduce(t){if(this._loaded){if(t!=="audio"&&t!=="video")throw new TypeError(`invalid kind "${t}"`)}else throw new Xi.InvalidStateError("not loaded");return this._canProduceByKind[t]}createSendTransport({id:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:u}){return Ye.debug("createSendTransport()"),this.createTransport({direction:"send",id:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:u})}createRecvTransport({id:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:u}){return Ye.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:u})}createTransport({direction:t,id:n,iceParameters:r,iceCandidates:i,dtlsParameters:s,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:u,appData:d}){if(this._loaded){if(typeof n!="string")throw new TypeError("missing id");if(typeof r!="object")throw new TypeError("missing iceParameters");if(Array.isArray(i)){if(typeof s!="object")throw new TypeError("missing dtlsParameters");if(o&&typeof o!="object")throw new TypeError("wrong sctpParameters");if(d&&typeof d!="object")throw new TypeError("if given, appData must be an object")}else throw new TypeError("missing iceCandidates")}else throw new Xi.InvalidStateError("not loaded");const p=new zF.Transport({direction:t,id:n,iceParameters:r,iceCandidates:i,dtlsParameters:s,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:u,appData:d,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",p),p}}Si.Device=t3;var W1={},G1={};Object.defineProperty(G1,"__esModule",{value:!0});var K1={};Object.defineProperty(K1,"__esModule",{value:!0});(function(e){var t=E&&E.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=E&&E.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(Si,e),n(ja,e),n(Na,e),n(Fa,e),n(Ba,e),n($a,e),n(G1,e),n(K1,e),n(_t,e),n(tt,e)})(W1);(function(e){var t=E&&E.__createBinding||(Object.create?function(l,u,d,p){p===void 0&&(p=d);var f=Object.getOwnPropertyDescriptor(u,d);(!f||("get"in f?!u.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return u[d]}}),Object.defineProperty(l,p,f)}:function(l,u,d,p){p===void 0&&(p=d),l[p]=u[d]}),n=E&&E.__setModuleDefault||(Object.create?function(l,u){Object.defineProperty(l,"default",{enumerable:!0,value:u})}:function(l,u){l.default=u}),r=E&&E.__importStar||function(l){if(l&&l.__esModule)return l;var u={};if(l!=null)for(var d in l)d!=="default"&&Object.prototype.hasOwnProperty.call(l,d)&&t(u,l,d);return n(u,l),u},i=E&&E.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.parseScalabilityMode=e.detectDevice=e.Device=e.version=e.types=void 0;const s=i(Au);e.debug=s.default;const o=Si;Object.defineProperty(e,"Device",{enumerable:!0,get:function(){return o.Device}}),Object.defineProperty(e,"detectDevice",{enumerable:!0,get:function(){return o.detectDevice}});const a=r(W1);e.types=a,e.version="3.6.98";var c=Fn;Object.defineProperty(e,"parseScalabilityMode",{enumerable:!0,get:function(){return c.parse}})})(y1);let Es,q1,qo,Lo=[],Jr;const n3={encodings:[{rid:"r0",maxBitrate:1e5,scalabilityMode:"S1T3"},{rid:"r1",maxBitrate:3e5,scalabilityMode:"S1T3"}],codecOptions:{videoGoogleStartBitrate:1e3}};let Q1;const r3=async(e,t,n)=>(Q1={track:e.getVideoTracks()[0],...n3},await i3(t,n)),i3=async(e,t)=>new Promise((n,r)=>{e.emit("joinRoom",{roomName:t},async i=>{console.log("Router RTP Capabilities..."),console.log(i.rtpCapabilities),q1=i.rtpCapabilities;try{const s=await s3(e);n(s)}catch(s){console.error("Failed to create device:",s),r(s)}})}),s3=async e=>{try{return Es=new y1.Device,await Es.load({routerRtpCapabilities:q1}),console.log("Device RTP Capabilities",Es.rtpCapabilities),await o3(e)}catch(t){t instanceof Error?(console.log(t.message),t.name==="UnsupportedError"&&console.warn("browser not supported")):console.log("An error occurred: ",t)}return[void 0]},o3=async e=>{let t;try{return t=await new Promise((n,r)=>{e.emit("createWebRtcTransport",{consumer:!1},i=>{i.error?r(new Error(i.error)):n(i)})}),console.log(t.params),qo=Es.createSendTransport(t.params),qo.on("connect",({dtlsParameters:n},r,i)=>{try{e.emit("transport-connect",{dtlsParameters:n}),r()}catch(s){s instanceof Error&&i(s)}}),new Promise((n,r)=>{let i=[];qo.on("produce",(s,o,a)=>{console.log(s);try{e.emit("transport-produce",{kind:s.kind,rtpParameters:s.rtpParameters,appData:s.appData},async({id:c,producersExist:l})=>{o({id:c}),l&&(i=await c3(e),n(i))})}catch(c){c instanceof Error&&(r(c),a(c))}}),a3()})}catch(n){console.error(n)}return[void 0]},a3=async()=>{try{qo&&(Jr=await qo.produce(Q1),Jr==null||Jr.on("trackended",()=>{console.log("video track ended")}),Jr==null||Jr.on("transportclose",()=>{console.log("video transport ended")}))}catch(e){console.log(e)}},c3=async e=>await new Promise((n,r)=>{e.emit("getProducers",async i=>{console.log(i);try{const s=[];for(const o of i){const a=await Y1(o,e);s.push({producerId:o,mediaStream:a})}n(s)}catch(s){r(s)}})}),qw=[],Y1=(e,t)=>new Promise((n,r)=>{qw.includes(e)||(qw.push(e),t.emit("createWebRtcTransport",{consumer:!0},async({params:i})=>{console.log("PARAMS..."),console.log(i);let s;try{s=Es.createRecvTransport(i)}catch(o){console.log(o);return}s.on("connect",({dtlsParameters:o},a,c)=>{try{t.emit("transport-recv-connect",{dtlsParameters:o,serverConsumerTransportId:i.id}),a()}catch(l){l instanceof Error&&c(l)}}),await l3(s,e,i.id,t).then(o=>{n(o)}).catch(o=>{r(o)})}))}),l3=async(e,t,n,r)=>{try{return await u3(e,t,n,r)}catch(i){console.error("Failed to get the media stream:",i)}},u3=(e,t,n,r)=>new Promise((i,s)=>{r.emit("consume",{rtpCapabilities:Es.rtpCapabilities,remoteProducerId:t,serverConsumerTransportId:n},async({params:o})=>{console.log("Consumer Params"),console.log(o);const a=await e.consume(o);Lo.push(e),r.emit("consumer-resume",{serverConsumerId:o.serverConsumerId});try{const{track:c}=a,l=new MediaStream([c]);console.log("here 1?"),i(l)}catch(c){s(c)}})}),d3=e=>{Lo.forEach((n,r)=>{console.log(`consumerTransportList[${r}].appData:`,n.appData)});const t=Lo.find(n=>n.appData.producerId===e);if(!t){console.log(`Cannot find producer with id ${e}`);return}t.close(),Lo=Lo.filter(n=>n.appData.producerId!==e)},Mn=Object.create(null);Mn.open="0";Mn.close="1";Mn.ping="2";Mn.pong="3";Mn.message="4";Mn.upgrade="5";Mn.noop="6";const rl=Object.create(null);Object.keys(Mn).forEach(e=>{rl[Mn[e]]=e});const p3={type:"error",data:"parser error"},X1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",J1=typeof ArrayBuffer=="function",Z1=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,tg=({type:e,data:t},n,r)=>X1&&t instanceof Blob?n?r(t):Qw(t,r):J1&&(t instanceof ArrayBuffer||Z1(t))?n?r(t):Qw(new Blob([t]),r):r(Mn[e]+(t||"")),Qw=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function Yw(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let fp;function f3(e,t){if(X1&&e.data instanceof Blob)return e.data.arrayBuffer().then(Yw).then(t);if(J1&&(e.data instanceof ArrayBuffer||Z1(e.data)))return t(Yw(e.data));tg(e,!1,n=>{fp||(fp=new TextEncoder),t(fp.encode(n))})}const Xw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ao=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Xw.length;e++)Ao[Xw.charCodeAt(e)]=e;const h3=e=>{let t=e.length*.75,n=e.length,r,i=0,s,o,a,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const l=new ArrayBuffer(t),u=new Uint8Array(l);for(r=0;r<n;r+=4)s=Ao[e.charCodeAt(r)],o=Ao[e.charCodeAt(r+1)],a=Ao[e.charCodeAt(r+2)],c=Ao[e.charCodeAt(r+3)],u[i++]=s<<2|o>>4,u[i++]=(o&15)<<4|a>>2,u[i++]=(a&3)<<6|c&63;return l},m3=typeof ArrayBuffer=="function",ng=(e,t)=>{if(typeof e!="string")return{type:"message",data:eC(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:g3(e.substring(1),t)}:rl[n]?e.length>1?{type:rl[n],data:e.substring(1)}:{type:rl[n]}:p3},g3=(e,t)=>{if(m3){const n=h3(e);return eC(n,t)}else return{base64:!0,data:e}},eC=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},tC=String.fromCharCode(30),y3=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((s,o)=>{tg(s,!1,a=>{r[o]=a,++i===n&&t(r.join(tC))})})},v3=(e,t)=>{const n=e.split(tC),r=[];for(let i=0;i<n.length;i++){const s=ng(n[i],t);if(r.push(s),s.type==="error")break}return r};let hp;function w3(e,t,n){hp||(hp=new TextDecoder);const r=t||e[0]<48||e[0]>54;return ng(r?e:hp.decode(e),n)}const nC=4;function qe(e){if(e)return _3(e)}function _3(e){for(var t in qe.prototype)e[t]=qe.prototype[t];return e}qe.prototype.on=qe.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};qe.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};qe.prototype.off=qe.prototype.removeListener=qe.prototype.removeAllListeners=qe.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};qe.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};qe.prototype.emitReserved=qe.prototype.emit;qe.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};qe.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Ht=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function rC(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const S3=Ht.setTimeout,b3=Ht.clearTimeout;function qu(e,t){t.useNativeTimers?(e.setTimeoutFn=S3.bind(Ht),e.clearTimeoutFn=b3.bind(Ht)):(e.setTimeoutFn=Ht.setTimeout.bind(Ht),e.clearTimeoutFn=Ht.clearTimeout.bind(Ht))}const R3=1.33;function C3(e){return typeof e=="string"?x3(e):Math.ceil((e.byteLength||e.size)*R3)}function x3(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function T3(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function E3(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}class P3 extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class rg extends qe{constructor(t){super(),this.writable=!1,qu(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new P3(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=ng(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=T3(t);return n.length?"?"+n:""}}const iC="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),qf=64,k3={};let Jw=0,Ac=0,Zw;function e_(e){let t="";do t=iC[e%qf]+t,e=Math.floor(e/qf);while(e>0);return t}function sC(){const e=e_(+new Date);return e!==Zw?(Jw=0,Zw=e):e+"."+e_(Jw++)}for(;Ac<qf;Ac++)k3[iC[Ac]]=Ac;let oC=!1;try{oC=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const D3=oC;function aC(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||D3))return new XMLHttpRequest}catch{}if(!t)try{return new Ht[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function L3(){}const A3=function(){return new aC({xdomain:!1}).responseType!=null}();class O3 extends rg{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}const n=t&&t.forceBase64;this.supportsBinary=A3&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};v3(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,y3(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=sC()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new An(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class An extends qe{constructor(t,n){super(),qu(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=rC(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new aC(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=An.requestsCount++,An.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=L3,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete An.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}An.requestsCount=0;An.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",t_);else if(typeof addEventListener=="function"){const e="onpagehide"in Ht?"pagehide":"unload";addEventListener(e,t_,!1)}}function t_(){for(let e in An.requests)An.requests.hasOwnProperty(e)&&An.requests[e].abort()}const ig=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),Oc=Ht.WebSocket||Ht.MozWebSocket,n_=!0,M3="arraybuffer",r_=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class I3 extends rg{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=r_?{}:rC(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=n_&&!r_?n?new Oc(t,n):new Oc(t):new Oc(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||M3,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;tg(r,this.supportsBinary,s=>{const o={};try{n_&&this.ws.send(s)}catch{}i&&ig(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=sC()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!Oc}}function j3(e,t){return e.type==="message"&&typeof e.data!="string"&&t[0]>=48&&t[0]<=54}class N3 extends rg{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=t.readable.getReader();this.writer=t.writable.getWriter();let r;const i=()=>{n.read().then(({done:o,value:a})=>{o||(!r&&a.byteLength===1&&a[0]===54?r=!0:(this.onPacket(w3(a,r,"arraybuffer")),r=!1),i())}).catch(o=>{})};i();const s=this.query.sid?`0{"sid":"${this.query.sid}"}`:"0";this.writer.write(new TextEncoder().encode(s)).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;f3(r,s=>{j3(r,s)&&this.writer.write(Uint8Array.of(54)),this.writer.write(s).then(()=>{i&&ig(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const F3={websocket:I3,webtransport:N3,polling:O3},B3=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,$3=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Qf(e){const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=B3.exec(e||""),s={},o=14;for(;o--;)s[$3[o]]=i[o]||"";return n!=-1&&r!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=U3(s,s.path),s.queryKey=V3(s,s.query),s}function U3(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function V3(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}let cC=class Zi extends qe{constructor(t,n={}){super(),this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=Qf(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=Qf(n.host).host),qu(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=E3(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=nC,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new F3[t](r)}open(){let t;if(this.opts.rememberUpgrade&&Zi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;Zi.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Zi.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function s(){r||(r=!0,u(),n.close(),n=null)}const o=d=>{const p=new Error("probe error: "+d);p.transport=n.name,s(),this.emitReserved("upgradeError",p)};function a(){o("transport closed")}function c(){o("socket closed")}function l(d){n&&d.name!==n.name&&s()}const u=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};n.once("open",i),n.once("error",o),n.once("close",a),this.once("close",c),this.once("upgrading",l),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Zi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=C3(i)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:t,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){Zi.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const i=t.length;for(;r<i;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}};cC.protocol=nC;function z3(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Qf(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const H3=typeof ArrayBuffer=="function",W3=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,lC=Object.prototype.toString,G3=typeof Blob=="function"||typeof Blob<"u"&&lC.call(Blob)==="[object BlobConstructor]",K3=typeof File=="function"||typeof File<"u"&&lC.call(File)==="[object FileConstructor]";function sg(e){return H3&&(e instanceof ArrayBuffer||W3(e))||G3&&e instanceof Blob||K3&&e instanceof File}function il(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(il(e[n]))return!0;return!1}if(sg(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return il(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&il(e[n]))return!0;return!1}function q3(e){const t=[],n=e.data,r=e;return r.data=Yf(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Yf(e,t){if(!e)return e;if(sg(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Yf(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Yf(e[r],t));return n}return e}function Q3(e,t){return e.data=Xf(e.data,t),delete e.attachments,e}function Xf(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Xf(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Xf(e[n],t));return e}const Y3=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],X3=5;var re;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(re||(re={}));class J3{constructor(t){this.replacer=t}encode(t){return(t.type===re.EVENT||t.type===re.ACK)&&il(t)?this.encodeAsBinary({type:t.type===re.EVENT?re.BINARY_EVENT:re.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===re.BINARY_EVENT||t.type===re.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=q3(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function i_(e){return Object.prototype.toString.call(e)==="[object Object]"}class og extends qe{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===re.BINARY_EVENT;r||n.type===re.BINARY_ACK?(n.type=r?re.EVENT:re.ACK,this.reconstructor=new Z3(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(sg(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(re[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===re.BINARY_EVENT||r.type===re.BINARY_ACK){const s=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(s,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(s,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(s,n+1))}if(t.charAt(++n)){const s=this.tryParse(t.substr(n));if(og.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case re.CONNECT:return i_(n);case re.DISCONNECT:return n===void 0;case re.CONNECT_ERROR:return typeof n=="string"||i_(n);case re.EVENT:case re.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Y3.indexOf(n[0])===-1);case re.ACK:case re.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Z3{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Q3(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const eB=Object.freeze(Object.defineProperty({__proto__:null,Decoder:og,Encoder:J3,get PacketType(){return re},protocol:X3},Symbol.toStringTag,{value:"Module"}));function nn(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const tB=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class uC extends qe{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[nn(t,"open",this.onopen.bind(this)),nn(t,"packet",this.onpacket.bind(this)),nn(t,"error",this.onerror.bind(this)),nn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(tB.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:re.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,a=n.pop();this._registerAckCallback(o,a),r.id=o}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},i);this.acks[t]=(...o)=>{this.io.clearTimeoutFn(s),n.apply(this,[null,...o])}}emitWithAck(t,...n){const r=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((i,s)=>{n.push((o,a)=>r?o?s(o):i(a):i(o)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:re.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case re.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case re.EVENT:case re.BINARY_EVENT:this.onevent(t);break;case re.ACK:case re.BINARY_ACK:this.onack(t);break;case re.DISCONNECT:this.ondisconnect();break;case re.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:re.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:re.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function io(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}io.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};io.prototype.reset=function(){this.attempts=0};io.prototype.setMin=function(e){this.ms=e};io.prototype.setMax=function(e){this.max=e};io.prototype.setJitter=function(e){this.jitter=e};class Jf extends qe{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,qu(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new io({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||eB;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new cC(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=nn(n,"open",function(){r.onopen(),t&&t()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=nn(n,"error",s);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(nn(t,"ping",this.onping.bind(this)),nn(t,"data",this.ondata.bind(this)),nn(t,"error",this.onerror.bind(this)),nn(t,"close",this.onclose.bind(this)),nn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){ig(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new uC(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const bo={};function Qo(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=z3(e,t.path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=bo[i]&&s in bo[i].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return a?c=new Jf(r,t):(bo[i]||(bo[i]=new Jf(r,t)),c=bo[i]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(Qo,{Manager:Jf,Socket:uC,io:Qo,connect:Qo});const dC=ve.table`
  border-collapse: separate;
  border-spacing: 10px;
  width: ${$s-10}vw;
  height: ${Us-10}vh;
`,nB=vb`
  0% {
    background-color: currentColor;
    opacity: 1;
  }
  100% {
    background-color: white;
    opacity: 0.4;
  }
`,pC=ve(xs.td)`
  position: relative;
  border: 4px solid ${e=>e.flashcolor};
  text-align: center;
  vertical-align: middle;
  color: ${e=>e.flashcolor};
  background-color: white;
  opacity: 0.5;
  cursor: pointer;

  &.flash {
    animation: ${nB} 0.5s;
  }

  &.gameover {
    border: 4px solid black;
    background-color: black;
    opacity: 1;
    z-index: 1000;
  }
`,ag="START_GAME",cg="CLICK_BLOCK",fC="CHANGE_TURN",sl="ADD_PLAYER",hC="OTHER_PLAYER_CLICK",mC="OTHER_CHANGE_TURN";function rB(e,t,n,r){const o=[[1,0],[0,1],[-1,0],[0,-1]],a=[];let c=100;for(a.push([e,t]),n[e][t]=!0;a.length>0;){const[l,u]=a.shift(),d=[];for(const p of o){const f=l+p[0],h=u+p[1];f>=0&&f<4&&h>=0&&h<3&&!n[f][h]&&(a.push([f,h]),n[f][h]=!0,d.push([f,h]))}setTimeout(()=>{const p=Array.from({length:4},()=>Array(3).fill(0));d.map(f=>{p[f[0]][f[1]]=1}),r(p)},c),c+=100}setTimeout(()=>{const l=Array.from({length:4},()=>Array(3).fill(0));r(l)},600)}function gC({userId:e,row:t,column:n}){console.log("Board rendered");const[r,i]=_.useState(Array.from({length:t},()=>Array(n).fill(0))),{dispatch:s,trigerClick:o,clickedBlock:a,gameover:c}=_.useContext(Ka),l=_.useCallback((p,f)=>{s({type:cg,userId:e,clickedBlock:{rowIndex:p,colIndex:f}});const h=[...r];h[p][f]=2,i([...h]);const m=Dm[p][f];m.currentTime=0,m.play();const w=Array(4).fill(!1).map(()=>Array(3).fill(!1));rB(p,f,w,i)},[s,e,r]);_.useEffect(()=>{o&&l(a.rowIndex,a.colIndex)},[l,o]);const u=p=>b.jsx("tr",{children:Array.from({length:n},(f,h)=>d(p,h))},p),d=(p,f)=>b.jsx(pC,{flashcolor:hs[f],initial:{scale:1},animate:r[p][f]>=1&&!c?{scale:[.9,1.1,.9,1]}:{},transition:{type:"spring",stiffness:150,duration:1},className:c?"gameover":r[p][f]===2?"flash":"",onClick:()=>l(p,f)},f);return b.jsx(dC,{children:b.jsx("tbody",{children:Array.from({length:t},(p,f)=>u(f))})})}var yC={exports:{}};(function(e,t){(function(r,i){e.exports=i(_)})(E,function(n){return function(r){var i={};function s(o){if(i[o])return i[o].exports;var a=i[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=r,s.c=i,s.d=function(o,a,c){s.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:c})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,a){if(a&1&&(o=s(o)),a&8||a&4&&typeof o=="object"&&o&&o.__esModule)return o;var c=Object.create(null);if(s.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:o}),a&2&&typeof o!="string")for(var l in o)s.d(c,l,(function(u){return o[u]}).bind(null,l));return c},s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,"a",a),a},s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s.p="",s(s.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,i,s){s.r(i);var o=s("react"),a=function(){var p=function(f,h){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,w){m.__proto__=w}||function(m,w){for(var v in w)w.hasOwnProperty(v)&&(m[v]=w[v])},p(f,h)};return function(f,h){p(f,h);function m(){this.constructor=f}f.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}(),c=function(){return c=Object.assign||function(p){for(var f,h=1,m=arguments.length;h<m;h++){f=arguments[h];for(var w in f)Object.prototype.hasOwnProperty.call(f,w)&&(p[w]=f[w])}return p},c.apply(this,arguments)},l=function(p,f){var h={};for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&f.indexOf(m)<0&&(h[m]=p[m]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,m=Object.getOwnPropertySymbols(p);w<m.length;w++)f.indexOf(m[w])<0&&Object.prototype.propertyIsEnumerable.call(p,m[w])&&(h[m[w]]=p[m[w]]);return h};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(f){var h=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return h?new Promise(function(m,w){h.call(navigator,f,m,w)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function u(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var d=function(p){a(f,p);function f(h){var m=p.call(this,h)||this;return m.canvas=null,m.ctx=null,m.requestUserMediaId=0,m.unmounted=!1,m.state={hasUserMedia:!1},m}return f.prototype.componentDidMount=function(){var h=this,m=h.state,w=h.props;if(this.unmounted=!1,!u()){w.onUserMediaError("getUserMedia not supported");return}m.hasUserMedia||this.requestUserMedia(),w.children&&typeof w.children!="function"&&console.warn("children must be a function")},f.prototype.componentDidUpdate=function(h){var m=this.props;if(!u()){m.onUserMediaError("getUserMedia not supported");return}var w=JSON.stringify(h.audioConstraints)!==JSON.stringify(m.audioConstraints),v=JSON.stringify(h.videoConstraints)!==JSON.stringify(m.videoConstraints),g=h.minScreenshotWidth!==m.minScreenshotWidth,y=h.minScreenshotHeight!==m.minScreenshotHeight;(v||g||y)&&(this.canvas=null,this.ctx=null),(w||v)&&(this.stopAndCleanup(),this.requestUserMedia())},f.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},f.stopMediaStream=function(h){h&&(h.getVideoTracks&&h.getAudioTracks?(h.getVideoTracks().map(function(m){h.removeTrack(m),m.stop()}),h.getAudioTracks().map(function(m){h.removeTrack(m),m.stop()})):h.stop())},f.prototype.stopAndCleanup=function(){var h=this.state;h.hasUserMedia&&(f.stopMediaStream(this.stream),h.src&&window.URL.revokeObjectURL(h.src))},f.prototype.getScreenshot=function(h){var m=this,w=m.state,v=m.props;if(!w.hasUserMedia)return null;var g=this.getCanvas(h);return g&&g.toDataURL(v.screenshotFormat,v.screenshotQuality)},f.prototype.getCanvas=function(h){var m=this,w=m.state,v=m.props;if(!this.video||!w.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var g=this.video.videoWidth,y=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var S=g/y;g=v.minScreenshotWidth||this.video.clientWidth,y=g/S,v.minScreenshotHeight&&y<v.minScreenshotHeight&&(y=v.minScreenshotHeight,g=y*S)}this.canvas=document.createElement("canvas"),this.canvas.width=(h==null?void 0:h.width)||g,this.canvas.height=(h==null?void 0:h.height)||y,this.ctx=this.canvas.getContext("2d")}var R=this,x=R.ctx,C=R.canvas;return x&&C&&(C.width=(h==null?void 0:h.width)||C.width,C.height=(h==null?void 0:h.height)||C.height,v.mirrored&&(x.translate(C.width,0),x.scale(-1,1)),x.imageSmoothingEnabled=v.imageSmoothing,x.drawImage(this.video,0,0,(h==null?void 0:h.width)||C.width,(h==null?void 0:h.height)||C.height),v.mirrored&&(x.scale(-1,1),x.translate(-C.width,0))),C},f.prototype.requestUserMedia=function(){var h=this,m=this.props,w=function(y,S){var R={video:typeof S<"u"?S:!0};m.audio&&(R.audio=typeof y<"u"?y:!0),h.requestUserMediaId++;var x=h.requestUserMediaId;navigator.mediaDevices.getUserMedia(R).then(function(C){h.unmounted||x!==h.requestUserMediaId?f.stopMediaStream(C):h.handleUserMedia(null,C)}).catch(function(C){h.handleUserMedia(C)})};if("mediaDevices"in navigator)w(m.audioConstraints,m.videoConstraints);else{var v=function(y){return{optional:[{sourceId:y}]}},g=function(y){var S=y.deviceId;return typeof S=="string"?S:Array.isArray(S)&&S.length>0?S[0]:typeof S=="object"&&S.ideal?S.ideal:null};MediaStreamTrack.getSources(function(y){var S=null,R=null;y.forEach(function(P){P.kind==="audio"?S=P.id:P.kind==="video"&&(R=P.id)});var x=g(m.audioConstraints);x&&(S=x);var C=g(m.videoConstraints);C&&(R=C),w(v(S),v(R))})}},f.prototype.handleUserMedia=function(h,m){var w=this.props;if(h||!m){this.setState({hasUserMedia:!1}),w.onUserMediaError(h);return}this.stream=m;try{this.video&&(this.video.srcObject=m),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(m)})}w.onUserMedia(m)},f.prototype.render=function(){var h=this,m=this,w=m.state,v=m.props,g=v.audio;v.forceScreenshotSourceSize,v.onUserMedia,v.onUserMediaError,v.screenshotFormat,v.screenshotQuality,v.minScreenshotWidth,v.minScreenshotHeight,v.audioConstraints,v.videoConstraints,v.imageSmoothing;var y=v.mirrored,S=v.style,R=S===void 0?{}:S,x=v.children,C=l(v,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),P=y?c(c({},R),{transform:(R.transform||"")+" scaleX(-1)"}):R,M={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",c({autoPlay:!0,src:w.src,muted:!g,playsInline:!0,ref:function(I){h.video=I},style:P},C)),x&&x(M))},f.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},f}(o.Component);i.default=d},react:function(r,i){r.exports=n}}).default})})(yC);var iB=yC.exports;const sB=ba(iB),oB=(e,t)=>{const n=e.canvas.width,r=e.canvas.height;if(e.save(),e.clearRect(0,0,n,r),e.scale(-1,1),e.translate(-n,0),e.drawImage(t.image,0,0,n,r),t.multiHandLandmarks)for(const i of t.multiHandLandmarks)window.drawConnectors(e,i,window.HAND_CONNECTIONS,{color:"#ffffff",lineWidth:10}),window.drawLandmarks(e,i,{color:"#ffffff",lineWidth:5,radius:5});e.restore()};let mp=null,gp=0,yp=0;const aB=5;function vC(){const{start:e}=_.useContext(Ka),t=_.useRef(null),n=_.useRef(),r=_.useRef(null),i=_.useRef(null),s=_.useCallback(()=>{i.current&&(gp=i.current.getBoundingClientRect().left,yp=i.current.getBoundingClientRect().top,console.log("myRef.current exists ",gp,yp)),r.current&&(r.current.width=window.innerWidth*($s/100),r.current.height=window.innerHeight*(Us/100))},[]),o=_.useCallback((u,d)=>{const p=document.elementFromPoint((1-u)*r.current.width+gp,d*r.current.height+yp);if(p){const f=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});p.dispatchEvent(f)}},[]),a=_.useRef({left:null,right:null});_.useEffect(()=>{s(),window.addEventListener("resize",s);const u=new Event("resize",{bubbles:!0,cancelable:!1});return window.dispatchEvent(u),()=>{window.removeEventListener("resize",s)}},[s]),_.useEffect(()=>{s()},[e]);const c=_.useCallback(u=>{var d;n.current=u,mp!==null&&(oB(mp,u),u.multiHandLandmarks.length==2&&u.multiHandedness[0].label!==u.multiHandedness[1].label&&((d=u.multiHandLandmarks)==null||d.forEach((p,f)=>{var w,v;const h=(v=(w=u.multiHandedness)==null?void 0:w[f])==null?void 0:v.label.toLowerCase(),m=p[8];if(m&&"z"in m){const g=m.z*100;typeof g=="number"&&a.current[h]!=null&&a.current[h]>-.01&&g<0&&a.current[h]-g>aB&&o(m.x,m.y),a.current[h]=g}})))},[o]),l=_.useCallback(async()=>{if(t.current!=null&&"video"in t.current){const u=new window.Hands({locateFile:p=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands@latest/${p}`});mp=r.current.getContext("2d"),u.setOptions({maxNumHands:2,modelComplexity:0,minDetectionConfidence:.7,minTrackingConfidence:.7}),u.onResults(c),await new window.Camera(t.current.video,{onFrame:async()=>{await u.send({image:t.current.video})},width:600,height:800}).start()}},[c,t]);return _.useEffect(()=>{l()},[l]),b.jsxs(Sb,{ref:i,children:[b.jsx("canvas",{ref:r,style:{top:0,left:0,width:`${$s}vw`,height:`${Us}vh`,border:"5px solid #ffffff"}}),b.jsx(sB,{audio:!1,ref:t,style:{visibility:"hidden"},videoConstraints:{facingMode:"user",width:600,height:800}})]})}function cB({turn:e,userId:t,row:n,column:r}){const{start:i}=_.useContext(Ka);return console.log("MyGame rendered",e),b.jsxs(lm,{children:[b.jsxs(_b,{children:[b.jsx(vC,{}),e==t||e==-1?b.jsx(gC,{turn:e,userId:t,row:n,column:r}):null]}),b.jsxs(bb,{children:["Player ID: ",t]}),i&&e==t&&b.jsx("h2",{color:"red",children:"Your Turn!"})]})}const lB=_.memo(cB);function uB({turn:e,users:t,userNum:n}){const{start:r}=_.useContext(Ka),[i,s]=_.useState({});return console.log(t,n),_.useEffect(()=>{const o={};t.forEach(a=>{a.stream!==null&&(o[a.userId]=_.createRef())}),s(o)},[t,n]),_.useEffect(()=>{t.forEach(o=>{const a=i[o.userId];a&&a.current&&(a.current.srcObject=o.stream||null,a.current.play())})},[t,i]),b.jsx(b.Fragment,{children:t.map((o,a)=>b.jsxs(lm,{children:[b.jsxs(_b,{children:[b.jsx(Sb,{children:b.jsx("video",{ref:i[o.userId],style:{position:"absolute",transform:"scaleX(-1)",width:`${$s}vw`,height:`${Us}vh`,border:"5px solid #ffffff"}},a)},a),(r&&e==o.userId||e==-1)&&b.jsx(gC,{turn:e,userId:o.userId,row:4,column:3})]}),b.jsxs(bb,{children:["Player ID: ",o.userId]}),r&&e==o.userId&&b.jsx("h2",{style:{color:"white"},children:"Your Turn!"})]},a))})}const dB=_.memo(uB);function pB({show:e,winner:t,onStartGame:n,handleBeforeUnload:r}){return b.jsxs(En,{show:e,centered:!0,animation:!1,children:[b.jsx(En.Header,{children:b.jsx(En.Title,{id:"contained-modal-title-vcenter",children:b.jsx("h2",{children:"Game Over"})})}),b.jsxs(En.Body,{children:["Winner: ",t]}),b.jsxs(En.Footer,{children:[b.jsx(ma,{variant:"outline-primary",onClick:n,children:"New Game"}),b.jsx(ma,{children:b.jsx(qr,{to:"/main/roomlist",style:{color:"white",textDecoration:"none"},onClick:r,children:"Go Home"})})]})]})}const fB=_.memo(pB);function hB({show:e,onStartGame:t,handleBeforeUnload:n}){return b.jsxs(En,{show:!e,centered:!0,animation:!1,children:[b.jsx(En.Header,{children:b.jsx(En.Title,{id:"contained-modal-title-vcenter",children:b.jsx("h2",{children:"Start Game"})})}),b.jsxs(En.Body,{children:["게임을 시작하시겠습니까?",b.jsx("br",{}),b.jsx("br",{}),b.jsx("p",{children:"Tip: F11을 누르시면 쾌적한 환경에서 플레이하실 수 있습니다:)"})]}),b.jsxs(En.Footer,{children:[b.jsx(ma,{variant:"outline-primary",onClick:t,children:"New Game"}),b.jsx(ma,{children:b.jsx(qr,{to:"/main/roomlist",style:{color:"white",textDecoration:"none"},onClick:n,children:"Go Home"})})]})]})}const mB=_.memo(hB),gB={start:!1,end:!1,playersNum:1,turn:0,endTurn:!1,blockNum:1,blockList:[],prevBlockList:[],winner:-1,trigerClick:!1,clickedBlock:{rowIndex:-1,colIndex:-1}};let ui;const yB=(e,t)=>{switch(t.type){case ag:return e.start?e:(ui!=null&&ui.emit("get_game_data",{type:"START"}),{...e,start:!0,end:!1,turn:1,endTurn:!1,blockNum:0,blockList:[],prevBlockList:[],winner:-1});case cg:{const n=e.blockList.length;return ui!=null&&!e.trigerClick&&Gl==e.turn&&ui.emit("get_game_data",{type:"CLICK",userId:Gl,clickedBlock:{rowIndex:t.clickedBlock.rowIndex,colIndex:t.clickedBlock.colIndex}}),0<=n&&n<e.blockNum&&e.prevBlockList.length>0?e.prevBlockList[n].rowIndex!==t.clickedBlock.rowIndex||e.prevBlockList[n].colIndex!==t.clickedBlock.colIndex?(console.log("Game Over"),{...e,turn:-1,start:!1,end:!0,winner:t.userId,trigerClick:!1}):{...e,blockList:[...e.blockList,t.clickedBlock],trigerClick:!1}:{...e,endTurn:!0,blockList:[...e.blockList,t.clickedBlock],trigerClick:!1}}case fC:return console.log("change turn"),{...e,turn:e.turn%e.playersNum+1,endTurn:!1,blockNum:e.blockNum+1,blockList:[],prevBlockList:[...e.blockList]};case sl:return{...e,playersNum:e.playersNum+t.num};case hC:return{...e,trigerClick:!0,clickedBlock:t.clickedBlock};case mC:return console.log("change turn by other player"),{...e,turn:(e.turn+1)%e.playersNum+1,endTurn:!1,blockNum:e.blockNum+1,blockList:[],prevBlockList:[...e.blockList]};default:return e}},Ka=_.createContext({start:!1,dispatch:()=>{},trigerClick:!1,clickedBlock:{rowIndex:-1,colIndex:-1},gameover:!1});let Ro=[],Gl=1;function vB(){console.log("GamePage rendered");const[e,t]=_.useReducer(yB,gB),{playersNum:n,turn:r,start:i,end:s,endTurn:o,winner:a,trigerClick:c,clickedBlock:l}=e,{roomId:u}=SE(),d=_.useRef(),[p,f]=_.useState(!1),h=_.useCallback(()=>{d.current.emit("disconnect")},[]),m=_.useCallback(()=>{f(!1),t({type:ag})},[]);_.useEffect(()=>{d.current==null&&(d.current=Qo("https://choijungle.shop/mediasoup"),window.addEventListener("beforeunload",h),d.current.on("connection-success",()=>{navigator.mediaDevices.getUserMedia({video:{frameRate:{ideal:15,max:20},width:600,height:700}}).then(async g=>{u!==void 0&&await r3(g,d.current,u).then(y=>{console.log(y),y.map((S,R)=>{S&&Ro.push({userId:R+1,nickname:S.producerId,stream:S.mediaStream})}),t({type:sl,num:y.length}),Gl=y.length+1})}).catch(g=>{console.error(g.message)})}),d.current.on("new-producer",async({producerId:g})=>{try{const y=await Y1(g,d.current);y&&(Ro.push({userId:n+1,nickname:g,stream:y}),t({type:sl,num:1}))}catch(y){console.error("Failed to signal new consumer transport:",y)}}),d.current.on("producer-closed",({remoteProducerId:g})=>{d3(g),Ro=Ro.filter(y=>y.nickname!==g),t({type:sl,num:-1})}),ui=Qo("https://choijungle.shop/data"),ui.on("connection-success",()=>{console.log("dataSocket: connection-success")}),ui.on("send_game_data",g=>{switch(g.data.type){case"START":m();break;case"TURN":t({type:mC});break;case"CLICK":t({type:hC,userId:g.data.userId,clickedBlock:{rowIndex:g.data.clickedBlock.rowIndex,colIndex:g.data.clickedBlock.colIndex}});break}}));async function v(){Jn.loop=!0,await Jn.play()}return v(),()=>{window.removeEventListener("beforeunload",h),Jn.pause()}},[]),_.useEffect(()=>{o&&setTimeout(()=>{t({type:fC})},1e3),s&&setTimeout(()=>{f(!0)},2e3)},[o,s]);const w=_.useMemo(()=>({start:i,dispatch:t,trigerClick:c,clickedBlock:l,gameover:s}),[i,c,s]);return b.jsxs(b.Fragment,{children:[b.jsx(Ka.Provider,{value:w,children:b.jsxs(wb,{children:[b.jsx(lB,{turn:r,userId:Gl,row:4,column:3}),b.jsx(dB,{turn:r,users:Ro,userNum:n-1})]})}),b.jsx(mB,{show:i||s,onStartGame:m,handleBeforeUnload:h}),b.jsx(fB,{show:p,winner:a.toString(),onStartGame:m,handleBeforeUnload:h})]})}function wB(e,t,n,r){const o=[[1,0],[0,1],[-1,0],[0,-1]],a=[];let c=60;for(a.push([e,t]),n[e][t]=!0;a.length>0;){const[l,u]=a.shift(),d=[];for(const p of o){const f=l+p[0],h=u+p[1];f>=0&&f<4&&h>=0&&h<3&&!n[f][h]&&(a.push([f,h]),n[f][h]=!0,d.push([f,h]))}setTimeout(()=>{const p=Array.from({length:4},()=>Array(3).fill(0));d.map(f=>{p[f[0]][f[1]]=1}),r(p)},c),c+=60}setTimeout(()=>{const l=Array.from({length:4},()=>Array(3).fill(0));r(l)},400)}function _B({row:e,column:t}){const[n,r]=_.useState(Array.from({length:e},()=>Array(t).fill(0))),i=_.useCallback((a,c)=>{const l=[...n];l[a][c]=2,r([...l]);const u=Dm[a][c];u.currentTime=0,u.play();const d=Array(4).fill(!1).map(()=>Array(3).fill(!1));wB(a,c,d,r)},[n]),s=a=>b.jsx("tr",{children:Array.from({length:t},(c,l)=>o(a,l))},a),o=(a,c)=>b.jsx(pC,{flashcolor:hs[c],initial:{scale:1},animate:n[a][c]>=1?{scale:[.9,1.1,.9,1]}:{},transition:{type:"spring",stiffness:150,duration:1},className:n[a][c]===2?"flash":"",onClick:()=>i(a,c)},c);return b.jsx(dC,{children:b.jsx("tbody",{children:Array.from({length:e},(a,c)=>s(c))})})}const SB=_.memo(_B);function bB({turn:e,userId:t,row:n,column:r}){const{start:i}=_.useContext(wC);return b.jsxs(lm,{children:[b.jsx(vC,{}),i&&e==t&&b.jsx(SB,{turn:e,userId:t,row:n,column:r})]})}const RB=_.memo(bB),CB={start:!0,end:!1,playersNum:1,turn:1,endTurn:!1,blockNum:0,blockList:[],prevBlockList:[],winner:-1,trigerClick:!1,clickedBlock:{rowIndex:-1,colIndex:-1}},xB=(e,t)=>{switch(t.type){case ag:return console.log("Game Start!"),{...e,start:!0,end:!1,turn:1,endTurn:!1,blockNum:0,blockList:[],prevBlockList:[],winner:-1};case cg:return e;default:return e}},wC=_.createContext({start:!1,dispatch:()=>{},trigerClick:!1,clickedBlock:{rowIndex:-1,colIndex:-1}}),TB=1;function EB(){const[e,t]=_.useReducer(xB,CB),{turn:n,start:r,trigerClick:i,clickedBlock:s}=e,o=_.useMemo(()=>({start:r,dispatch:t,trigerClick:i,clickedBlock:s}),[r,i,s]);return _.useEffect(()=>{async function a(){Jn.loop=!0,await Jn.play()}return a(),()=>{Jn.pause()}},[]),b.jsxs(YR,{children:[b.jsx(xu,{}),b.jsxs(wb,{children:[b.jsx(wC.Provider,{value:o,children:b.jsx(RB,{turn:n,userId:TB,row:4,column:3})}),b.jsxs("div",{style:{display:"flex",flexDirection:"column",backgroundColor:"white",color:"black",padding:"30px",borderRadius:"2%"},children:[b.jsx("h1",{children:"가상 런치패드 소개"}),b.jsx("br",{}),b.jsx("h2",{children:"게임 방식"}),b.jsx("p",{children:"화면을 치는 모션으로 런치패드를 칠 수 있습니다."}),b.jsx("br",{}),b.jsx("br",{}),b.jsx("button",{children:b.jsx(qr,{to:"/main",style:{color:"black",textDecoration:"none"},children:"Home"})})]})]})]})}function PB(){return b.jsxs(b.Fragment,{children:[b.jsx(UE,{basename:"/",children:b.jsxs(E0,{children:[b.jsx(Wn,{path:"/login",element:b.jsx(Ej,{})}),b.jsx(Wn,{path:"/main/*",element:b.jsx(Tj,{})}),b.jsx(Wn,{path:"/game/:roomId",element:b.jsx(vB,{})}),b.jsx(Wn,{path:"/sologame/:roomId",element:b.jsx(EB,{})}),b.jsx(Wn,{path:"/",element:b.jsx(T0,{to:"/login"})})]})}),b.jsx(ME,{})]})}vp.createRoot(document.getElementById("root")).render(b.jsx(b.Fragment,{children:b.jsx(PB,{})}));

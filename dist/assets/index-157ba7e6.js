function mE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var B=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gS={exports:{}},Xu={},yS={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mc=Symbol.for("react.element"),gE=Symbol.for("react.portal"),yE=Symbol.for("react.fragment"),vE=Symbol.for("react.strict_mode"),wE=Symbol.for("react.profiler"),_E=Symbol.for("react.provider"),SE=Symbol.for("react.context"),bE=Symbol.for("react.forward_ref"),RE=Symbol.for("react.suspense"),CE=Symbol.for("react.memo"),xE=Symbol.for("react.lazy"),yv=Symbol.iterator;function TE(e){return e===null||typeof e!="object"?null:(e=yv&&e[yv]||e["@@iterator"],typeof e=="function"?e:null)}var vS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wS=Object.assign,_S={};function Oo(e,t,n){this.props=e,this.context=t,this.refs=_S,this.updater=n||vS}Oo.prototype.isReactComponent={};Oo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Oo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function SS(){}SS.prototype=Oo.prototype;function vm(e,t,n){this.props=e,this.context=t,this.refs=_S,this.updater=n||vS}var wm=vm.prototype=new SS;wm.constructor=vm;wS(wm,Oo.prototype);wm.isPureReactComponent=!0;var vv=Array.isArray,bS=Object.prototype.hasOwnProperty,_m={current:null},RS={key:!0,ref:!0,__self:!0,__source:!0};function CS(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)bS.call(t,r)&&!RS.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:mc,type:e,key:s,ref:o,props:i,_owner:_m.current}}function EE(e,t){return{$$typeof:mc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sm(e){return typeof e=="object"&&e!==null&&e.$$typeof===mc}function PE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wv=/\/+/g;function vf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?PE(""+e.key):t.toString(36)}function Nl(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case mc:case gE:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+vf(o,0):r,vv(i)?(n="",e!=null&&(n=e.replace(wv,"$&/")+"/"),Nl(i,t,n,"",function(l){return l})):i!=null&&(Sm(i)&&(i=EE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(wv,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",vv(e))for(var a=0;a<e.length;a++){s=e[a];var c=r+vf(s,a);o+=Nl(s,t,n,c,i)}else if(c=TE(e),typeof c=="function")for(e=c.call(e),a=0;!(s=e.next()).done;)s=s.value,c=r+vf(s,a++),o+=Nl(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Zc(e,t,n){if(e==null)return e;var r=[],i=0;return Nl(e,r,"","",function(s){return t.call(n,s,i++)}),r}function kE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Gt={current:null},Fl={transition:null},DE={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:Fl,ReactCurrentOwner:_m};Re.Children={map:Zc,forEach:function(e,t,n){Zc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zc(e,function(){t++}),t},toArray:function(e){return Zc(e,function(t){return t})||[]},only:function(e){if(!Sm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=Oo;Re.Fragment=yE;Re.Profiler=wE;Re.PureComponent=vm;Re.StrictMode=vE;Re.Suspense=RE;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DE;Re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=wS({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=_m.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)bS.call(t,c)&&!RS.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:mc,type:e.type,key:i,ref:s,props:r,_owner:o}};Re.createContext=function(e){return e={$$typeof:SE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_E,_context:e},e.Consumer=e};Re.createElement=CS;Re.createFactory=function(e){var t=CS.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:bE,render:e}};Re.isValidElement=Sm;Re.lazy=function(e){return{$$typeof:xE,_payload:{_status:-1,_result:e},_init:kE}};Re.memo=function(e,t){return{$$typeof:CE,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=Fl.transition;Fl.transition={};try{e()}finally{Fl.transition=t}};Re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Re.useCallback=function(e,t){return Gt.current.useCallback(e,t)};Re.useContext=function(e){return Gt.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return Gt.current.useDeferredValue(e)};Re.useEffect=function(e,t){return Gt.current.useEffect(e,t)};Re.useId=function(){return Gt.current.useId()};Re.useImperativeHandle=function(e,t,n){return Gt.current.useImperativeHandle(e,t,n)};Re.useInsertionEffect=function(e,t){return Gt.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return Gt.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return Gt.current.useMemo(e,t)};Re.useReducer=function(e,t,n){return Gt.current.useReducer(e,t,n)};Re.useRef=function(e){return Gt.current.useRef(e)};Re.useState=function(e){return Gt.current.useState(e)};Re.useSyncExternalStore=function(e,t,n){return Gt.current.useSyncExternalStore(e,t,n)};Re.useTransition=function(){return Gt.current.useTransition()};Re.version="18.2.0";yS.exports=Re;var T=yS.exports;const st=hc(T),AE=mE({__proto__:null,default:st},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE=T,OE=Symbol.for("react.element"),ME=Symbol.for("react.fragment"),IE=Object.prototype.hasOwnProperty,jE=LE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NE={key:!0,ref:!0,__self:!0,__source:!0};function xS(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)IE.call(t,r)&&!NE.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:OE,type:e,key:s,ref:o,props:i,_owner:jE.current}}Xu.Fragment=ME;Xu.jsx=xS;Xu.jsxs=xS;gS.exports=Xu;var k=gS.exports,Fp={},TS={exports:{}},pn={},ES={exports:{}},PS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,$){var H=M.length;M.push($);e:for(;0<H;){var X=H-1>>>1,ne=M[X];if(0<i(ne,$))M[X]=$,M[H]=ne,H=X;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var $=M[0],H=M.pop();if(H!==$){M[0]=H;e:for(var X=0,ne=M.length,ge=ne>>>1;X<ge;){var Se=2*(X+1)-1,Oe=M[Se],Te=Se+1,We=M[Te];if(0>i(Oe,H))Te<ne&&0>i(We,Oe)?(M[X]=We,M[Te]=H,X=Te):(M[X]=Oe,M[Se]=H,X=Se);else if(Te<ne&&0>i(We,H))M[X]=We,M[Te]=H,X=Te;else break e}}return $}function i(M,$){var H=M.sortIndex-$.sortIndex;return H!==0?H:M.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],l=[],d=1,f=null,p=3,g=!1,h=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var $=n(l);$!==null;){if($.callback===null)r(l);else if($.startTime<=M)r(l),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(l)}}function C(M){if(y=!1,b(M),!h)if(n(c)!==null)h=!0,V(L);else{var $=n(l);$!==null&&Q(C,$.startTime-M)}}function L(M,$){h=!1,y&&(y=!1,w(F),F=-1),g=!0;var H=p;try{for(b($),f=n(c);f!==null&&(!(f.expirationTime>$)||M&&!I());){var X=f.callback;if(typeof X=="function"){f.callback=null,p=f.priorityLevel;var ne=X(f.expirationTime<=$);$=e.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(c)&&r(c),b($)}else r(c);f=n(c)}if(f!==null)var ge=!0;else{var Se=n(l);Se!==null&&Q(C,Se.startTime-$),ge=!1}return ge}finally{f=null,p=H,g=!1}}var j=!1,O=null,F=-1,Y=5,D=-1;function I(){return!(e.unstable_now()-D<Y)}function G(){if(O!==null){var M=e.unstable_now();D=M;var $=!0;try{$=O(!0,M)}finally{$?K():(j=!1,O=null)}}else j=!1}var K;if(typeof _=="function")K=function(){_(G)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,se=te.port2;te.port1.onmessage=G,K=function(){se.postMessage(null)}}else K=function(){S(G,0)};function V(M){O=M,j||(j=!0,K())}function Q(M,$){F=S(function(){M(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){h||g||(h=!0,V(L))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var H=p;p=$;try{return M()}finally{p=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,$){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var H=p;p=M;try{return $()}finally{p=H}},e.unstable_scheduleCallback=function(M,$,H){var X=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?X+H:X):H=X,M){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=H+ne,M={id:d++,callback:$,priorityLevel:M,startTime:H,expirationTime:ne,sortIndex:-1},H>X?(M.sortIndex=H,t(l,M),n(c)===null&&M===n(l)&&(y?(w(F),F=-1):y=!0,Q(C,H-X))):(M.sortIndex=ne,t(c,M),h||g||(h=!0,V(L))),M},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(M){var $=p;return function(){var H=p;p=$;try{return M.apply(this,arguments)}finally{p=H}}}})(PS);ES.exports=PS;var FE=ES.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kS=T,dn=FE;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DS=new Set,za={};function os(e,t){ho(e,t),ho(e+"Capture",t)}function ho(e,t){for(za[e]=t,e=0;e<t.length;e++)DS.add(t[e])}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bp=Object.prototype.hasOwnProperty,BE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_v={},Sv={};function $E(e){return Bp.call(Sv,e)?!0:Bp.call(_v,e)?!1:BE.test(e)?Sv[e]=!0:(_v[e]=!0,!1)}function UE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VE(e,t,n,r){if(t===null||typeof t>"u"||UE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Kt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mt[e]=new Kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Mt[t]=new Kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mt[e]=new Kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mt[e]=new Kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mt[e]=new Kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mt[e]=new Kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mt[e]=new Kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mt[e]=new Kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mt[e]=new Kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var bm=/[\-:]([a-z])/g;function Rm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bm,Rm);Mt[t]=new Kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bm,Rm);Mt[t]=new Kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bm,Rm);Mt[t]=new Kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mt[e]=new Kt(e,1,!1,e.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mt[e]=new Kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cm(e,t,n,r){var i=Mt.hasOwnProperty(t)?Mt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VE(t,n,i,r)&&(n=null),r||i===null?$E(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Br=kS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,el=Symbol.for("react.element"),Us=Symbol.for("react.portal"),Vs=Symbol.for("react.fragment"),xm=Symbol.for("react.strict_mode"),$p=Symbol.for("react.profiler"),AS=Symbol.for("react.provider"),LS=Symbol.for("react.context"),Tm=Symbol.for("react.forward_ref"),Up=Symbol.for("react.suspense"),Vp=Symbol.for("react.suspense_list"),Em=Symbol.for("react.memo"),Xr=Symbol.for("react.lazy"),OS=Symbol.for("react.offscreen"),bv=Symbol.iterator;function ea(e){return e===null||typeof e!="object"?null:(e=bv&&e[bv]||e["@@iterator"],typeof e=="function"?e:null)}var nt=Object.assign,wf;function ya(e){if(wf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wf=t&&t[1]||""}return`
`+wf+e}var _f=!1;function Sf(e,t){if(!e||_f)return"";_f=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{_f=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ya(e):""}function zE(e){switch(e.tag){case 5:return ya(e.type);case 16:return ya("Lazy");case 13:return ya("Suspense");case 19:return ya("SuspenseList");case 0:case 2:case 15:return e=Sf(e.type,!1),e;case 11:return e=Sf(e.type.render,!1),e;case 1:return e=Sf(e.type,!0),e;default:return""}}function zp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vs:return"Fragment";case Us:return"Portal";case $p:return"Profiler";case xm:return"StrictMode";case Up:return"Suspense";case Vp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case LS:return(e.displayName||"Context")+".Consumer";case AS:return(e._context.displayName||"Context")+".Provider";case Tm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Em:return t=e.displayName||null,t!==null?t:zp(e.type)||"Memo";case Xr:t=e._payload,e=e._init;try{return zp(e(t))}catch{}}return null}function HE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zp(t);case 8:return t===xm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _i(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function MS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function WE(e){var t=MS(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tl(e){e._valueTracker||(e._valueTracker=WE(e))}function IS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=MS(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function lu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hp(e,t){var n=t.checked;return nt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Rv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_i(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jS(e,t){t=t.checked,t!=null&&Cm(e,"checked",t,!1)}function Wp(e,t){jS(e,t);var n=_i(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gp(e,t.type,_i(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gp(e,t,n){(t!=="number"||lu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var va=Array.isArray;function so(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_i(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Kp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return nt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(va(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_i(n)}}function NS(e,t){var n=_i(t.value),r=_i(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Tv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function FS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?FS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nl,BS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nl=nl||document.createElement("div"),nl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ha(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ta={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GE=["Webkit","ms","Moz","O"];Object.keys(Ta).forEach(function(e){GE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ta[t]=Ta[e]})});function $S(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ta.hasOwnProperty(e)&&Ta[e]?(""+t).trim():t+"px"}function US(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$S(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var KE=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qp(e,t){if(t){if(KE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Yp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xp=null;function Pm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jp=null,oo=null,ao=null;function Ev(e){if(e=vc(e)){if(typeof Jp!="function")throw Error(W(280));var t=e.stateNode;t&&(t=nd(t),Jp(e.stateNode,e.type,t))}}function VS(e){oo?ao?ao.push(e):ao=[e]:oo=e}function zS(){if(oo){var e=oo,t=ao;if(ao=oo=null,Ev(e),t)for(e=0;e<t.length;e++)Ev(t[e])}}function HS(e,t){return e(t)}function WS(){}var bf=!1;function GS(e,t,n){if(bf)return e(t,n);bf=!0;try{return HS(e,t,n)}finally{bf=!1,(oo!==null||ao!==null)&&(WS(),zS())}}function Wa(e,t){var n=e.stateNode;if(n===null)return null;var r=nd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var Zp=!1;if(Or)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){Zp=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{Zp=!1}function QE(e,t,n,r,i,s,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(d){this.onError(d)}}var Ea=!1,uu=null,du=!1,eh=null,qE={onError:function(e){Ea=!0,uu=e}};function YE(e,t,n,r,i,s,o,a,c){Ea=!1,uu=null,QE.apply(qE,arguments)}function XE(e,t,n,r,i,s,o,a,c){if(YE.apply(this,arguments),Ea){if(Ea){var l=uu;Ea=!1,uu=null}else throw Error(W(198));du||(du=!0,eh=l)}}function as(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function KS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pv(e){if(as(e)!==e)throw Error(W(188))}function JE(e){var t=e.alternate;if(!t){if(t=as(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Pv(i),e;if(s===r)return Pv(i),t;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function QS(e){return e=JE(e),e!==null?qS(e):null}function qS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qS(e);if(t!==null)return t;e=e.sibling}return null}var YS=dn.unstable_scheduleCallback,kv=dn.unstable_cancelCallback,ZE=dn.unstable_shouldYield,eP=dn.unstable_requestPaint,ut=dn.unstable_now,tP=dn.unstable_getCurrentPriorityLevel,km=dn.unstable_ImmediatePriority,XS=dn.unstable_UserBlockingPriority,fu=dn.unstable_NormalPriority,nP=dn.unstable_LowPriority,JS=dn.unstable_IdlePriority,Ju=null,ur=null;function rP(e){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Ju,e,void 0,(e.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:oP,iP=Math.log,sP=Math.LN2;function oP(e){return e>>>=0,e===0?32:31-(iP(e)/sP|0)|0}var rl=64,il=4194304;function wa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=wa(a):(s&=o,s!==0&&(r=wa(s)))}else o=n&~i,o!==0?r=wa(o):s!==0&&(r=wa(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Fn(t),i=1<<n,r|=e[n],t&=~i;return r}function aP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Fn(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=aP(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}}function th(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ZS(){var e=rl;return rl<<=1,!(rl&4194240)&&(rl=64),e}function Rf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fn(t),e[t]=n}function lP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Fn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Dm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Fn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Fe=0;function eb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tb,Am,nb,rb,ib,nh=!1,sl=[],oi=null,ai=null,ci=null,Ga=new Map,Ka=new Map,ti=[],uP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dv(e,t){switch(e){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":Ga.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(t.pointerId)}}function na(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=vc(t),t!==null&&Am(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function dP(e,t,n,r,i){switch(t){case"focusin":return oi=na(oi,e,t,n,r,i),!0;case"dragenter":return ai=na(ai,e,t,n,r,i),!0;case"mouseover":return ci=na(ci,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ga.set(s,na(Ga.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ka.set(s,na(Ka.get(s)||null,e,t,n,r,i)),!0}return!1}function sb(e){var t=zi(e.target);if(t!==null){var n=as(t);if(n!==null){if(t=n.tag,t===13){if(t=KS(n),t!==null){e.blockedOn=t,ib(e.priority,function(){nb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xp=r,n.target.dispatchEvent(r),Xp=null}else return t=vc(n),t!==null&&Am(t),e.blockedOn=n,!1;t.shift()}return!0}function Av(e,t,n){Bl(e)&&n.delete(t)}function fP(){nh=!1,oi!==null&&Bl(oi)&&(oi=null),ai!==null&&Bl(ai)&&(ai=null),ci!==null&&Bl(ci)&&(ci=null),Ga.forEach(Av),Ka.forEach(Av)}function ra(e,t){e.blockedOn===t&&(e.blockedOn=null,nh||(nh=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,fP)))}function Qa(e){function t(i){return ra(i,e)}if(0<sl.length){ra(sl[0],e);for(var n=1;n<sl.length;n++){var r=sl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(oi!==null&&ra(oi,e),ai!==null&&ra(ai,e),ci!==null&&ra(ci,e),Ga.forEach(t),Ka.forEach(t),n=0;n<ti.length;n++)r=ti[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ti.length&&(n=ti[0],n.blockedOn===null);)sb(n),n.blockedOn===null&&ti.shift()}var co=Br.ReactCurrentBatchConfig,hu=!0;function pP(e,t,n,r){var i=Fe,s=co.transition;co.transition=null;try{Fe=1,Lm(e,t,n,r)}finally{Fe=i,co.transition=s}}function hP(e,t,n,r){var i=Fe,s=co.transition;co.transition=null;try{Fe=4,Lm(e,t,n,r)}finally{Fe=i,co.transition=s}}function Lm(e,t,n,r){if(hu){var i=rh(e,t,n,r);if(i===null)Of(e,t,r,mu,n),Dv(e,r);else if(dP(i,e,t,n,r))r.stopPropagation();else if(Dv(e,r),t&4&&-1<uP.indexOf(e)){for(;i!==null;){var s=vc(i);if(s!==null&&tb(s),s=rh(e,t,n,r),s===null&&Of(e,t,r,mu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Of(e,t,r,null,n)}}var mu=null;function rh(e,t,n,r){if(mu=null,e=Pm(r),e=zi(e),e!==null)if(t=as(e),t===null)e=null;else if(n=t.tag,n===13){if(e=KS(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mu=e,null}function ob(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tP()){case km:return 1;case XS:return 4;case fu:case nP:return 16;case JS:return 536870912;default:return 16}default:return 16}}var ri=null,Om=null,$l=null;function ab(){if($l)return $l;var e,t=Om,n=t.length,r,i="value"in ri?ri.value:ri.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return $l=i.slice(e,1<r?1-r:void 0)}function Ul(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ol(){return!0}function Lv(){return!1}function hn(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ol:Lv,this.isPropagationStopped=Lv,this}return nt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ol)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ol)},persist:function(){},isPersistent:ol}),t}var Mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mm=hn(Mo),yc=nt({},Mo,{view:0,detail:0}),mP=hn(yc),Cf,xf,ia,Zu=nt({},yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Im,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ia&&(ia&&e.type==="mousemove"?(Cf=e.screenX-ia.screenX,xf=e.screenY-ia.screenY):xf=Cf=0,ia=e),Cf)},movementY:function(e){return"movementY"in e?e.movementY:xf}}),Ov=hn(Zu),gP=nt({},Zu,{dataTransfer:0}),yP=hn(gP),vP=nt({},yc,{relatedTarget:0}),Tf=hn(vP),wP=nt({},Mo,{animationName:0,elapsedTime:0,pseudoElement:0}),_P=hn(wP),SP=nt({},Mo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bP=hn(SP),RP=nt({},Mo,{data:0}),Mv=hn(RP),CP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TP[e])?!!t[e]:!1}function Im(){return EP}var PP=nt({},yc,{key:function(e){if(e.key){var t=CP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ul(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Im,charCode:function(e){return e.type==="keypress"?Ul(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ul(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kP=hn(PP),DP=nt({},Zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iv=hn(DP),AP=nt({},yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Im}),LP=hn(AP),OP=nt({},Mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),MP=hn(OP),IP=nt({},Zu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jP=hn(IP),NP=[9,13,27,32],jm=Or&&"CompositionEvent"in window,Pa=null;Or&&"documentMode"in document&&(Pa=document.documentMode);var FP=Or&&"TextEvent"in window&&!Pa,cb=Or&&(!jm||Pa&&8<Pa&&11>=Pa),jv=String.fromCharCode(32),Nv=!1;function lb(e,t){switch(e){case"keyup":return NP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ub(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zs=!1;function BP(e,t){switch(e){case"compositionend":return ub(t);case"keypress":return t.which!==32?null:(Nv=!0,jv);case"textInput":return e=t.data,e===jv&&Nv?null:e;default:return null}}function $P(e,t){if(zs)return e==="compositionend"||!jm&&lb(e,t)?(e=ab(),$l=Om=ri=null,zs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cb&&t.locale!=="ko"?null:t.data;default:return null}}var UP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!UP[e.type]:t==="textarea"}function db(e,t,n,r){VS(r),t=gu(t,"onChange"),0<t.length&&(n=new Mm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ka=null,qa=null;function VP(e){bb(e,0)}function ed(e){var t=Gs(e);if(IS(t))return e}function zP(e,t){if(e==="change")return t}var fb=!1;if(Or){var Ef;if(Or){var Pf="oninput"in document;if(!Pf){var Bv=document.createElement("div");Bv.setAttribute("oninput","return;"),Pf=typeof Bv.oninput=="function"}Ef=Pf}else Ef=!1;fb=Ef&&(!document.documentMode||9<document.documentMode)}function $v(){ka&&(ka.detachEvent("onpropertychange",pb),qa=ka=null)}function pb(e){if(e.propertyName==="value"&&ed(qa)){var t=[];db(t,qa,e,Pm(e)),GS(VP,t)}}function HP(e,t,n){e==="focusin"?($v(),ka=t,qa=n,ka.attachEvent("onpropertychange",pb)):e==="focusout"&&$v()}function WP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ed(qa)}function GP(e,t){if(e==="click")return ed(t)}function KP(e,t){if(e==="input"||e==="change")return ed(t)}function QP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Un=typeof Object.is=="function"?Object.is:QP;function Ya(e,t){if(Un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bp.call(t,i)||!Un(e[i],t[i]))return!1}return!0}function Uv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vv(e,t){var n=Uv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uv(n)}}function hb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mb(){for(var e=window,t=lu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=lu(e.document)}return t}function Nm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qP(e){var t=mb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hb(n.ownerDocument.documentElement,n)){if(r!==null&&Nm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Vv(n,s);var o=Vv(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var YP=Or&&"documentMode"in document&&11>=document.documentMode,Hs=null,ih=null,Da=null,sh=!1;function zv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sh||Hs==null||Hs!==lu(r)||(r=Hs,"selectionStart"in r&&Nm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Da&&Ya(Da,r)||(Da=r,r=gu(ih,"onSelect"),0<r.length&&(t=new Mm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hs)))}function al(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ws={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionend:al("Transition","TransitionEnd")},kf={},gb={};Or&&(gb=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function td(e){if(kf[e])return kf[e];if(!Ws[e])return e;var t=Ws[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in gb)return kf[e]=t[n];return e}var yb=td("animationend"),vb=td("animationiteration"),wb=td("animationstart"),_b=td("transitionend"),Sb=new Map,Hv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(e,t){Sb.set(e,t),os(t,[e])}for(var Df=0;Df<Hv.length;Df++){var Af=Hv[Df],XP=Af.toLowerCase(),JP=Af[0].toUpperCase()+Af.slice(1);Ci(XP,"on"+JP)}Ci(yb,"onAnimationEnd");Ci(vb,"onAnimationIteration");Ci(wb,"onAnimationStart");Ci("dblclick","onDoubleClick");Ci("focusin","onFocus");Ci("focusout","onBlur");Ci(_b,"onTransitionEnd");ho("onMouseEnter",["mouseout","mouseover"]);ho("onMouseLeave",["mouseout","mouseover"]);ho("onPointerEnter",["pointerout","pointerover"]);ho("onPointerLeave",["pointerout","pointerover"]);os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));os("onBeforeInput",["compositionend","keypress","textInput","paste"]);os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZP=new Set("cancel close invalid load scroll toggle".split(" ").concat(_a));function Wv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,XE(r,t,void 0,e),e.currentTarget=null}function bb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Wv(i,a,l),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Wv(i,a,l),s=c}}}if(du)throw e=eh,du=!1,eh=null,e}function Ke(e,t){var n=t[uh];n===void 0&&(n=t[uh]=new Set);var r=e+"__bubble";n.has(r)||(Rb(t,e,2,!1),n.add(r))}function Lf(e,t,n){var r=0;t&&(r|=4),Rb(n,e,r,t)}var cl="_reactListening"+Math.random().toString(36).slice(2);function Xa(e){if(!e[cl]){e[cl]=!0,DS.forEach(function(n){n!=="selectionchange"&&(ZP.has(n)||Lf(n,!1,e),Lf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cl]||(t[cl]=!0,Lf("selectionchange",!1,t))}}function Rb(e,t,n,r){switch(ob(t)){case 1:var i=pP;break;case 4:i=hP;break;default:i=Lm}n=i.bind(null,t,n,e),i=void 0,!Zp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Of(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=zi(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}GS(function(){var l=s,d=Pm(n),f=[];e:{var p=Sb.get(e);if(p!==void 0){var g=Mm,h=e;switch(e){case"keypress":if(Ul(n)===0)break e;case"keydown":case"keyup":g=kP;break;case"focusin":h="focus",g=Tf;break;case"focusout":h="blur",g=Tf;break;case"beforeblur":case"afterblur":g=Tf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ov;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=yP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=LP;break;case yb:case vb:case wb:g=_P;break;case _b:g=MP;break;case"scroll":g=mP;break;case"wheel":g=jP;break;case"copy":case"cut":case"paste":g=bP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Iv}var y=(t&4)!==0,S=!y&&e==="scroll",w=y?p!==null?p+"Capture":null:p;y=[];for(var _=l,b;_!==null;){b=_;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,w!==null&&(C=Wa(_,w),C!=null&&y.push(Ja(_,C,b)))),S)break;_=_.return}0<y.length&&(p=new g(p,h,null,n,d),f.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&n!==Xp&&(h=n.relatedTarget||n.fromElement)&&(zi(h)||h[Mr]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(h=n.relatedTarget||n.toElement,g=l,h=h?zi(h):null,h!==null&&(S=as(h),h!==S||h.tag!==5&&h.tag!==6)&&(h=null)):(g=null,h=l),g!==h)){if(y=Ov,C="onMouseLeave",w="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(y=Iv,C="onPointerLeave",w="onPointerEnter",_="pointer"),S=g==null?p:Gs(g),b=h==null?p:Gs(h),p=new y(C,_+"leave",g,n,d),p.target=S,p.relatedTarget=b,C=null,zi(d)===l&&(y=new y(w,_+"enter",h,n,d),y.target=b,y.relatedTarget=S,C=y),S=C,g&&h)t:{for(y=g,w=h,_=0,b=y;b;b=vs(b))_++;for(b=0,C=w;C;C=vs(C))b++;for(;0<_-b;)y=vs(y),_--;for(;0<b-_;)w=vs(w),b--;for(;_--;){if(y===w||w!==null&&y===w.alternate)break t;y=vs(y),w=vs(w)}y=null}else y=null;g!==null&&Gv(f,p,g,y,!1),h!==null&&S!==null&&Gv(f,S,h,y,!0)}}e:{if(p=l?Gs(l):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var L=zP;else if(Fv(p))if(fb)L=KP;else{L=WP;var j=HP}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=GP);if(L&&(L=L(e,l))){db(f,L,n,d);break e}j&&j(e,p,l),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&Gp(p,"number",p.value)}switch(j=l?Gs(l):window,e){case"focusin":(Fv(j)||j.contentEditable==="true")&&(Hs=j,ih=l,Da=null);break;case"focusout":Da=ih=Hs=null;break;case"mousedown":sh=!0;break;case"contextmenu":case"mouseup":case"dragend":sh=!1,zv(f,n,d);break;case"selectionchange":if(YP)break;case"keydown":case"keyup":zv(f,n,d)}var O;if(jm)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else zs?lb(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(cb&&n.locale!=="ko"&&(zs||F!=="onCompositionStart"?F==="onCompositionEnd"&&zs&&(O=ab()):(ri=d,Om="value"in ri?ri.value:ri.textContent,zs=!0)),j=gu(l,F),0<j.length&&(F=new Mv(F,e,null,n,d),f.push({event:F,listeners:j}),O?F.data=O:(O=ub(n),O!==null&&(F.data=O)))),(O=FP?BP(e,n):$P(e,n))&&(l=gu(l,"onBeforeInput"),0<l.length&&(d=new Mv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:l}),d.data=O))}bb(f,t)})}function Ja(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wa(e,n),s!=null&&r.unshift(Ja(e,s,i)),s=Wa(e,t),s!=null&&r.push(Ja(e,s,i))),e=e.return}return r}function vs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gv(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,i?(c=Wa(n,s),c!=null&&o.unshift(Ja(n,c,a))):i||(c=Wa(n,s),c!=null&&o.push(Ja(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var ek=/\r\n?/g,tk=/\u0000|\uFFFD/g;function Kv(e){return(typeof e=="string"?e:""+e).replace(ek,`
`).replace(tk,"")}function ll(e,t,n){if(t=Kv(t),Kv(e)!==t&&n)throw Error(W(425))}function yu(){}var oh=null,ah=null;function ch(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lh=typeof setTimeout=="function"?setTimeout:void 0,nk=typeof clearTimeout=="function"?clearTimeout:void 0,Qv=typeof Promise=="function"?Promise:void 0,rk=typeof queueMicrotask=="function"?queueMicrotask:typeof Qv<"u"?function(e){return Qv.resolve(null).then(e).catch(ik)}:lh;function ik(e){setTimeout(function(){throw e})}function Mf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Qa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qa(t)}function li(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Io=Math.random().toString(36).slice(2),ar="__reactFiber$"+Io,Za="__reactProps$"+Io,Mr="__reactContainer$"+Io,uh="__reactEvents$"+Io,sk="__reactListeners$"+Io,ok="__reactHandles$"+Io;function zi(e){var t=e[ar];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mr]||n[ar]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qv(e);e!==null;){if(n=e[ar])return n;e=qv(e)}return t}e=n,n=e.parentNode}return null}function vc(e){return e=e[ar]||e[Mr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function nd(e){return e[Za]||null}var dh=[],Ks=-1;function xi(e){return{current:e}}function qe(e){0>Ks||(e.current=dh[Ks],dh[Ks]=null,Ks--)}function He(e,t){Ks++,dh[Ks]=e.current,e.current=t}var Si={},$t=xi(Si),rn=xi(!1),es=Si;function mo(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function sn(e){return e=e.childContextTypes,e!=null}function vu(){qe(rn),qe($t)}function Yv(e,t,n){if($t.current!==Si)throw Error(W(168));He($t,t),He(rn,n)}function Cb(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(W(108,HE(e)||"Unknown",i));return nt({},n,r)}function wu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,es=$t.current,He($t,e),He(rn,rn.current),!0}function Xv(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=Cb(e,t,es),r.__reactInternalMemoizedMergedChildContext=e,qe(rn),qe($t),He($t,e)):qe(rn),He(rn,n)}var Cr=null,rd=!1,If=!1;function xb(e){Cr===null?Cr=[e]:Cr.push(e)}function ak(e){rd=!0,xb(e)}function Ti(){if(!If&&Cr!==null){If=!0;var e=0,t=Fe;try{var n=Cr;for(Fe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Cr=null,rd=!1}catch(i){throw Cr!==null&&(Cr=Cr.slice(e+1)),YS(km,Ti),i}finally{Fe=t,If=!1}}return null}var Qs=[],qs=0,_u=null,Su=0,Sn=[],bn=0,ts=null,Tr=1,Er="";function Ni(e,t){Qs[qs++]=Su,Qs[qs++]=_u,_u=e,Su=t}function Tb(e,t,n){Sn[bn++]=Tr,Sn[bn++]=Er,Sn[bn++]=ts,ts=e;var r=Tr;e=Er;var i=32-Fn(r)-1;r&=~(1<<i),n+=1;var s=32-Fn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Tr=1<<32-Fn(t)+i|n<<i|r,Er=s+e}else Tr=1<<s|n<<i|r,Er=e}function Fm(e){e.return!==null&&(Ni(e,1),Tb(e,1,0))}function Bm(e){for(;e===_u;)_u=Qs[--qs],Qs[qs]=null,Su=Qs[--qs],Qs[qs]=null;for(;e===ts;)ts=Sn[--bn],Sn[bn]=null,Er=Sn[--bn],Sn[bn]=null,Tr=Sn[--bn],Sn[bn]=null}var un=null,ln=null,Xe=!1,Nn=null;function Eb(e,t){var n=Cn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Jv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,un=e,ln=li(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,un=e,ln=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ts!==null?{id:Tr,overflow:Er}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Cn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,un=e,ln=null,!0):!1;default:return!1}}function fh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ph(e){if(Xe){var t=ln;if(t){var n=t;if(!Jv(e,t)){if(fh(e))throw Error(W(418));t=li(n.nextSibling);var r=un;t&&Jv(e,t)?Eb(r,n):(e.flags=e.flags&-4097|2,Xe=!1,un=e)}}else{if(fh(e))throw Error(W(418));e.flags=e.flags&-4097|2,Xe=!1,un=e}}}function Zv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;un=e}function ul(e){if(e!==un)return!1;if(!Xe)return Zv(e),Xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ch(e.type,e.memoizedProps)),t&&(t=ln)){if(fh(e))throw Pb(),Error(W(418));for(;t;)Eb(e,t),t=li(t.nextSibling)}if(Zv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ln=li(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ln=null}}else ln=un?li(e.stateNode.nextSibling):null;return!0}function Pb(){for(var e=ln;e;)e=li(e.nextSibling)}function go(){ln=un=null,Xe=!1}function $m(e){Nn===null?Nn=[e]:Nn.push(e)}var ck=Br.ReactCurrentBatchConfig;function Mn(e,t){if(e&&e.defaultProps){t=nt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var bu=xi(null),Ru=null,Ys=null,Um=null;function Vm(){Um=Ys=Ru=null}function zm(e){var t=bu.current;qe(bu),e._currentValue=t}function hh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function lo(e,t){Ru=e,Um=Ys=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tn=!0),e.firstContext=null)}function En(e){var t=e._currentValue;if(Um!==e)if(e={context:e,memoizedValue:t,next:null},Ys===null){if(Ru===null)throw Error(W(308));Ys=e,Ru.dependencies={lanes:0,firstContext:e}}else Ys=Ys.next=e;return t}var Hi=null;function Hm(e){Hi===null?Hi=[e]:Hi.push(e)}function kb(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Hm(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ir(e,r)}function Ir(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jr=!1;function Wm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Db(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ui(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ir(e,n)}return i=r.interleaved,i===null?(t.next=t,Hm(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ir(e,n)}function Vl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dm(e,n)}}function ew(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cu(e,t,n,r){var i=e.updateQueue;Jr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?s=l:o.next=l,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,d=l=c=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,y=a;switch(p=t,g=n,y.tag){case 1:if(h=y.payload,typeof h=="function"){f=h.call(g,f,p);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=y.payload,p=typeof h=="function"?h.call(g,f,p):h,p==null)break e;f=nt({},f,p);break e;case 2:Jr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(l=d=g,c=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);rs|=o,e.lanes=o,e.memoizedState=f}}function tw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var Ab=new kS.Component().refs;function mh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:nt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var id={isMounted:function(e){return(e=e._reactInternals)?as(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wt(),i=fi(e),s=kr(r,i);s.payload=t,n!=null&&(s.callback=n),t=ui(e,s,i),t!==null&&(Bn(t,e,i,r),Vl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wt(),i=fi(e),s=kr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ui(e,s,i),t!==null&&(Bn(t,e,i,r),Vl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wt(),r=fi(e),i=kr(n,r);i.tag=2,t!=null&&(i.callback=t),t=ui(e,i,r),t!==null&&(Bn(t,e,r,n),Vl(t,e,r))}};function nw(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ya(n,r)||!Ya(i,s):!0}function Lb(e,t,n){var r=!1,i=Si,s=t.contextType;return typeof s=="object"&&s!==null?s=En(s):(i=sn(t)?es:$t.current,r=t.contextTypes,s=(r=r!=null)?mo(e,i):Si),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=id,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function rw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&id.enqueueReplaceState(t,t.state,null)}function gh(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ab,Wm(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=En(s):(s=sn(t)?es:$t.current,i.context=mo(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(mh(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&id.enqueueReplaceState(i,i.state,null),Cu(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function sa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===Ab&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function dl(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function iw(e){var t=e._init;return t(e._payload)}function Ob(e){function t(w,_){if(e){var b=w.deletions;b===null?(w.deletions=[_],w.flags|=16):b.push(_)}}function n(w,_){if(!e)return null;for(;_!==null;)t(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=pi(w,_),w.index=0,w.sibling=null,w}function s(w,_,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<_?(w.flags|=2,_):b):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,_,b,C){return _===null||_.tag!==6?(_=Vf(b,w.mode,C),_.return=w,_):(_=i(_,b),_.return=w,_)}function c(w,_,b,C){var L=b.type;return L===Vs?d(w,_,b.props.children,C,b.key):_!==null&&(_.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Xr&&iw(L)===_.type)?(C=i(_,b.props),C.ref=sa(w,_,b),C.return=w,C):(C=Ql(b.type,b.key,b.props,null,w.mode,C),C.ref=sa(w,_,b),C.return=w,C)}function l(w,_,b,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=zf(b,w.mode,C),_.return=w,_):(_=i(_,b.children||[]),_.return=w,_)}function d(w,_,b,C,L){return _===null||_.tag!==7?(_=Yi(b,w.mode,C,L),_.return=w,_):(_=i(_,b),_.return=w,_)}function f(w,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Vf(""+_,w.mode,b),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case el:return b=Ql(_.type,_.key,_.props,null,w.mode,b),b.ref=sa(w,null,_),b.return=w,b;case Us:return _=zf(_,w.mode,b),_.return=w,_;case Xr:var C=_._init;return f(w,C(_._payload),b)}if(va(_)||ea(_))return _=Yi(_,w.mode,b,null),_.return=w,_;dl(w,_)}return null}function p(w,_,b,C){var L=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return L!==null?null:a(w,_,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case el:return b.key===L?c(w,_,b,C):null;case Us:return b.key===L?l(w,_,b,C):null;case Xr:return L=b._init,p(w,_,L(b._payload),C)}if(va(b)||ea(b))return L!==null?null:d(w,_,b,C,null);dl(w,b)}return null}function g(w,_,b,C,L){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(b)||null,a(_,w,""+C,L);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case el:return w=w.get(C.key===null?b:C.key)||null,c(_,w,C,L);case Us:return w=w.get(C.key===null?b:C.key)||null,l(_,w,C,L);case Xr:var j=C._init;return g(w,_,b,j(C._payload),L)}if(va(C)||ea(C))return w=w.get(b)||null,d(_,w,C,L,null);dl(_,C)}return null}function h(w,_,b,C){for(var L=null,j=null,O=_,F=_=0,Y=null;O!==null&&F<b.length;F++){O.index>F?(Y=O,O=null):Y=O.sibling;var D=p(w,O,b[F],C);if(D===null){O===null&&(O=Y);break}e&&O&&D.alternate===null&&t(w,O),_=s(D,_,F),j===null?L=D:j.sibling=D,j=D,O=Y}if(F===b.length)return n(w,O),Xe&&Ni(w,F),L;if(O===null){for(;F<b.length;F++)O=f(w,b[F],C),O!==null&&(_=s(O,_,F),j===null?L=O:j.sibling=O,j=O);return Xe&&Ni(w,F),L}for(O=r(w,O);F<b.length;F++)Y=g(O,w,F,b[F],C),Y!==null&&(e&&Y.alternate!==null&&O.delete(Y.key===null?F:Y.key),_=s(Y,_,F),j===null?L=Y:j.sibling=Y,j=Y);return e&&O.forEach(function(I){return t(w,I)}),Xe&&Ni(w,F),L}function y(w,_,b,C){var L=ea(b);if(typeof L!="function")throw Error(W(150));if(b=L.call(b),b==null)throw Error(W(151));for(var j=L=null,O=_,F=_=0,Y=null,D=b.next();O!==null&&!D.done;F++,D=b.next()){O.index>F?(Y=O,O=null):Y=O.sibling;var I=p(w,O,D.value,C);if(I===null){O===null&&(O=Y);break}e&&O&&I.alternate===null&&t(w,O),_=s(I,_,F),j===null?L=I:j.sibling=I,j=I,O=Y}if(D.done)return n(w,O),Xe&&Ni(w,F),L;if(O===null){for(;!D.done;F++,D=b.next())D=f(w,D.value,C),D!==null&&(_=s(D,_,F),j===null?L=D:j.sibling=D,j=D);return Xe&&Ni(w,F),L}for(O=r(w,O);!D.done;F++,D=b.next())D=g(O,w,F,D.value,C),D!==null&&(e&&D.alternate!==null&&O.delete(D.key===null?F:D.key),_=s(D,_,F),j===null?L=D:j.sibling=D,j=D);return e&&O.forEach(function(G){return t(w,G)}),Xe&&Ni(w,F),L}function S(w,_,b,C){if(typeof b=="object"&&b!==null&&b.type===Vs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case el:e:{for(var L=b.key,j=_;j!==null;){if(j.key===L){if(L=b.type,L===Vs){if(j.tag===7){n(w,j.sibling),_=i(j,b.props.children),_.return=w,w=_;break e}}else if(j.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Xr&&iw(L)===j.type){n(w,j.sibling),_=i(j,b.props),_.ref=sa(w,j,b),_.return=w,w=_;break e}n(w,j);break}else t(w,j);j=j.sibling}b.type===Vs?(_=Yi(b.props.children,w.mode,C,b.key),_.return=w,w=_):(C=Ql(b.type,b.key,b.props,null,w.mode,C),C.ref=sa(w,_,b),C.return=w,w=C)}return o(w);case Us:e:{for(j=b.key;_!==null;){if(_.key===j)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(w,_.sibling),_=i(_,b.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else t(w,_);_=_.sibling}_=zf(b,w.mode,C),_.return=w,w=_}return o(w);case Xr:return j=b._init,S(w,_,j(b._payload),C)}if(va(b))return h(w,_,b,C);if(ea(b))return y(w,_,b,C);dl(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(w,_.sibling),_=i(_,b),_.return=w,w=_):(n(w,_),_=Vf(b,w.mode,C),_.return=w,w=_),o(w)):n(w,_)}return S}var yo=Ob(!0),Mb=Ob(!1),wc={},dr=xi(wc),ec=xi(wc),tc=xi(wc);function Wi(e){if(e===wc)throw Error(W(174));return e}function Gm(e,t){switch(He(tc,t),He(ec,e),He(dr,wc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qp(t,e)}qe(dr),He(dr,t)}function vo(){qe(dr),qe(ec),qe(tc)}function Ib(e){Wi(tc.current);var t=Wi(dr.current),n=Qp(t,e.type);t!==n&&(He(ec,e),He(dr,n))}function Km(e){ec.current===e&&(qe(dr),qe(ec))}var Ze=xi(0);function xu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jf=[];function Qm(){for(var e=0;e<jf.length;e++)jf[e]._workInProgressVersionPrimary=null;jf.length=0}var zl=Br.ReactCurrentDispatcher,Nf=Br.ReactCurrentBatchConfig,ns=0,tt=null,St=null,Tt=null,Tu=!1,Aa=!1,nc=0,lk=0;function jt(){throw Error(W(321))}function qm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Un(e[n],t[n]))return!1;return!0}function Ym(e,t,n,r,i,s){if(ns=s,tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zl.current=e===null||e.memoizedState===null?pk:hk,e=n(r,i),Aa){s=0;do{if(Aa=!1,nc=0,25<=s)throw Error(W(301));s+=1,Tt=St=null,t.updateQueue=null,zl.current=mk,e=n(r,i)}while(Aa)}if(zl.current=Eu,t=St!==null&&St.next!==null,ns=0,Tt=St=tt=null,Tu=!1,t)throw Error(W(300));return e}function Xm(){var e=nc!==0;return nc=0,e}function ir(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?tt.memoizedState=Tt=e:Tt=Tt.next=e,Tt}function Pn(){if(St===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=St.next;var t=Tt===null?tt.memoizedState:Tt.next;if(t!==null)Tt=t,St=e;else{if(e===null)throw Error(W(310));St=e,e={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Tt===null?tt.memoizedState=Tt=e:Tt=Tt.next=e}return Tt}function rc(e,t){return typeof t=="function"?t(e):t}function Ff(e){var t=Pn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=St,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,l=s;do{var d=l.lane;if((ns&d)===d)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,tt.lanes|=d,rs|=d}l=l.next}while(l!==null&&l!==s);c===null?o=r:c.next=a,Un(r,t.memoizedState)||(tn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,tt.lanes|=s,rs|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bf(e){var t=Pn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Un(s,t.memoizedState)||(tn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function jb(){}function Nb(e,t){var n=tt,r=Pn(),i=t(),s=!Un(r.memoizedState,i);if(s&&(r.memoizedState=i,tn=!0),r=r.queue,Jm($b.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,ic(9,Bb.bind(null,n,r,i,t),void 0,null),Pt===null)throw Error(W(349));ns&30||Fb(n,t,i)}return i}function Fb(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Bb(e,t,n,r){t.value=n,t.getSnapshot=r,Ub(t)&&Vb(e)}function $b(e,t,n){return n(function(){Ub(t)&&Vb(e)})}function Ub(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Un(e,n)}catch{return!0}}function Vb(e){var t=Ir(e,1);t!==null&&Bn(t,e,1,-1)}function sw(e){var t=ir();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:e},t.queue=e,e=e.dispatch=fk.bind(null,tt,e),[t.memoizedState,e]}function ic(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function zb(){return Pn().memoizedState}function Hl(e,t,n,r){var i=ir();tt.flags|=e,i.memoizedState=ic(1|t,n,void 0,r===void 0?null:r)}function sd(e,t,n,r){var i=Pn();r=r===void 0?null:r;var s=void 0;if(St!==null){var o=St.memoizedState;if(s=o.destroy,r!==null&&qm(r,o.deps)){i.memoizedState=ic(t,n,s,r);return}}tt.flags|=e,i.memoizedState=ic(1|t,n,s,r)}function ow(e,t){return Hl(8390656,8,e,t)}function Jm(e,t){return sd(2048,8,e,t)}function Hb(e,t){return sd(4,2,e,t)}function Wb(e,t){return sd(4,4,e,t)}function Gb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kb(e,t,n){return n=n!=null?n.concat([e]):null,sd(4,4,Gb.bind(null,t,e),n)}function Zm(){}function Qb(e,t){var n=Pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qb(e,t){var n=Pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yb(e,t,n){return ns&21?(Un(n,t)||(n=ZS(),tt.lanes|=n,rs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tn=!0),e.memoizedState=n)}function uk(e,t){var n=Fe;Fe=n!==0&&4>n?n:4,e(!0);var r=Nf.transition;Nf.transition={};try{e(!1),t()}finally{Fe=n,Nf.transition=r}}function Xb(){return Pn().memoizedState}function dk(e,t,n){var r=fi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jb(e))Zb(t,n);else if(n=kb(e,t,n,r),n!==null){var i=Wt();Bn(n,e,r,i),e1(n,t,r)}}function fk(e,t,n){var r=fi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jb(e))Zb(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Un(a,o)){var c=t.interleaved;c===null?(i.next=i,Hm(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=kb(e,t,i,r),n!==null&&(i=Wt(),Bn(n,e,r,i),e1(n,t,r))}}function Jb(e){var t=e.alternate;return e===tt||t!==null&&t===tt}function Zb(e,t){Aa=Tu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function e1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dm(e,n)}}var Eu={readContext:En,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},pk={readContext:En,useCallback:function(e,t){return ir().memoizedState=[e,t===void 0?null:t],e},useContext:En,useEffect:ow,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Hl(4194308,4,Gb.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hl(4,2,e,t)},useMemo:function(e,t){var n=ir();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ir();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=dk.bind(null,tt,e),[r.memoizedState,e]},useRef:function(e){var t=ir();return e={current:e},t.memoizedState=e},useState:sw,useDebugValue:Zm,useDeferredValue:function(e){return ir().memoizedState=e},useTransition:function(){var e=sw(!1),t=e[0];return e=uk.bind(null,e[1]),ir().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=tt,i=ir();if(Xe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),Pt===null)throw Error(W(349));ns&30||Fb(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,ow($b.bind(null,r,s,e),[e]),r.flags|=2048,ic(9,Bb.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ir(),t=Pt.identifierPrefix;if(Xe){var n=Er,r=Tr;n=(r&~(1<<32-Fn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=nc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=lk++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hk={readContext:En,useCallback:Qb,useContext:En,useEffect:Jm,useImperativeHandle:Kb,useInsertionEffect:Hb,useLayoutEffect:Wb,useMemo:qb,useReducer:Ff,useRef:zb,useState:function(){return Ff(rc)},useDebugValue:Zm,useDeferredValue:function(e){var t=Pn();return Yb(t,St.memoizedState,e)},useTransition:function(){var e=Ff(rc)[0],t=Pn().memoizedState;return[e,t]},useMutableSource:jb,useSyncExternalStore:Nb,useId:Xb,unstable_isNewReconciler:!1},mk={readContext:En,useCallback:Qb,useContext:En,useEffect:Jm,useImperativeHandle:Kb,useInsertionEffect:Hb,useLayoutEffect:Wb,useMemo:qb,useReducer:Bf,useRef:zb,useState:function(){return Bf(rc)},useDebugValue:Zm,useDeferredValue:function(e){var t=Pn();return St===null?t.memoizedState=e:Yb(t,St.memoizedState,e)},useTransition:function(){var e=Bf(rc)[0],t=Pn().memoizedState;return[e,t]},useMutableSource:jb,useSyncExternalStore:Nb,useId:Xb,unstable_isNewReconciler:!1};function wo(e,t){try{var n="",r=t;do n+=zE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function $f(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function yh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var gk=typeof WeakMap=="function"?WeakMap:Map;function t1(e,t,n){n=kr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ku||(ku=!0,Eh=r),yh(e,t)},n}function n1(e,t,n){n=kr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){yh(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){yh(e,t),typeof r!="function"&&(di===null?di=new Set([this]):di.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function aw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new gk;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Dk.bind(null,e,t,n),t.then(e,e))}function cw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kr(-1,1),t.tag=2,ui(n,t,1))),n.lanes|=1),e)}var yk=Br.ReactCurrentOwner,tn=!1;function zt(e,t,n,r){t.child=e===null?Mb(t,null,n,r):yo(t,e.child,n,r)}function uw(e,t,n,r,i){n=n.render;var s=t.ref;return lo(t,i),r=Ym(e,t,n,r,s,i),n=Xm(),e!==null&&!tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,jr(e,t,i)):(Xe&&n&&Fm(t),t.flags|=1,zt(e,t,r,i),t.child)}function dw(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!ag(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,r1(e,t,s,r,i)):(e=Ql(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ya,n(o,r)&&e.ref===t.ref)return jr(e,t,i)}return t.flags|=1,e=pi(s,r),e.ref=t.ref,e.return=t,t.child=e}function r1(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Ya(s,r)&&e.ref===t.ref)if(tn=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(tn=!0);else return t.lanes=e.lanes,jr(e,t,i)}return vh(e,t,n,r,i)}function i1(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Js,cn),cn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,He(Js,cn),cn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,He(Js,cn),cn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,He(Js,cn),cn|=r;return zt(e,t,i,n),t.child}function s1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function vh(e,t,n,r,i){var s=sn(n)?es:$t.current;return s=mo(t,s),lo(t,i),n=Ym(e,t,n,r,s,i),r=Xm(),e!==null&&!tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,jr(e,t,i)):(Xe&&r&&Fm(t),t.flags|=1,zt(e,t,n,i),t.child)}function fw(e,t,n,r,i){if(sn(n)){var s=!0;wu(t)}else s=!1;if(lo(t,i),t.stateNode===null)Wl(e,t),Lb(t,n,r),gh(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=En(l):(l=sn(n)?es:$t.current,l=mo(t,l));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==l)&&rw(t,o,r,l),Jr=!1;var p=t.memoizedState;o.state=p,Cu(t,r,o,i),c=t.memoizedState,a!==r||p!==c||rn.current||Jr?(typeof d=="function"&&(mh(t,n,d,r),c=t.memoizedState),(a=Jr||nw(t,n,a,r,p,c,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Db(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Mn(t.type,a),o.props=l,f=t.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=En(c):(c=sn(n)?es:$t.current,c=mo(t,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==c)&&rw(t,o,r,c),Jr=!1,p=t.memoizedState,o.state=p,Cu(t,r,o,i);var h=t.memoizedState;a!==f||p!==h||rn.current||Jr?(typeof g=="function"&&(mh(t,n,g,r),h=t.memoizedState),(l=Jr||nw(t,n,l,r,p,h,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=c,r=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return wh(e,t,n,r,s,i)}function wh(e,t,n,r,i,s){s1(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Xv(t,n,!1),jr(e,t,s);r=t.stateNode,yk.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=yo(t,e.child,null,s),t.child=yo(t,null,a,s)):zt(e,t,a,s),t.memoizedState=r.state,i&&Xv(t,n,!0),t.child}function o1(e){var t=e.stateNode;t.pendingContext?Yv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yv(e,t.context,!1),Gm(e,t.containerInfo)}function pw(e,t,n,r,i){return go(),$m(i),t.flags|=256,zt(e,t,n,r),t.child}var _h={dehydrated:null,treeContext:null,retryLane:0};function Sh(e){return{baseLanes:e,cachePool:null,transitions:null}}function a1(e,t,n){var r=t.pendingProps,i=Ze.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),He(Ze,i&1),e===null)return ph(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=cd(o,r,0,null),e=Yi(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Sh(n),t.memoizedState=_h,e):eg(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return vk(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=pi(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=pi(a,s):(s=Yi(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Sh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=_h,r}return s=e.child,e=s.sibling,r=pi(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function eg(e,t){return t=cd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fl(e,t,n,r){return r!==null&&$m(r),yo(t,e.child,null,n),e=eg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vk(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=$f(Error(W(422))),fl(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=cd({mode:"visible",children:r.children},i,0,null),s=Yi(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&yo(t,e.child,null,o),t.child.memoizedState=Sh(o),t.memoizedState=_h,s);if(!(t.mode&1))return fl(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=$f(s,r,void 0),fl(e,t,o,r)}if(a=(o&e.childLanes)!==0,tn||a){if(r=Pt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ir(e,i),Bn(r,e,i,-1))}return og(),r=$f(Error(W(421))),fl(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Ak.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ln=li(i.nextSibling),un=t,Xe=!0,Nn=null,e!==null&&(Sn[bn++]=Tr,Sn[bn++]=Er,Sn[bn++]=ts,Tr=e.id,Er=e.overflow,ts=t),t=eg(t,r.children),t.flags|=4096,t)}function hw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),hh(e.return,t,n)}function Uf(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function c1(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(zt(e,t,r.children,n),r=Ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hw(e,n,t);else if(e.tag===19)hw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(He(Ze,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&xu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uf(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&xu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uf(t,!0,n,null,s);break;case"together":Uf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),rs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=pi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wk(e,t,n){switch(t.tag){case 3:o1(t),go();break;case 5:Ib(t);break;case 1:sn(t.type)&&wu(t);break;case 4:Gm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;He(bu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(He(Ze,Ze.current&1),t.flags|=128,null):n&t.child.childLanes?a1(e,t,n):(He(Ze,Ze.current&1),e=jr(e,t,n),e!==null?e.sibling:null);He(Ze,Ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return c1(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(Ze,Ze.current),r)break;return null;case 22:case 23:return t.lanes=0,i1(e,t,n)}return jr(e,t,n)}var l1,bh,u1,d1;l1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bh=function(){};u1=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Wi(dr.current);var s=null;switch(n){case"input":i=Hp(e,i),r=Hp(e,r),s=[];break;case"select":i=nt({},i,{value:void 0}),r=nt({},r,{value:void 0}),s=[];break;case"textarea":i=Kp(e,i),r=Kp(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=yu)}qp(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(za.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var c=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(za.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Ke("scroll",e),s||a===c||(s=[])):(s=s||[]).push(l,c))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};d1=function(e,t,n,r){n!==r&&(t.flags|=4)};function oa(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _k(e,t,n){var r=t.pendingProps;switch(Bm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return sn(t.type)&&vu(),Nt(t),null;case 3:return r=t.stateNode,vo(),qe(rn),qe($t),Qm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ul(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nn!==null&&(Dh(Nn),Nn=null))),bh(e,t),Nt(t),null;case 5:Km(t);var i=Wi(tc.current);if(n=t.type,e!==null&&t.stateNode!=null)u1(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return Nt(t),null}if(e=Wi(dr.current),ul(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ar]=t,r[Za]=s,e=(t.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(i=0;i<_a.length;i++)Ke(_a[i],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":Rv(r,s),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ke("invalid",r);break;case"textarea":xv(r,s),Ke("invalid",r)}qp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ll(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ll(r.textContent,a,e),i=["children",""+a]):za.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ke("scroll",r)}switch(n){case"input":tl(r),Cv(r,s,!0);break;case"textarea":tl(r),Tv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=FS(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ar]=t,e[Za]=r,l1(e,t,!1,!1),t.stateNode=e;e:{switch(o=Yp(n,r),n){case"dialog":Ke("cancel",e),Ke("close",e),i=r;break;case"iframe":case"object":case"embed":Ke("load",e),i=r;break;case"video":case"audio":for(i=0;i<_a.length;i++)Ke(_a[i],e);i=r;break;case"source":Ke("error",e),i=r;break;case"img":case"image":case"link":Ke("error",e),Ke("load",e),i=r;break;case"details":Ke("toggle",e),i=r;break;case"input":Rv(e,r),i=Hp(e,r),Ke("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=nt({},r,{value:void 0}),Ke("invalid",e);break;case"textarea":xv(e,r),i=Kp(e,r),Ke("invalid",e);break;default:i=r}qp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?US(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&BS(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ha(e,c):typeof c=="number"&&Ha(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(za.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ke("scroll",e):c!=null&&Cm(e,s,c,o))}switch(n){case"input":tl(e),Cv(e,r,!1);break;case"textarea":tl(e),Tv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_i(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?so(e,!!r.multiple,s,!1):r.defaultValue!=null&&so(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=yu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nt(t),null;case 6:if(e&&t.stateNode!=null)d1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=Wi(tc.current),Wi(dr.current),ul(t)){if(r=t.stateNode,n=t.memoizedProps,r[ar]=t,(s=r.nodeValue!==n)&&(e=un,e!==null))switch(e.tag){case 3:ll(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ll(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ar]=t,t.stateNode=r}return Nt(t),null;case 13:if(qe(Ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xe&&ln!==null&&t.mode&1&&!(t.flags&128))Pb(),go(),t.flags|=98560,s=!1;else if(s=ul(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(W(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[ar]=t}else go(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nt(t),s=!1}else Nn!==null&&(Dh(Nn),Nn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ze.current&1?bt===0&&(bt=3):og())),t.updateQueue!==null&&(t.flags|=4),Nt(t),null);case 4:return vo(),bh(e,t),e===null&&Xa(t.stateNode.containerInfo),Nt(t),null;case 10:return zm(t.type._context),Nt(t),null;case 17:return sn(t.type)&&vu(),Nt(t),null;case 19:if(qe(Ze),s=t.memoizedState,s===null)return Nt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)oa(s,!1);else{if(bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=xu(e),o!==null){for(t.flags|=128,oa(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return He(Ze,Ze.current&1|2),t.child}e=e.sibling}s.tail!==null&&ut()>_o&&(t.flags|=128,r=!0,oa(s,!1),t.lanes=4194304)}else{if(!r)if(e=xu(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),oa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Xe)return Nt(t),null}else 2*ut()-s.renderingStartTime>_o&&n!==1073741824&&(t.flags|=128,r=!0,oa(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ut(),t.sibling=null,n=Ze.current,He(Ze,r?n&1|2:n&1),t):(Nt(t),null);case 22:case 23:return sg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?cn&1073741824&&(Nt(t),t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function Sk(e,t){switch(Bm(t),t.tag){case 1:return sn(t.type)&&vu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vo(),qe(rn),qe($t),Qm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Km(t),null;case 13:if(qe(Ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));go()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(Ze),null;case 4:return vo(),null;case 10:return zm(t.type._context),null;case 22:case 23:return sg(),null;case 24:return null;default:return null}}var pl=!1,Bt=!1,bk=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Xs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(e,t,r)}else n.current=null}function Rh(e,t,n){try{n()}catch(r){rt(e,t,r)}}var mw=!1;function Rk(e,t){if(oh=hu,e=mb(),Nm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,l=0,d=0,f=e,p=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===e)break t;if(p===n&&++l===i&&(a=o),p===s&&++d===r&&(c=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ah={focusedElem:e,selectionRange:n},hu=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var y=h.memoizedProps,S=h.memoizedState,w=t.stateNode,_=w.getSnapshotBeforeUpdate(t.elementType===t.type?y:Mn(t.type,y),S);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(C){rt(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return h=mw,mw=!1,h}function La(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Rh(t,n,s)}i=i.next}while(i!==r)}}function od(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ch(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function f1(e){var t=e.alternate;t!==null&&(e.alternate=null,f1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ar],delete t[Za],delete t[uh],delete t[sk],delete t[ok])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function p1(e){return e.tag===5||e.tag===3||e.tag===4}function gw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||p1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=yu));else if(r!==4&&(e=e.child,e!==null))for(xh(e,t,n),e=e.sibling;e!==null;)xh(e,t,n),e=e.sibling}function Th(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Th(e,t,n),e=e.sibling;e!==null;)Th(e,t,n),e=e.sibling}var Lt=null,In=!1;function zr(e,t,n){for(n=n.child;n!==null;)h1(e,t,n),n=n.sibling}function h1(e,t,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Ju,n)}catch{}switch(n.tag){case 5:Bt||Xs(n,t);case 6:var r=Lt,i=In;Lt=null,zr(e,t,n),Lt=r,In=i,Lt!==null&&(In?(e=Lt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(In?(e=Lt,n=n.stateNode,e.nodeType===8?Mf(e.parentNode,n):e.nodeType===1&&Mf(e,n),Qa(e)):Mf(Lt,n.stateNode));break;case 4:r=Lt,i=In,Lt=n.stateNode.containerInfo,In=!0,zr(e,t,n),Lt=r,In=i;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Rh(n,t,o),i=i.next}while(i!==r)}zr(e,t,n);break;case 1:if(!Bt&&(Xs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,t,a)}zr(e,t,n);break;case 21:zr(e,t,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,zr(e,t,n),Bt=r):zr(e,t,n);break;default:zr(e,t,n)}}function yw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new bk),t.forEach(function(r){var i=Lk.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function On(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,In=!1;break e;case 3:Lt=a.stateNode.containerInfo,In=!0;break e;case 4:Lt=a.stateNode.containerInfo,In=!0;break e}a=a.return}if(Lt===null)throw Error(W(160));h1(s,o,i),Lt=null,In=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(l){rt(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)m1(t,e),t=t.sibling}function m1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(On(t,e),Qn(e),r&4){try{La(3,e,e.return),od(3,e)}catch(y){rt(e,e.return,y)}try{La(5,e,e.return)}catch(y){rt(e,e.return,y)}}break;case 1:On(t,e),Qn(e),r&512&&n!==null&&Xs(n,n.return);break;case 5:if(On(t,e),Qn(e),r&512&&n!==null&&Xs(n,n.return),e.flags&32){var i=e.stateNode;try{Ha(i,"")}catch(y){rt(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&jS(i,s),Yp(a,o);var l=Yp(a,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?US(i,f):d==="dangerouslySetInnerHTML"?BS(i,f):d==="children"?Ha(i,f):Cm(i,d,f,l)}switch(a){case"input":Wp(i,s);break;case"textarea":NS(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?so(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?so(i,!!s.multiple,s.defaultValue,!0):so(i,!!s.multiple,s.multiple?[]:"",!1))}i[Za]=s}catch(y){rt(e,e.return,y)}}break;case 6:if(On(t,e),Qn(e),r&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){rt(e,e.return,y)}}break;case 3:if(On(t,e),Qn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qa(t.containerInfo)}catch(y){rt(e,e.return,y)}break;case 4:On(t,e),Qn(e);break;case 13:On(t,e),Qn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(rg=ut())),r&4&&yw(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Bt=(l=Bt)||d,On(t,e),Bt=l):On(t,e),Qn(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!d&&e.mode&1)for(ee=e,d=e.child;d!==null;){for(f=ee=d;ee!==null;){switch(p=ee,g=p.child,p.tag){case 0:case 11:case 14:case 15:La(4,p,p.return);break;case 1:Xs(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(y){rt(r,n,y)}}break;case 5:Xs(p,p.return);break;case 22:if(p.memoizedState!==null){ww(f);continue}}g!==null?(g.return=p,ee=g):ww(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=$S("display",o))}catch(y){rt(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(y){rt(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:On(t,e),Qn(e),r&4&&yw(e);break;case 21:break;default:On(t,e),Qn(e)}}function Qn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(p1(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ha(i,""),r.flags&=-33);var s=gw(e);Th(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=gw(e);xh(e,a,o);break;default:throw Error(W(161))}}catch(c){rt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ck(e,t,n){ee=e,g1(e)}function g1(e,t,n){for(var r=(e.mode&1)!==0;ee!==null;){var i=ee,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||pl;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Bt;a=pl;var l=Bt;if(pl=o,(Bt=c)&&!l)for(ee=i;ee!==null;)o=ee,c=o.child,o.tag===22&&o.memoizedState!==null?_w(i):c!==null?(c.return=o,ee=c):_w(i);for(;s!==null;)ee=s,g1(s),s=s.sibling;ee=i,pl=a,Bt=l}vw(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ee=s):vw(e)}}function vw(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Bt||od(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Mn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&tw(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}tw(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var d=l.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Qa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Bt||t.flags&512&&Ch(t)}catch(p){rt(t,t.return,p)}}if(t===e){ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,ee=n;break}ee=t.return}}function ww(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ee=n;break}ee=t.return}}function _w(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{od(4,t)}catch(c){rt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){rt(t,i,c)}}var s=t.return;try{Ch(t)}catch(c){rt(t,s,c)}break;case 5:var o=t.return;try{Ch(t)}catch(c){rt(t,o,c)}}}catch(c){rt(t,t.return,c)}if(t===e){ee=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ee=a;break}ee=t.return}}var xk=Math.ceil,Pu=Br.ReactCurrentDispatcher,tg=Br.ReactCurrentOwner,xn=Br.ReactCurrentBatchConfig,De=0,Pt=null,yt=null,Ot=0,cn=0,Js=xi(0),bt=0,sc=null,rs=0,ad=0,ng=0,Oa=null,en=null,rg=0,_o=1/0,br=null,ku=!1,Eh=null,di=null,hl=!1,ii=null,Du=0,Ma=0,Ph=null,Gl=-1,Kl=0;function Wt(){return De&6?ut():Gl!==-1?Gl:Gl=ut()}function fi(e){return e.mode&1?De&2&&Ot!==0?Ot&-Ot:ck.transition!==null?(Kl===0&&(Kl=ZS()),Kl):(e=Fe,e!==0||(e=window.event,e=e===void 0?16:ob(e.type)),e):1}function Bn(e,t,n,r){if(50<Ma)throw Ma=0,Ph=null,Error(W(185));gc(e,n,r),(!(De&2)||e!==Pt)&&(e===Pt&&(!(De&2)&&(ad|=n),bt===4&&ni(e,Ot)),on(e,r),n===1&&De===0&&!(t.mode&1)&&(_o=ut()+500,rd&&Ti()))}function on(e,t){var n=e.callbackNode;cP(e,t);var r=pu(e,e===Pt?Ot:0);if(r===0)n!==null&&kv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&kv(n),t===1)e.tag===0?ak(Sw.bind(null,e)):xb(Sw.bind(null,e)),rk(function(){!(De&6)&&Ti()}),n=null;else{switch(eb(r)){case 1:n=km;break;case 4:n=XS;break;case 16:n=fu;break;case 536870912:n=JS;break;default:n=fu}n=C1(n,y1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function y1(e,t){if(Gl=-1,Kl=0,De&6)throw Error(W(327));var n=e.callbackNode;if(uo()&&e.callbackNode!==n)return null;var r=pu(e,e===Pt?Ot:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Au(e,r);else{t=r;var i=De;De|=2;var s=w1();(Pt!==e||Ot!==t)&&(br=null,_o=ut()+500,qi(e,t));do try{Pk();break}catch(a){v1(e,a)}while(1);Vm(),Pu.current=s,De=i,yt!==null?t=0:(Pt=null,Ot=0,t=bt)}if(t!==0){if(t===2&&(i=th(e),i!==0&&(r=i,t=kh(e,i))),t===1)throw n=sc,qi(e,0),ni(e,r),on(e,ut()),n;if(t===6)ni(e,r);else{if(i=e.current.alternate,!(r&30)&&!Tk(i)&&(t=Au(e,r),t===2&&(s=th(e),s!==0&&(r=s,t=kh(e,s))),t===1))throw n=sc,qi(e,0),ni(e,r),on(e,ut()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:Fi(e,en,br);break;case 3:if(ni(e,r),(r&130023424)===r&&(t=rg+500-ut(),10<t)){if(pu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Wt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=lh(Fi.bind(null,e,en,br),t);break}Fi(e,en,br);break;case 4:if(ni(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Fn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xk(r/1960))-r,10<r){e.timeoutHandle=lh(Fi.bind(null,e,en,br),r);break}Fi(e,en,br);break;case 5:Fi(e,en,br);break;default:throw Error(W(329))}}}return on(e,ut()),e.callbackNode===n?y1.bind(null,e):null}function kh(e,t){var n=Oa;return e.current.memoizedState.isDehydrated&&(qi(e,t).flags|=256),e=Au(e,t),e!==2&&(t=en,en=n,t!==null&&Dh(t)),e}function Dh(e){en===null?en=e:en.push.apply(en,e)}function Tk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Un(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ni(e,t){for(t&=~ng,t&=~ad,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Fn(t),r=1<<n;e[n]=-1,t&=~r}}function Sw(e){if(De&6)throw Error(W(327));uo();var t=pu(e,0);if(!(t&1))return on(e,ut()),null;var n=Au(e,t);if(e.tag!==0&&n===2){var r=th(e);r!==0&&(t=r,n=kh(e,r))}if(n===1)throw n=sc,qi(e,0),ni(e,t),on(e,ut()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fi(e,en,br),on(e,ut()),null}function ig(e,t){var n=De;De|=1;try{return e(t)}finally{De=n,De===0&&(_o=ut()+500,rd&&Ti())}}function is(e){ii!==null&&ii.tag===0&&!(De&6)&&uo();var t=De;De|=1;var n=xn.transition,r=Fe;try{if(xn.transition=null,Fe=1,e)return e()}finally{Fe=r,xn.transition=n,De=t,!(De&6)&&Ti()}}function sg(){cn=Js.current,qe(Js)}function qi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,nk(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(Bm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vu();break;case 3:vo(),qe(rn),qe($t),Qm();break;case 5:Km(r);break;case 4:vo();break;case 13:qe(Ze);break;case 19:qe(Ze);break;case 10:zm(r.type._context);break;case 22:case 23:sg()}n=n.return}if(Pt=e,yt=e=pi(e.current,null),Ot=cn=t,bt=0,sc=null,ng=ad=rs=0,en=Oa=null,Hi!==null){for(t=0;t<Hi.length;t++)if(n=Hi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Hi=null}return e}function v1(e,t){do{var n=yt;try{if(Vm(),zl.current=Eu,Tu){for(var r=tt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Tu=!1}if(ns=0,Tt=St=tt=null,Aa=!1,nc=0,tg.current=null,n===null||n.return===null){bt=1,sc=t,yt=null;break}e:{var s=e,o=n.return,a=n,c=t;if(t=Ot,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=cw(o);if(g!==null){g.flags&=-257,lw(g,o,a,s,t),g.mode&1&&aw(s,l,t),t=g,c=l;var h=t.updateQueue;if(h===null){var y=new Set;y.add(c),t.updateQueue=y}else h.add(c);break e}else{if(!(t&1)){aw(s,l,t),og();break e}c=Error(W(426))}}else if(Xe&&a.mode&1){var S=cw(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),lw(S,o,a,s,t),$m(wo(c,a));break e}}s=c=wo(c,a),bt!==4&&(bt=2),Oa===null?Oa=[s]:Oa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var w=t1(s,c,t);ew(s,w);break e;case 1:a=c;var _=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(di===null||!di.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=n1(s,a,t);ew(s,C);break e}}s=s.return}while(s!==null)}S1(n)}catch(L){t=L,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(1)}function w1(){var e=Pu.current;return Pu.current=Eu,e===null?Eu:e}function og(){(bt===0||bt===3||bt===2)&&(bt=4),Pt===null||!(rs&268435455)&&!(ad&268435455)||ni(Pt,Ot)}function Au(e,t){var n=De;De|=2;var r=w1();(Pt!==e||Ot!==t)&&(br=null,qi(e,t));do try{Ek();break}catch(i){v1(e,i)}while(1);if(Vm(),De=n,Pu.current=r,yt!==null)throw Error(W(261));return Pt=null,Ot=0,bt}function Ek(){for(;yt!==null;)_1(yt)}function Pk(){for(;yt!==null&&!ZE();)_1(yt)}function _1(e){var t=R1(e.alternate,e,cn);e.memoizedProps=e.pendingProps,t===null?S1(e):yt=t,tg.current=null}function S1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Sk(n,t),n!==null){n.flags&=32767,yt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bt=6,yt=null;return}}else if(n=_k(n,t,cn),n!==null){yt=n;return}if(t=t.sibling,t!==null){yt=t;return}yt=t=e}while(t!==null);bt===0&&(bt=5)}function Fi(e,t,n){var r=Fe,i=xn.transition;try{xn.transition=null,Fe=1,kk(e,t,n,r)}finally{xn.transition=i,Fe=r}return null}function kk(e,t,n,r){do uo();while(ii!==null);if(De&6)throw Error(W(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(lP(e,s),e===Pt&&(yt=Pt=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hl||(hl=!0,C1(fu,function(){return uo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xn.transition,xn.transition=null;var o=Fe;Fe=1;var a=De;De|=4,tg.current=null,Rk(e,n),m1(n,e),qP(ah),hu=!!oh,ah=oh=null,e.current=n,Ck(n),eP(),De=a,Fe=o,xn.transition=s}else e.current=n;if(hl&&(hl=!1,ii=e,Du=i),s=e.pendingLanes,s===0&&(di=null),rP(n.stateNode),on(e,ut()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ku)throw ku=!1,e=Eh,Eh=null,e;return Du&1&&e.tag!==0&&uo(),s=e.pendingLanes,s&1?e===Ph?Ma++:(Ma=0,Ph=e):Ma=0,Ti(),null}function uo(){if(ii!==null){var e=eb(Du),t=xn.transition,n=Fe;try{if(xn.transition=null,Fe=16>e?16:e,ii===null)var r=!1;else{if(e=ii,ii=null,Du=0,De&6)throw Error(W(331));var i=De;for(De|=4,ee=e.current;ee!==null;){var s=ee,o=s.child;if(ee.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(ee=l;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:La(8,d,s)}var f=d.child;if(f!==null)f.return=d,ee=f;else for(;ee!==null;){d=ee;var p=d.sibling,g=d.return;if(f1(d),d===l){ee=null;break}if(p!==null){p.return=g,ee=p;break}ee=g}}}var h=s.alternate;if(h!==null){var y=h.child;if(y!==null){h.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}ee=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ee=o;else e:for(;ee!==null;){if(s=ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:La(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,ee=w;break e}ee=s.return}}var _=e.current;for(ee=_;ee!==null;){o=ee;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ee=b;else e:for(o=_;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:od(9,a)}}catch(L){rt(a,a.return,L)}if(a===o){ee=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,ee=C;break e}ee=a.return}}if(De=i,Ti(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Ju,e)}catch{}r=!0}return r}finally{Fe=n,xn.transition=t}}return!1}function bw(e,t,n){t=wo(n,t),t=t1(e,t,1),e=ui(e,t,1),t=Wt(),e!==null&&(gc(e,1,t),on(e,t))}function rt(e,t,n){if(e.tag===3)bw(e,e,n);else for(;t!==null;){if(t.tag===3){bw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(di===null||!di.has(r))){e=wo(n,e),e=n1(t,e,1),t=ui(t,e,1),e=Wt(),t!==null&&(gc(t,1,e),on(t,e));break}}t=t.return}}function Dk(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Wt(),e.pingedLanes|=e.suspendedLanes&n,Pt===e&&(Ot&n)===n&&(bt===4||bt===3&&(Ot&130023424)===Ot&&500>ut()-rg?qi(e,0):ng|=n),on(e,t)}function b1(e,t){t===0&&(e.mode&1?(t=il,il<<=1,!(il&130023424)&&(il=4194304)):t=1);var n=Wt();e=Ir(e,t),e!==null&&(gc(e,t,n),on(e,n))}function Ak(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),b1(e,n)}function Lk(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),b1(e,n)}var R1;R1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||rn.current)tn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return tn=!1,wk(e,t,n);tn=!!(e.flags&131072)}else tn=!1,Xe&&t.flags&1048576&&Tb(t,Su,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wl(e,t),e=t.pendingProps;var i=mo(t,$t.current);lo(t,n),i=Ym(null,t,r,e,i,n);var s=Xm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,sn(r)?(s=!0,wu(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wm(t),i.updater=id,t.stateNode=i,i._reactInternals=t,gh(t,r,e,n),t=wh(null,t,r,!0,s,n)):(t.tag=0,Xe&&s&&Fm(t),zt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Mk(r),e=Mn(r,e),i){case 0:t=vh(null,t,r,e,n);break e;case 1:t=fw(null,t,r,e,n);break e;case 11:t=uw(null,t,r,e,n);break e;case 14:t=dw(null,t,r,Mn(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mn(r,i),vh(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mn(r,i),fw(e,t,r,i,n);case 3:e:{if(o1(t),e===null)throw Error(W(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Db(e,t),Cu(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=wo(Error(W(423)),t),t=pw(e,t,r,n,i);break e}else if(r!==i){i=wo(Error(W(424)),t),t=pw(e,t,r,n,i);break e}else for(ln=li(t.stateNode.containerInfo.firstChild),un=t,Xe=!0,Nn=null,n=Mb(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(go(),r===i){t=jr(e,t,n);break e}zt(e,t,r,n)}t=t.child}return t;case 5:return Ib(t),e===null&&ph(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,ch(r,i)?o=null:s!==null&&ch(r,s)&&(t.flags|=32),s1(e,t),zt(e,t,o,n),t.child;case 6:return e===null&&ph(t),null;case 13:return a1(e,t,n);case 4:return Gm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=yo(t,null,r,n):zt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mn(r,i),uw(e,t,r,i,n);case 7:return zt(e,t,t.pendingProps,n),t.child;case 8:return zt(e,t,t.pendingProps.children,n),t.child;case 12:return zt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,He(bu,r._currentValue),r._currentValue=o,s!==null)if(Un(s.value,o)){if(s.children===i.children&&!rn.current){t=jr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=kr(-1,n&-n),c.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var d=l.pending;d===null?c.next=c:(c.next=d.next,d.next=c),l.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),hh(s.return,n,t),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),hh(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}zt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,lo(t,n),i=En(i),r=r(i),t.flags|=1,zt(e,t,r,n),t.child;case 14:return r=t.type,i=Mn(r,t.pendingProps),i=Mn(r.type,i),dw(e,t,r,i,n);case 15:return r1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mn(r,i),Wl(e,t),t.tag=1,sn(r)?(e=!0,wu(t)):e=!1,lo(t,n),Lb(t,r,i),gh(t,r,i,n),wh(null,t,r,!0,e,n);case 19:return c1(e,t,n);case 22:return i1(e,t,n)}throw Error(W(156,t.tag))};function C1(e,t){return YS(e,t)}function Ok(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,t,n,r){return new Ok(e,t,n,r)}function ag(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mk(e){if(typeof e=="function")return ag(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Tm)return 11;if(e===Em)return 14}return 2}function pi(e,t){var n=e.alternate;return n===null?(n=Cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ql(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")ag(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Vs:return Yi(n.children,i,s,t);case xm:o=8,i|=8;break;case $p:return e=Cn(12,n,t,i|2),e.elementType=$p,e.lanes=s,e;case Up:return e=Cn(13,n,t,i),e.elementType=Up,e.lanes=s,e;case Vp:return e=Cn(19,n,t,i),e.elementType=Vp,e.lanes=s,e;case OS:return cd(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case AS:o=10;break e;case LS:o=9;break e;case Tm:o=11;break e;case Em:o=14;break e;case Xr:o=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Cn(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Yi(e,t,n,r){return e=Cn(7,e,r,t),e.lanes=n,e}function cd(e,t,n,r){return e=Cn(22,e,r,t),e.elementType=OS,e.lanes=n,e.stateNode={isHidden:!1},e}function Vf(e,t,n){return e=Cn(6,e,null,t),e.lanes=n,e}function zf(e,t,n){return t=Cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ik(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rf(0),this.expirationTimes=Rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cg(e,t,n,r,i,s,o,a,c){return e=new Ik(e,t,n,a,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Cn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wm(s),e}function jk(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function x1(e){if(!e)return Si;e=e._reactInternals;e:{if(as(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(sn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(sn(n))return Cb(e,n,t)}return t}function T1(e,t,n,r,i,s,o,a,c){return e=cg(n,r,!0,e,i,s,o,a,c),e.context=x1(null),n=e.current,r=Wt(),i=fi(n),s=kr(r,i),s.callback=t??null,ui(n,s,i),e.current.lanes=i,gc(e,i,r),on(e,r),e}function ld(e,t,n,r){var i=t.current,s=Wt(),o=fi(i);return n=x1(n),t.context===null?t.context=n:t.pendingContext=n,t=kr(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ui(i,t,o),e!==null&&(Bn(e,i,o,s),Vl(e,i,o)),o}function Lu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function lg(e,t){Rw(e,t),(e=e.alternate)&&Rw(e,t)}function Nk(){return null}var E1=typeof reportError=="function"?reportError:function(e){console.error(e)};function ug(e){this._internalRoot=e}ud.prototype.render=ug.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));ld(e,t,null,null)};ud.prototype.unmount=ug.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;is(function(){ld(null,e,null,null)}),t[Mr]=null}};function ud(e){this._internalRoot=e}ud.prototype.unstable_scheduleHydration=function(e){if(e){var t=rb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ti.length&&t!==0&&t<ti[n].priority;n++);ti.splice(n,0,e),n===0&&sb(e)}};function dg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function dd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cw(){}function Fk(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=Lu(o);s.call(l)}}var o=T1(t,r,e,0,null,!1,!1,"",Cw);return e._reactRootContainer=o,e[Mr]=o.current,Xa(e.nodeType===8?e.parentNode:e),is(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=Lu(c);a.call(l)}}var c=cg(e,0,!1,null,null,!1,!1,"",Cw);return e._reactRootContainer=c,e[Mr]=c.current,Xa(e.nodeType===8?e.parentNode:e),is(function(){ld(t,c,n,r)}),c}function fd(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=Lu(o);a.call(c)}}ld(t,o,e,i)}else o=Fk(n,t,e,i,r);return Lu(o)}tb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wa(t.pendingLanes);n!==0&&(Dm(t,n|1),on(t,ut()),!(De&6)&&(_o=ut()+500,Ti()))}break;case 13:is(function(){var r=Ir(e,1);if(r!==null){var i=Wt();Bn(r,e,1,i)}}),lg(e,1)}};Am=function(e){if(e.tag===13){var t=Ir(e,134217728);if(t!==null){var n=Wt();Bn(t,e,134217728,n)}lg(e,134217728)}};nb=function(e){if(e.tag===13){var t=fi(e),n=Ir(e,t);if(n!==null){var r=Wt();Bn(n,e,t,r)}lg(e,t)}};rb=function(){return Fe};ib=function(e,t){var n=Fe;try{return Fe=e,t()}finally{Fe=n}};Jp=function(e,t,n){switch(t){case"input":if(Wp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=nd(r);if(!i)throw Error(W(90));IS(r),Wp(r,i)}}}break;case"textarea":NS(e,n);break;case"select":t=n.value,t!=null&&so(e,!!n.multiple,t,!1)}};HS=ig;WS=is;var Bk={usingClientEntryPoint:!1,Events:[vc,Gs,nd,VS,zS,ig]},aa={findFiberByHostInstance:zi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},$k={bundleType:aa.bundleType,version:aa.version,rendererPackageName:aa.rendererPackageName,rendererConfig:aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Br.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=QS(e),e===null?null:e.stateNode},findFiberByHostInstance:aa.findFiberByHostInstance||Nk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ml.isDisabled&&ml.supportsFiber)try{Ju=ml.inject($k),ur=ml}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bk;pn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dg(t))throw Error(W(200));return jk(e,t,null,n)};pn.createRoot=function(e,t){if(!dg(e))throw Error(W(299));var n=!1,r="",i=E1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=cg(e,1,!1,null,null,n,!1,r,i),e[Mr]=t.current,Xa(e.nodeType===8?e.parentNode:e),new ug(t)};pn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=QS(t),e=e===null?null:e.stateNode,e};pn.flushSync=function(e){return is(e)};pn.hydrate=function(e,t,n){if(!dd(t))throw Error(W(200));return fd(null,e,t,!0,n)};pn.hydrateRoot=function(e,t,n){if(!dg(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=E1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=T1(t,null,e,1,n??null,i,!1,s,o),e[Mr]=t.current,Xa(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ud(t)};pn.render=function(e,t,n){if(!dd(t))throw Error(W(200));return fd(null,e,t,!1,n)};pn.unmountComponentAtNode=function(e){if(!dd(e))throw Error(W(40));return e._reactRootContainer?(is(function(){fd(null,null,e,!1,function(){e._reactRootContainer=null,e[Mr]=null})}),!0):!1};pn.unstable_batchedUpdates=ig;pn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!dd(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return fd(e,t,n,!1,r)};pn.version="18.2.0-next-9e3b772b8-20220608";function P1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P1)}catch(e){console.error(e)}}P1(),TS.exports=pn;var k1=TS.exports;const Zs=hc(k1);var xw=k1;Fp.createRoot=xw.createRoot,Fp.hydrateRoot=xw.hydrateRoot;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oc(){return oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oc.apply(this,arguments)}var si;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(si||(si={}));const Tw="popstate";function Uk(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ah("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ou(i)}return zk(t,n,null,e)}function dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Vk(){return Math.random().toString(36).substr(2,8)}function Ew(e,t){return{usr:e.state,key:e.key,idx:t}}function Ah(e,t,n,r){return n===void 0&&(n=null),oc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?jo(t):t,{state:n,key:t&&t.key||r||Vk()})}function Ou(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function jo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function zk(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=si.Pop,c=null,l=d();l==null&&(l=0,o.replaceState(oc({},o.state,{idx:l}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=si.Pop;let S=d(),w=S==null?null:S-l;l=S,c&&c({action:a,location:y.location,delta:w})}function p(S,w){a=si.Push;let _=Ah(y.location,S,w);n&&n(_,S),l=d()+1;let b=Ew(_,l),C=y.createHref(_);try{o.pushState(b,"",C)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(C)}s&&c&&c({action:a,location:y.location,delta:1})}function g(S,w){a=si.Replace;let _=Ah(y.location,S,w);n&&n(_,S),l=d();let b=Ew(_,l),C=y.createHref(_);o.replaceState(b,"",C),s&&c&&c({action:a,location:y.location,delta:0})}function h(S){let w=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof S=="string"?S:Ou(S);return dt(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let y={get action(){return a},get location(){return e(i,o)},listen(S){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Tw,f),c=S,()=>{i.removeEventListener(Tw,f),c=null}},createHref(S){return t(i,S)},createURL:h,encodeLocation(S){let w=h(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(S){return o.go(S)}};return y}var Pw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Pw||(Pw={}));function Hk(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?jo(t):t,i=pg(r.pathname||"/",n);if(i==null)return null;let s=D1(e);Wk(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=eD(s[a],rD(i));return o}function D1(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(dt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let l=hi([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(dt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),D1(s.children,t,d,l)),!(s.path==null&&!s.index)&&t.push({path:l,score:Jk(l,s.index),routesMeta:d})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of A1(s.path))i(s,o,c)}),t}function A1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=A1(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function Wk(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Zk(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Gk=/^:\w+$/,Kk=3,Qk=2,qk=1,Yk=10,Xk=-2,kw=e=>e==="*";function Jk(e,t){let n=e.split("/"),r=n.length;return n.some(kw)&&(r+=Xk),t&&(r+=Qk),n.filter(i=>!kw(i)).reduce((i,s)=>i+(Gk.test(s)?Kk:s===""?qk:Yk),r)}function Zk(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function eD(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],c=o===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",d=tD({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},l);if(!d)return null;Object.assign(r,d.params);let f=a.route;s.push({params:r,pathname:hi([i,d.pathname]),pathnameBase:aD(hi([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=hi([i,d.pathnameBase]))}return s}function tD(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=nD(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,d,f)=>{if(d==="*"){let p=a[f]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return l[d]=iD(a[f]||"",d),l},{}),pathname:s,pathnameBase:o,pattern:e}}function nD(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),fg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function rD(e){try{return decodeURI(e)}catch(t){return fg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function iD(e,t){try{return decodeURIComponent(e)}catch(n){return fg(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function pg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function sD(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?jo(e):e;return{pathname:n?n.startsWith("/")?n:oD(n,t):t,search:cD(r),hash:lD(i)}}function oD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function mg(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=jo(e):(i=oc({},e),dt(!i.pathname||!i.pathname.includes("?"),Hf("?","pathname","search",i)),dt(!i.pathname||!i.pathname.includes("#"),Hf("#","pathname","hash",i)),dt(!i.search||!i.search.includes("#"),Hf("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let f=t.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?t[f]:"/"}let c=sD(i,a),l=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||d)&&(c.pathname+="/"),c}const hi=e=>e.join("/").replace(/\/\/+/g,"/"),aD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function uD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const L1=["post","put","patch","delete"];new Set(L1);const dD=["get",...L1];new Set(dD);/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mu(){return Mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mu.apply(this,arguments)}const gg=T.createContext(null),O1=T.createContext(null),cs=T.createContext(null),pd=T.createContext(null),gr=T.createContext({outlet:null,matches:[],isDataRoute:!1}),M1=T.createContext(null);function fD(e,t){let{relative:n}=t===void 0?{}:t;No()||dt(!1);let{basename:r,navigator:i}=T.useContext(cs),{hash:s,pathname:o,search:a}=vg(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:hi([r,o])),i.createHref({pathname:c,search:a,hash:s})}function No(){return T.useContext(pd)!=null}function ls(){return No()||dt(!1),T.useContext(pd).location}function I1(e){T.useContext(cs).static||T.useLayoutEffect(e)}function yg(){let{isDataRoute:e}=T.useContext(gr);return e?PD():pD()}function pD(){No()||dt(!1);let e=T.useContext(gg),{basename:t,navigator:n}=T.useContext(cs),{matches:r}=T.useContext(gr),{pathname:i}=ls(),s=JSON.stringify(hg(r).map(c=>c.pathnameBase)),o=T.useRef(!1);return I1(()=>{o.current=!0}),T.useCallback(function(c,l){if(l===void 0&&(l={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=mg(c,JSON.parse(s),i,l.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:hi([t,d.pathname])),(l.replace?n.replace:n.push)(d,l.state,l)},[t,n,s,i,e])}const hD=T.createContext(null);function mD(e){let t=T.useContext(gr).outlet;return t&&T.createElement(hD.Provider,{value:e},t)}function gD(){let{matches:e}=T.useContext(gr),t=e[e.length-1];return t?t.params:{}}function vg(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=T.useContext(gr),{pathname:i}=ls(),s=JSON.stringify(hg(r).map(o=>o.pathnameBase));return T.useMemo(()=>mg(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function yD(e,t){return vD(e,t)}function vD(e,t,n){No()||dt(!1);let{navigator:r}=T.useContext(cs),{matches:i}=T.useContext(gr),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let c=ls(),l;if(t){var d;let y=typeof t=="string"?jo(t):t;a==="/"||(d=y.pathname)!=null&&d.startsWith(a)||dt(!1),l=y}else l=c;let f=l.pathname||"/",p=a==="/"?f:f.slice(a.length)||"/",g=Hk(e,{pathname:p}),h=RD(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:hi([a,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:hi([a,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n);return t&&h?T.createElement(pd.Provider,{value:{location:Mu({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:si.Pop}},h):h}function wD(){let e=ED(),t=uD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:i},n):null,s)}const _D=T.createElement(wD,null);class SD extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?T.createElement(gr.Provider,{value:this.props.routeContext},T.createElement(M1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bD(e){let{routeContext:t,match:n,children:r}=e,i=T.useContext(gg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(gr.Provider,{value:t},r)}function RD(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id]));a>=0||dt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,c,l)=>{let d=c.route.id?o==null?void 0:o[c.route.id]:null,f=null;n&&(f=c.route.errorElement||_D);let p=t.concat(s.slice(0,l+1)),g=()=>{let h;return d?h=f:c.route.Component?h=T.createElement(c.route.Component,null):c.route.element?h=c.route.element:h=a,T.createElement(bD,{match:c,routeContext:{outlet:a,matches:p,isDataRoute:n!=null},children:h})};return n&&(c.route.ErrorBoundary||c.route.errorElement||l===0)?T.createElement(SD,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var Lh;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(Lh||(Lh={}));var ac;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(ac||(ac={}));function CD(e){let t=T.useContext(gg);return t||dt(!1),t}function xD(e){let t=T.useContext(O1);return t||dt(!1),t}function TD(e){let t=T.useContext(gr);return t||dt(!1),t}function j1(e){let t=TD(),n=t.matches[t.matches.length-1];return n.route.id||dt(!1),n.route.id}function ED(){var e;let t=T.useContext(M1),n=xD(ac.UseRouteError),r=j1(ac.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function PD(){let{router:e}=CD(Lh.UseNavigateStable),t=j1(ac.UseNavigateStable),n=T.useRef(!1);return I1(()=>{n.current=!0}),T.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Mu({fromRouteId:t},s)))},[e,t])}function N1(e){let{to:t,replace:n,state:r,relative:i}=e;No()||dt(!1);let{matches:s}=T.useContext(gr),{pathname:o}=ls(),a=yg(),c=mg(t,hg(s).map(d=>d.pathnameBase),o,i==="path"),l=JSON.stringify(c);return T.useEffect(()=>a(JSON.parse(l),{replace:n,state:r,relative:i}),[a,l,i,n,r]),null}function kD(e){return mD(e.context)}function xr(e){dt(!1)}function DD(e){let{basename:t="/",children:n=null,location:r,navigationType:i=si.Pop,navigator:s,static:o=!1}=e;No()&&dt(!1);let a=t.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=jo(r));let{pathname:l="/",search:d="",hash:f="",state:p=null,key:g="default"}=r,h=T.useMemo(()=>{let y=pg(l,a);return y==null?null:{location:{pathname:y,search:d,hash:f,state:p,key:g},navigationType:i}},[a,l,d,f,p,g,i]);return h==null?null:T.createElement(cs.Provider,{value:c},T.createElement(pd.Provider,{children:n,value:h}))}function F1(e){let{children:t,location:n}=e;return yD(Oh(t),n)}var Dw;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(Dw||(Dw={}));new Promise(()=>{});function Oh(e,t){t===void 0&&(t=[]);let n=[];return T.Children.forEach(e,(r,i)=>{if(!T.isValidElement(r))return;let s=[...t,i];if(r.type===T.Fragment){n.push.apply(n,Oh(r.props.children,s));return}r.type!==xr&&dt(!1),!r.props.index||!r.props.children||dt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Oh(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iu.apply(this,arguments)}function B1(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function AD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function LD(e,t){return e.button===0&&(!t||t==="_self")&&!AD(e)}const OD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],MD=["aria-current","caseSensitive","className","end","style","to","children"],ID="startTransition",Aw=AE[ID];function jD(e){let{basename:t,children:n,future:r,window:i}=e,s=T.useRef();s.current==null&&(s.current=Uk({window:i,v5Compat:!0}));let o=s.current,[a,c]=T.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},d=T.useCallback(f=>{l&&Aw?Aw(()=>c(f)):c(f)},[c,l]);return T.useLayoutEffect(()=>o.listen(d),[o,d]),T.createElement(DD,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o})}const ND=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BD=T.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:l,preventScrollReset:d}=t,f=B1(t,OD),{basename:p}=T.useContext(cs),g,h=!1;if(typeof l=="string"&&FD.test(l)&&(g=l,ND))try{let _=new URL(window.location.href),b=l.startsWith("//")?new URL(_.protocol+l):new URL(l),C=pg(b.pathname,p);b.origin===_.origin&&C!=null?l=C+b.search+b.hash:h=!0}catch{}let y=fD(l,{relative:i}),S=$D(l,{replace:o,state:a,target:c,preventScrollReset:d,relative:i});function w(_){r&&r(_),_.defaultPrevented||S(_)}return T.createElement("a",Iu({},f,{href:g||y,onClick:h||s?r:w,ref:n,target:c}))}),Fo=T.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:c,children:l}=t,d=B1(t,MD),f=vg(c,{relative:d.relative}),p=ls(),g=T.useContext(O1),{navigator:h}=T.useContext(cs),y=h.encodeLocation?h.encodeLocation(f).pathname:f.pathname,S=p.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(S=S.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase());let _=S===y||!o&&S.startsWith(y)&&S.charAt(y.length)==="/",b=w!=null&&(w===y||!o&&w.startsWith(y)&&w.charAt(y.length)==="/"),C=_?r:void 0,L;typeof s=="function"?L=s({isActive:_,isPending:b}):L=[s,_?"active":null,b?"pending":null].filter(Boolean).join(" ");let j=typeof a=="function"?a({isActive:_,isPending:b}):a;return T.createElement(BD,Iu({},d,{"aria-current":C,className:L,ref:n,style:j,to:c}),typeof l=="function"?l({isActive:_,isPending:b}):l)});var Lw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Lw||(Lw={}));var Ow;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ow||(Ow={}));function $D(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=t===void 0?{}:t,a=yg(),c=ls(),l=vg(e,{relative:o});return T.useCallback(d=>{if(LD(d,n)){d.preventDefault();let f=r!==void 0?r:Ou(c)===Ou(l);a(e,{replace:f,state:i,preventScrollReset:s,relative:o})}},[c,a,l,r,i,n,e,s,o])}var $1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var c in s)t.call(s,c)&&s[c]&&r.push(c)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})($1);var UD=$1.exports;const hr=hc(UD);function VD(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Mh(e,t){return Mh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mh(e,t)}function zD(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Mh(e,t)}const HD=["xxl","xl","lg","md","sm","xs"],WD="xs",U1=T.createContext({prefixes:{},breakpoints:HD,minBreakpoint:WD});function _c(e,t){const{prefixes:n}=T.useContext(U1);return e||n[t]||t}function GD(){const{dir:e}=T.useContext(U1);return e==="rtl"}function hd(e){return e&&e.ownerDocument||document}function KD(e){var t=hd(e);return t&&t.defaultView||window}function QD(e,t){return KD(e).getComputedStyle(e,t)}var qD=/([A-Z])/g;function YD(e){return e.replace(qD,"-$1").toLowerCase()}var XD=/^ms-/;function gl(e){return YD(e).replace(XD,"-ms-")}var JD=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function ZD(e){return!!(e&&JD.test(e))}function Xi(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(gl(t))||QD(e).getPropertyValue(gl(t));Object.keys(t).forEach(function(i){var s=t[i];!s&&s!==0?e.style.removeProperty(gl(i)):ZD(i)?r+=i+"("+s+") ":n+=gl(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}var V1={exports:{}},eA="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",tA=eA,nA=tA;function z1(){}function H1(){}H1.resetWarningCache=z1;var rA=function(){function e(r,i,s,o,a,c){if(c!==nA){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:H1,resetWarningCache:z1};return n.PropTypes=n,n};V1.exports=rA();var iA=V1.exports;const Wf=hc(iA),Mw={disabled:!1},W1=st.createContext(null);var sA=function(t){return t.scrollTop},Sa="unmounted",Bi="exited",Zr="entering",Vi="entered",Ih="exiting",$r=function(e){zD(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,c;return s.appearStatus=null,r.in?a?(c=Bi,s.appearStatus=Zr):c=Vi:r.unmountOnExit||r.mountOnEnter?c=Sa:c=Bi,s.state={status:c},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Sa?{status:Bi}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Zr&&o!==Vi&&(s=Zr):(o===Zr||o===Vi)&&(s=Ih)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Zr){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Zs.findDOMNode(this);o&&sA(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Bi&&this.setState({status:Sa})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,c=this.props.nodeRef?[a]:[Zs.findDOMNode(this),a],l=c[0],d=c[1],f=this.getTimeouts(),p=a?f.appear:f.enter;if(!i&&!o||Mw.disabled){this.safeSetState({status:Vi},function(){s.props.onEntered(l)});return}this.props.onEnter(l,d),this.safeSetState({status:Zr},function(){s.props.onEntering(l,d),s.onTransitionEnd(p,function(){s.safeSetState({status:Vi},function(){s.props.onEntered(l,d)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Zs.findDOMNode(this);if(!s||Mw.disabled){this.safeSetState({status:Bi},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Ih},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Bi},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Zs.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],l=c[0],d=c[1];this.props.addEndListener(l,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Sa)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=VD(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return st.createElement(W1.Provider,{value:null},typeof o=="function"?o(i,a):st.cloneElement(st.Children.only(o),a))},t}(st.Component);$r.contextType=W1;$r.propTypes={};function ws(){}$r.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ws,onEntering:ws,onEntered:ws,onExit:ws,onExiting:ws,onExited:ws};$r.UNMOUNTED=Sa;$r.EXITED=Bi;$r.ENTERING=Zr;$r.ENTERED=Vi;$r.EXITING=Ih;const oA=$r,Bo=!!(typeof window<"u"&&window.document&&window.document.createElement);var jh=!1,Nh=!1;try{var Gf={get passive(){return jh=!0},get once(){return Nh=jh=!0}};Bo&&(window.addEventListener("test",Gf,Gf),window.removeEventListener("test",Gf,!0))}catch{}function G1(e,t,n,r){if(r&&typeof r!="boolean"&&!Nh){var i=r.once,s=r.capture,o=n;!Nh&&i&&(o=n.__once||function a(c){this.removeEventListener(t,a,s),n.call(this,c)},n.__once=o),e.addEventListener(t,o,jh?r:s)}e.addEventListener(t,n,r)}function Fh(e,t,n,r){var i=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)}function ju(e,t,n,r){return G1(e,t,n,r),function(){Fh(e,t,n,r)}}function aA(e,t,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}function cA(e){var t=Xi(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function lA(e,t,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||aA(e,"transitionend",!0)},t+n),s=ju(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function K1(e,t,n,r){n==null&&(n=cA(e)||0);var i=lA(e,n,r),s=ju(e,"transitionend",t);return function(){i(),s()}}function Iw(e,t){const n=Xi(e,t)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function uA(e,t){const n=Iw(e,"transitionDuration"),r=Iw(e,"transitionDelay"),i=K1(e,s=>{s.target===e&&(i(),t(s))},n+r)}function dA(e){e.offsetHeight}const jw=e=>!e||typeof e=="function"?e:t=>{e.current=t};function fA(e,t){const n=jw(e),r=jw(t);return i=>{n&&n(i),r&&r(i)}}function md(e,t){return T.useMemo(()=>fA(e,t),[e,t])}function pA(e){return e&&"setState"in e?Zs.findDOMNode(e):e??null}const hA=st.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:c,...l},d)=>{const f=T.useRef(null),p=md(f,c),g=j=>{p(pA(j))},h=j=>O=>{j&&f.current&&j(f.current,O)},y=T.useCallback(h(e),[e]),S=T.useCallback(h(t),[t]),w=T.useCallback(h(n),[n]),_=T.useCallback(h(r),[r]),b=T.useCallback(h(i),[i]),C=T.useCallback(h(s),[s]),L=T.useCallback(h(o),[o]);return k.jsx(oA,{ref:d,...l,onEnter:y,onEntered:w,onEntering:S,onExit:_,onExited:C,onExiting:b,addEndListener:L,nodeRef:f,children:typeof a=="function"?(j,O)=>a(j,{...O,ref:g}):st.cloneElement(a,{ref:g})})}),mA=hA;function gA(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e},[e]),t}function cr(e){const t=gA(e);return T.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function yA(){return T.useState(null)}function vA(){const e=T.useRef(!0),t=T.useRef(()=>e.current);return T.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function wA(e){const t=T.useRef(null);return T.useEffect(()=>{t.current=e}),t.current}const _A=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",SA=typeof document<"u",Nw=SA||_A?T.useLayoutEffect:T.useEffect,bA=["as","disabled"];function RA(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function CA(e){return!e||e.trim()==="#"}function Q1({tagName:e,disabled:t,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:c}){e||(n!=null||r!=null||i!=null?e="a":e="button");const l={tagName:e};if(e==="button")return[{type:c||"button",disabled:t},l];const d=p=>{if((t||e==="a"&&CA(n))&&p.preventDefault(),t){p.stopPropagation();return}o==null||o(p)},f=p=>{p.key===" "&&(p.preventDefault(),d(p))};return e==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:t?void 0:a,href:n,target:e==="a"?r:void 0,"aria-disabled":t||void 0,rel:e==="a"?i:void 0,onClick:d,onKeyDown:f},l]}const xA=T.forwardRef((e,t)=>{let{as:n,disabled:r}=e,i=RA(e,bA);const[s,{tagName:o}]=Q1(Object.assign({tagName:n,disabled:r},i));return k.jsx(o,Object.assign({},i,s,{ref:t}))});xA.displayName="Button";const TA={[Zr]:"show",[Vi]:"show"},q1=T.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=T.useCallback((c,l)=>{dA(c),r==null||r(c,l)},[r]);return k.jsx(mA,{ref:s,addEndListener:uA,...o,onEnter:a,childRef:t.ref,children:(c,l)=>T.cloneElement(t,{...l,className:hr("fade",e,t.props.className,TA[c],n[c])})})});q1.displayName="Fade";const Y1=q1,EA={"aria-label":Wf.string,onClick:Wf.func,variant:Wf.oneOf(["white"])},wg=T.forwardRef(({className:e,variant:t,"aria-label":n="Close",...r},i)=>k.jsx("button",{ref:i,type:"button",className:hr("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...r}));wg.displayName="CloseButton";wg.propTypes=EA;const PA=wg,kA=e=>T.forwardRef((t,n)=>k.jsx("div",{...t,ref:n,className:hr(t.className,e)}));var DA=/-(.)/g;function AA(e){return e.replace(DA,function(t,n){return n.toUpperCase()})}const LA=e=>e[0].toUpperCase()+AA(e).slice(1);function _g(e,{displayName:t=LA(e),Component:n,defaultProps:r}={}){const i=T.forwardRef(({className:s,bsPrefix:o,as:a=n||"div",...c},l)=>{const d={...r,...c},f=_c(o,e);return k.jsx(a,{ref:l,className:hr(s,f),...d})});return i.displayName=t,i}const X1=T.forwardRef(({as:e,bsPrefix:t,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...a},c)=>{const l=_c(t,"btn"),[d,{tagName:f}]=Q1({tagName:e,disabled:s,...a}),p=f;return k.jsx(p,{...d,...a,ref:c,disabled:s,className:hr(o,l,i&&"active",n&&`${l}-${n}`,r&&`${l}-${r}`,a.href&&s&&"disabled")})});X1.displayName="Button";const So=X1;function OA(e){const t=T.useRef(e);return t.current=e,t}function J1(e){const t=OA(e);T.useEffect(()=>()=>t.current(),[])}var MA=Function.prototype.bind.call(Function.prototype.call,[].slice);function _s(e,t){return MA(e.querySelectorAll(t))}function Fw(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const IA="data-rr-ui-";function jA(e){return`${IA}${e}`}const Z1=T.createContext(Bo?window:void 0);Z1.Provider;function Sg(){return T.useContext(Z1)}var yl;function Bw(e){if((!yl&&yl!==0||e)&&Bo){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),yl=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return yl}function Kf(e){e===void 0&&(e=hd());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function NA(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const $w=jA("modal-open");class FA{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return NA(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();t.style={overflow:i.style.overflow,[r]:i.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt(Xi(i,r)||"0",10)+t.scrollBarWidth}px`),i.setAttribute($w,""),Xi(i,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute($w),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const bg=FA,Qf=(e,t)=>Bo?e==null?(t||hd()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function BA(e,t){const n=Sg(),[r,i]=T.useState(()=>Qf(e,n==null?void 0:n.document));if(!r){const s=Qf(e);s&&i(s)}return T.useEffect(()=>{t&&r&&t(r)},[t,r]),T.useEffect(()=>{const s=Qf(e);s!==r&&i(s)},[e,r]),r}function $A({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=T.useRef(null),o=T.useRef(t),a=cr(n);T.useEffect(()=>{t?o.current=!0:a(s.current)},[t,a]);const c=md(s,e.ref),l=T.cloneElement(e,{ref:c});return t?l:i||!o.current&&r?null:l}function UA({in:e,onTransition:t}){const n=T.useRef(null),r=T.useRef(!0),i=cr(t);return Nw(()=>{if(!n.current)return;let s=!1;return i({in:e,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[e,i]),Nw(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function VA({children:e,in:t,onExited:n,onEntered:r,transition:i}){const[s,o]=T.useState(!t);t&&s&&o(!1);const a=UA({in:!!t,onTransition:l=>{const d=()=>{l.isStale()||(l.in?r==null||r(l.element,l.initial):(o(!0),n==null||n(l.element)))};Promise.resolve(i(l)).then(d,f=>{throw l.in||o(!0),f})}}),c=md(a,e.ref);return s&&!t?null:T.cloneElement(e,{ref:c})}function Uw(e,t,n){return e?k.jsx(e,Object.assign({},n)):t?k.jsx(VA,Object.assign({},n,{transition:t})):k.jsx($A,Object.assign({},n))}function zA(e){return e.code==="Escape"||e.keyCode===27}const HA=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function WA(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}let qf;function GA(e){return qf||(qf=new bg({ownerDocument:e==null?void 0:e.document})),qf}function KA(e){const t=Sg(),n=e||GA(t),r=T.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:T.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:T.useCallback(i=>{r.current.backdrop=i},[])})}const eR=T.forwardRef((e,t)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:c=!0,onBackdropClick:l,onEscapeKeyDown:d,transition:f,runTransition:p,backdropTransition:g,runBackdropTransition:h,autoFocus:y=!0,enforceFocus:S=!0,restoreFocus:w=!0,restoreFocusOptions:_,renderDialog:b,renderBackdrop:C=Be=>k.jsx("div",Object.assign({},Be)),manager:L,container:j,onShow:O,onHide:F=()=>{},onExit:Y,onExited:D,onExiting:I,onEnter:G,onEntering:K,onEntered:te}=e,se=WA(e,HA);const V=Sg(),Q=BA(j),M=KA(L),$=vA(),H=wA(n),[X,ne]=T.useState(!n),ge=T.useRef(null);T.useImperativeHandle(t,()=>M,[M]),Bo&&!H&&n&&(ge.current=Kf(V==null?void 0:V.document)),n&&X&&ne(!1);const Se=cr(()=>{if(M.add(),Ve.current=ju(document,"keydown",Ut),at.current=ju(document,"focus",()=>setTimeout(Te),!0),O&&O(),y){var Be,zn;const Yt=Kf((Be=(zn=M.dialog)==null?void 0:zn.ownerDocument)!=null?Be:V==null?void 0:V.document);M.dialog&&Yt&&!Fw(M.dialog,Yt)&&(ge.current=Yt,M.dialog.focus())}}),Oe=cr(()=>{if(M.remove(),Ve.current==null||Ve.current(),at.current==null||at.current(),w){var Be;(Be=ge.current)==null||Be.focus==null||Be.focus(_),ge.current=null}});T.useEffect(()=>{!n||!Q||Se()},[n,Q,Se]),T.useEffect(()=>{X&&Oe()},[X,Oe]),J1(()=>{Oe()});const Te=cr(()=>{if(!S||!$()||!M.isTopModal())return;const Be=Kf(V==null?void 0:V.document);M.dialog&&Be&&!Fw(M.dialog,Be)&&M.dialog.focus()}),We=cr(Be=>{Be.target===Be.currentTarget&&(l==null||l(Be),a===!0&&F())}),Ut=cr(Be=>{c&&zA(Be)&&M.isTopModal()&&(d==null||d(Be),Be.defaultPrevented||F())}),at=T.useRef(),Ve=T.useRef(),ct=(...Be)=>{ne(!0),D==null||D(...Be)};if(!Q)return null;const qt=Object.assign({role:r,ref:M.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},se,{style:s,className:i,tabIndex:-1});let Me=b?b(qt):k.jsx("div",Object.assign({},qt,{children:T.cloneElement(o,{role:"document"})}));Me=Uw(f,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:Y,onExiting:I,onExited:ct,onEnter:G,onEntering:K,onEntered:te,children:Me});let Ne=null;return a&&(Ne=C({ref:M.setBackdropRef,onClick:We}),Ne=Uw(g,h,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Ne})),k.jsx(k.Fragment,{children:Zs.createPortal(k.jsxs(k.Fragment,{children:[Ne,Me]}),Q)})});eR.displayName="Modal";const QA=Object.assign(eR,{Manager:bg});function qA(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function YA(e,t){e.classList?e.classList.add(t):qA(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Vw(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function XA(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Vw(e.className,t):e.setAttribute("class",Vw(e.className&&e.className.baseVal||"",t))}const Ss={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class JA extends bg{adjustAndStore(t,n,r){const i=n.style[t];n.dataset[t]=i,Xi(n,{[t]:`${parseFloat(Xi(n,t))+r}px`})}restore(t,n){const r=n.dataset[t];r!==void 0&&(delete n.dataset[t],Xi(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(YA(n,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";_s(n,Ss.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,t.scrollBarWidth)),_s(n,Ss.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-t.scrollBarWidth)),_s(n,Ss.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();XA(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";_s(n,Ss.FIXED_CONTENT).forEach(s=>this.restore(r,s)),_s(n,Ss.STICKY_CONTENT).forEach(s=>this.restore(i,s)),_s(n,Ss.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let Yf;function ZA(e){return Yf||(Yf=new JA(e)),Yf}const eL=_g("modal-body"),tL=T.createContext({onHide(){}}),tR=tL,nR=T.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:r,size:i,fullscreen:s,children:o,scrollable:a,...c},l)=>{e=_c(e,"modal");const d=`${e}-dialog`,f=typeof s=="string"?`${e}-fullscreen-${s}`:`${e}-fullscreen`;return k.jsx("div",{...c,ref:l,className:hr(d,t,i&&`${e}-${i}`,r&&`${d}-centered`,a&&`${d}-scrollable`,s&&f),children:k.jsx("div",{className:hr(`${e}-content`,n),children:o})})});nR.displayName="ModalDialog";const rR=nR,nL=_g("modal-footer"),rL=T.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const a=T.useContext(tR),c=cr(()=>{a==null||a.onHide(),r==null||r()});return k.jsxs("div",{ref:o,...s,children:[i,n&&k.jsx(PA,{"aria-label":e,variant:t,onClick:c})]})}),iL=rL,iR=T.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(e=_c(e,"modal-header"),k.jsx(iL,{ref:s,...i,className:hr(t,e),closeLabel:n,closeButton:r})));iR.displayName="ModalHeader";const sL=iR,oL=kA("h4"),aL=_g("modal-title",{Component:oL});function cL(e){return k.jsx(Y1,{...e,timeout:null})}function lL(e){return k.jsx(Y1,{...e,timeout:null})}const sR=T.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:r,contentClassName:i,children:s,dialogAs:o=rR,"aria-labelledby":a,"aria-describedby":c,"aria-label":l,show:d=!1,animation:f=!0,backdrop:p=!0,keyboard:g=!0,onEscapeKeyDown:h,onShow:y,onHide:S,container:w,autoFocus:_=!0,enforceFocus:b=!0,restoreFocus:C=!0,restoreFocusOptions:L,onEntered:j,onExit:O,onExiting:F,onEnter:Y,onEntering:D,onExited:I,backdropClassName:G,manager:K,...te},se)=>{const[V,Q]=T.useState({}),[M,$]=T.useState(!1),H=T.useRef(!1),X=T.useRef(!1),ne=T.useRef(null),[ge,Se]=yA(),Oe=md(se,Se),Te=cr(S),We=GD();e=_c(e,"modal");const Ut=T.useMemo(()=>({onHide:Te}),[Te]);function at(){return K||ZA({isRTL:We})}function Ve(Z){if(!Bo)return;const ye=at().getScrollbarWidth()>0,le=Z.scrollHeight>hd(Z).documentElement.clientHeight;Q({paddingRight:ye&&!le?Bw():void 0,paddingLeft:!ye&&le?Bw():void 0})}const ct=cr(()=>{ge&&Ve(ge.dialog)});J1(()=>{Fh(window,"resize",ct),ne.current==null||ne.current()});const qt=()=>{H.current=!0},Me=Z=>{H.current&&ge&&Z.target===ge.dialog&&(X.current=!0),H.current=!1},Ne=()=>{$(!0),ne.current=K1(ge.dialog,()=>{$(!1)})},Be=Z=>{Z.target===Z.currentTarget&&Ne()},zn=Z=>{if(p==="static"){Be(Z);return}if(X.current||Z.target!==Z.currentTarget){X.current=!1;return}S==null||S()},Yt=Z=>{g?h==null||h(Z):(Z.preventDefault(),p==="static"&&Ne())},Ur=(Z,ye)=>{Z&&Ve(Z),Y==null||Y(Z,ye)},hs=Z=>{ne.current==null||ne.current(),O==null||O(Z)},Pi=(Z,ye)=>{D==null||D(Z,ye),G1(window,"resize",ct)},ki=Z=>{Z&&(Z.style.display=""),I==null||I(Z),Fh(window,"resize",ct)},kt=T.useCallback(Z=>k.jsx("div",{...Z,className:hr(`${e}-backdrop`,G,!f&&"show")}),[f,G,e]),gn={...n,...V};gn.display="block";const Xt=Z=>k.jsx("div",{role:"dialog",...Z,style:gn,className:hr(t,e,M&&`${e}-static`,!f&&"show"),onClick:p?zn:void 0,onMouseUp:Me,"aria-label":l,"aria-labelledby":a,"aria-describedby":c,children:k.jsx(o,{...te,onMouseDown:qt,className:r,contentClassName:i,children:s})});return k.jsx(tR.Provider,{value:Ut,children:k.jsx(QA,{show:d,ref:Oe,backdrop:p,container:w,keyboard:!0,autoFocus:_,enforceFocus:b,restoreFocus:C,restoreFocusOptions:L,onEscapeKeyDown:Yt,onShow:y,onHide:S,onEnter:Ur,onEntering:Pi,onEntered:j,onExit:hs,onExiting:F,onExited:ki,manager:at(),transition:f?cL:void 0,backdropTransition:f?lL:void 0,renderBackdrop:kt,renderDialog:Xt})})});sR.displayName="Modal";const Ht=Object.assign(sR,{Body:eL,Header:sL,Title:aL,Footer:nL,Dialog:rR,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});let zw="game";function uL({roomInfo:e,show:t,onHide:n}){return console.log("roomjoinmodal rendered"),e&&e.roomId.toLowerCase().includes("solo")&&(zw="sologame",console.log("solo mode!!")),k.jsxs(Ht,{onHide:n,show:t,centered:!0,children:[k.jsx(Ht.Header,{closeButton:!0,children:k.jsx(Ht.Title,{id:"contained-modal-title-vcenter",children:k.jsxs("h2",{children:[e==null?void 0:e.roomId," 에 입장하시겠습니까?"]})})}),k.jsx(Ht.Body,{children:e==null?void 0:e.description}),k.jsx(Ht.Footer,{children:k.jsx(So,{children:k.jsx(Fo,{to:`/${zw}/${e==null?void 0:e.roomId}`,style:{color:"white"},children:"Join"})})})]})}var nn=function(){return nn=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},nn.apply(this,arguments)};function cc(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Qe="-ms-",Ia="-moz-",je="-webkit-",oR="comm",gd="rule",Rg="decl",dL="@import",aR="@keyframes",fL="@layer",pL=Math.abs,Cg=String.fromCharCode,Bh=Object.assign;function hL(e,t){return Et(e,0)^45?(((t<<2^Et(e,0))<<2^Et(e,1))<<2^Et(e,2))<<2^Et(e,3):0}function cR(e){return e.trim()}function Rr(e,t){return(e=t.exec(e))?e[0]:e}function we(e,t,n){return e.replace(t,n)}function ql(e,t){return e.indexOf(t)}function Et(e,t){return e.charCodeAt(t)|0}function bo(e,t,n){return e.slice(t,n)}function or(e){return e.length}function lR(e){return e.length}function ba(e,t){return t.push(e),e}function mL(e,t){return e.map(t).join("")}function Hw(e,t){return e.filter(function(n){return!Rr(n,t)})}var yd=1,Ro=1,uR=0,kn=0,gt=0,$o="";function vd(e,t,n,r,i,s,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:yd,column:Ro,length:o,return:"",siblings:a}}function qr(e,t){return Bh(vd("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function bs(e){for(;e.root;)e=qr(e.root,{children:[e]});ba(e,e.siblings)}function gL(){return gt}function yL(){return gt=kn>0?Et($o,--kn):0,Ro--,gt===10&&(Ro=1,yd--),gt}function $n(){return gt=kn<uR?Et($o,kn++):0,Ro++,gt===10&&(Ro=1,yd++),gt}function Ji(){return Et($o,kn)}function Yl(){return kn}function wd(e,t){return bo($o,e,t)}function $h(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function vL(e){return yd=Ro=1,uR=or($o=e),kn=0,[]}function wL(e){return $o="",e}function Xf(e){return cR(wd(kn-1,Uh(e===91?e+2:e===40?e+1:e)))}function _L(e){for(;(gt=Ji())&&gt<33;)$n();return $h(e)>2||$h(gt)>3?"":" "}function SL(e,t){for(;--t&&$n()&&!(gt<48||gt>102||gt>57&&gt<65||gt>70&&gt<97););return wd(e,Yl()+(t<6&&Ji()==32&&$n()==32))}function Uh(e){for(;$n();)switch(gt){case e:return kn;case 34:case 39:e!==34&&e!==39&&Uh(gt);break;case 40:e===41&&Uh(e);break;case 92:$n();break}return kn}function bL(e,t){for(;$n()&&e+gt!==47+10;)if(e+gt===42+42&&Ji()===47)break;return"/*"+wd(t,kn-1)+"*"+Cg(e===47?e:$n())}function RL(e){for(;!$h(Ji());)$n();return wd(e,kn)}function CL(e){return wL(Xl("",null,null,null,[""],e=vL(e),0,[0],e))}function Xl(e,t,n,r,i,s,o,a,c){for(var l=0,d=0,f=o,p=0,g=0,h=0,y=1,S=1,w=1,_=0,b="",C=i,L=s,j=r,O=b;S;)switch(h=_,_=$n()){case 40:if(h!=108&&Et(O,f-1)==58){ql(O+=we(Xf(_),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:O+=Xf(_);break;case 9:case 10:case 13:case 32:O+=_L(h);break;case 92:O+=SL(Yl()-1,7);continue;case 47:switch(Ji()){case 42:case 47:ba(xL(bL($n(),Yl()),t,n,c),c);break;default:O+="/"}break;case 123*y:a[l++]=or(O)*w;case 125*y:case 59:case 0:switch(_){case 0:case 125:S=0;case 59+d:w==-1&&(O=we(O,/\f/g,"")),g>0&&or(O)-f&&ba(g>32?Gw(O+";",r,n,f-1,c):Gw(we(O," ","")+";",r,n,f-2,c),c);break;case 59:O+=";";default:if(ba(j=Ww(O,t,n,l,d,i,a,b,C=[],L=[],f,s),s),_===123)if(d===0)Xl(O,t,j,j,C,s,f,a,L);else switch(p===99&&Et(O,3)===110?100:p){case 100:case 108:case 109:case 115:Xl(e,j,j,r&&ba(Ww(e,j,j,0,0,i,a,b,i,C=[],f,L),L),i,L,f,a,r?C:L);break;default:Xl(O,j,j,j,[""],L,0,a,L)}}l=d=g=0,y=w=1,b=O="",f=o;break;case 58:f=1+or(O),g=h;default:if(y<1){if(_==123)--y;else if(_==125&&y++==0&&yL()==125)continue}switch(O+=Cg(_),_*y){case 38:w=d>0?1:(O+="\f",-1);break;case 44:a[l++]=(or(O)-1)*w,w=1;break;case 64:Ji()===45&&(O+=Xf($n())),p=Ji(),d=f=or(b=O+=RL(Yl())),_++;break;case 45:h===45&&or(O)==2&&(y=0)}}return s}function Ww(e,t,n,r,i,s,o,a,c,l,d,f){for(var p=i-1,g=i===0?s:[""],h=lR(g),y=0,S=0,w=0;y<r;++y)for(var _=0,b=bo(e,p+1,p=pL(S=o[y])),C=e;_<h;++_)(C=cR(S>0?g[_]+" "+b:we(b,/&\f/g,g[_])))&&(c[w++]=C);return vd(e,t,n,i===0?gd:a,c,l,d,f)}function xL(e,t,n,r){return vd(e,t,n,oR,Cg(gL()),bo(e,2,-2),0,r)}function Gw(e,t,n,r,i){return vd(e,t,n,Rg,bo(e,0,r),bo(e,r+1,-1),r,i)}function dR(e,t,n){switch(hL(e,t)){case 5103:return je+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return je+e+e;case 4789:return Ia+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return je+e+Ia+e+Qe+e+e;case 5936:switch(Et(e,t+11)){case 114:return je+e+Qe+we(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return je+e+Qe+we(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return je+e+Qe+we(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return je+e+Qe+e+e;case 6165:return je+e+Qe+"flex-"+e+e;case 5187:return je+e+we(e,/(\w+).+(:[^]+)/,je+"box-$1$2"+Qe+"flex-$1$2")+e;case 5443:return je+e+Qe+"flex-item-"+we(e,/flex-|-self/g,"")+(Rr(e,/flex-|baseline/)?"":Qe+"grid-row-"+we(e,/flex-|-self/g,""))+e;case 4675:return je+e+Qe+"flex-line-pack"+we(e,/align-content|flex-|-self/g,"")+e;case 5548:return je+e+Qe+we(e,"shrink","negative")+e;case 5292:return je+e+Qe+we(e,"basis","preferred-size")+e;case 6060:return je+"box-"+we(e,"-grow","")+je+e+Qe+we(e,"grow","positive")+e;case 4554:return je+we(e,/([^-])(transform)/g,"$1"+je+"$2")+e;case 6187:return we(we(we(e,/(zoom-|grab)/,je+"$1"),/(image-set)/,je+"$1"),e,"")+e;case 5495:case 3959:return we(e,/(image-set\([^]*)/,je+"$1$`$1");case 4968:return we(we(e,/(.+:)(flex-)?(.*)/,je+"box-pack:$3"+Qe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+je+e+e;case 4200:if(!Rr(e,/flex-|baseline/))return Qe+"grid-column-align"+bo(e,t)+e;break;case 2592:case 3360:return Qe+we(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,i){return t=i,Rr(r.props,/grid-\w+-end/)})?~ql(e+(n=n[t].value),"span")?e:Qe+we(e,"-start","")+e+Qe+"grid-row-span:"+(~ql(n,"span")?Rr(n,/\d+/):+Rr(n,/\d+/)-+Rr(e,/\d+/))+";":Qe+we(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return Rr(r.props,/grid-\w+-start/)})?e:Qe+we(we(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return we(e,/(.+)-inline(.+)/,je+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(or(e)-1-t>6)switch(Et(e,t+1)){case 109:if(Et(e,t+4)!==45)break;case 102:return we(e,/(.+:)(.+)-([^]+)/,"$1"+je+"$2-$3$1"+Ia+(Et(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~ql(e,"stretch")?dR(we(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return we(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,c,l){return Qe+i+":"+s+l+(o?Qe+i+"-span:"+(a?c:+c-+s)+l:"")+e});case 4949:if(Et(e,t+6)===121)return we(e,":",":"+je)+e;break;case 6444:switch(Et(e,Et(e,14)===45?18:11)){case 120:return we(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+je+(Et(e,14)===45?"inline-":"")+"box$3$1"+je+"$2$3$1"+Qe+"$2box$3")+e;case 100:return we(e,":",":"+Qe)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return we(e,"scroll-","scroll-snap-")+e}return e}function Nu(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function TL(e,t,n,r){switch(e.type){case fL:if(e.children.length)break;case dL:case Rg:return e.return=e.return||e.value;case oR:return"";case aR:return e.return=e.value+"{"+Nu(e.children,r)+"}";case gd:if(!or(e.value=e.props.join(",")))return""}return or(n=Nu(e.children,r))?e.return=e.value+"{"+n+"}":""}function EL(e){var t=lR(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function PL(e){return function(t){t.root||(t=t.return)&&e(t)}}function kL(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Rg:e.return=dR(e.value,e.length,n);return;case aR:return Nu([qr(e,{value:we(e.value,"@","@"+je)})],r);case gd:if(e.length)return mL(n=e.props,function(i){switch(Rr(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":bs(qr(e,{props:[we(i,/:(read-\w+)/,":"+Ia+"$1")]})),bs(qr(e,{props:[i]})),Bh(e,{props:Hw(n,r)});break;case"::placeholder":bs(qr(e,{props:[we(i,/:(plac\w+)/,":"+je+"input-$1")]})),bs(qr(e,{props:[we(i,/:(plac\w+)/,":"+Ia+"$1")]})),bs(qr(e,{props:[we(i,/:(plac\w+)/,Qe+"input-$1")]})),bs(qr(e,{props:[i]})),Bh(e,{props:Hw(n,r)});break}return""})}}var DL={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Co=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",xg=typeof window<"u"&&"HTMLElement"in window,AL=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),_d=Object.freeze([]),xo=Object.freeze({});function LL(e,t,n){return n===void 0&&(n=xo),e.theme!==n.theme&&e.theme||t||n.theme}var fR=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),OL=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ML=/(^-|-$)/g;function Kw(e){return e.replace(OL,"-").replace(ML,"")}var IL=/(a)(d)/gi,Qw=function(e){return String.fromCharCode(e+(e>25?39:97))};function Vh(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Qw(t%52)+n;return(Qw(t%52)+n).replace(IL,"$1-$2")}var Jf,eo=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},pR=function(e){return eo(5381,e)};function hR(e){return Vh(pR(e)>>>0)}function jL(e){return e.displayName||e.name||"Component"}function Zf(e){return typeof e=="string"&&!0}var mR=typeof Symbol=="function"&&Symbol.for,gR=mR?Symbol.for("react.memo"):60115,NL=mR?Symbol.for("react.forward_ref"):60112,FL={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},BL={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},yR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},$L=((Jf={})[NL]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Jf[gR]=yR,Jf);function qw(e){return("type"in(t=e)&&t.type.$$typeof)===gR?yR:"$$typeof"in e?$L[e.$$typeof]:FL;var t}var UL=Object.defineProperty,VL=Object.getOwnPropertyNames,Yw=Object.getOwnPropertySymbols,zL=Object.getOwnPropertyDescriptor,HL=Object.getPrototypeOf,Xw=Object.prototype;function vR(e,t,n){if(typeof t!="string"){if(Xw){var r=HL(t);r&&r!==Xw&&vR(e,r,n)}var i=VL(t);Yw&&(i=i.concat(Yw(t)));for(var s=qw(e),o=qw(t),a=0;a<i.length;++a){var c=i[a];if(!(c in BL||n&&n[c]||o&&c in o||s&&c in s)){var l=zL(t,c);try{UL(e,c,l)}catch{}}}}return e}function To(e){return typeof e=="function"}function Tg(e){return typeof e=="object"&&"styledComponentId"in e}function Gi(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function zh(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function lc(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Hh(e,t,n){if(n===void 0&&(n=!1),!n&&!lc(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Hh(e[r],t[r]);else if(lc(t))for(var r in t)e[r]=Hh(e[r],t[r]);return e}function Eg(e,t){Object.defineProperty(e,"toString",{value:t})}function Sc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var WL=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;t>=s;)if((s<<=1)<0)throw Sc(16,"".concat(t));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(t+1),c=(o=0,n.length);o<c;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[t]++,a++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n;this.groupSizes[t]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],i=this.indexOfGroup(t),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(`/*!sc*/
`);return n},e}(),Jl=new Map,Fu=new Map,ep=1,vl=function(e){if(Jl.has(e))return Jl.get(e);for(;Fu.has(ep);)ep++;var t=ep++;return Jl.set(e,t),Fu.set(t,e),t},GL=function(e,t){Jl.set(e,t),Fu.set(t,e)},KL="style[".concat(Co,"][").concat("data-styled-version",'="').concat("6.0.5",'"]'),QL=new RegExp("^".concat(Co,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),qL=function(e,t,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&e.registerName(t,r)},YL=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(`/*!sc*/
`),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var c=a.match(QL);if(c){var l=0|parseInt(c[1],10),d=c[2];l!==0&&(GL(d,l),qL(e,d,c[3]),e.getTag().insertRules(l,i)),i.length=0}else i.push(a)}}};function XL(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var wR=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(a){var c=Array.from(a.querySelectorAll("style[".concat(Co,"]")));return c[c.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Co,"active"),r.setAttribute("data-styled-version","6.0.5");var o=XL();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},JL=function(){function e(t){this.element=wR(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw Sc(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),ZL=function(){function e(t){this.element=wR(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),eO=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),Jw=xg,tO={isServer:!xg,useCSSOMInjection:!AL},_R=function(){function e(t,n,r){t===void 0&&(t=xo),n===void 0&&(n={});var i=this;this.options=nn(nn({},tO),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&xg&&Jw&&(Jw=!1,function(s){for(var o=document.querySelectorAll(KL),a=0,c=o.length;a<c;a++){var l=o[a];l&&l.getAttribute(Co)!=="active"&&(YL(s,l),l.parentNode&&l.parentNode.removeChild(l))}}(this)),Eg(this,function(){return function(s){for(var o=s.getTag(),a=o.length,c="",l=function(f){var p=function(w){return Fu.get(w)}(f);if(p===void 0)return"continue";var g=s.names.get(p),h=o.getGroup(f);if(g===void 0||h.length===0)return"continue";var y="".concat(Co,".g").concat(f,'[id="').concat(p,'"]'),S="";g!==void 0&&g.forEach(function(w){w.length>0&&(S+="".concat(w,","))}),c+="".concat(h).concat(y,'{content:"').concat(S,'"}').concat(`/*!sc*/
`)},d=0;d<a;d++)l(d);return c}(i)})}return e.registerId=function(t){return vl(t)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(nn(nn({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new eO(i):r?new JL(i):new ZL(i)}(this.options),new WL(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(vl(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(vl(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(vl(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),nO=/&/g,rO=/^\s*\/\/.*$/gm;function SR(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=SR(n.children,t)),n})}function iO(e){var t,n,r,i=e===void 0?xo:e,s=i.options,o=s===void 0?xo:s,a=i.plugins,c=a===void 0?_d:a,l=function(p,g,h){return h===n||h.startsWith(n)&&h.endsWith(n)&&h.replaceAll(n,"").length>0?".".concat(t):p},d=c.slice();d.push(function(p){p.type===gd&&p.value.includes("&")&&(p.props[0]=p.props[0].replace(nO,n).replace(r,l))}),o.prefix&&d.push(kL),d.push(TL);var f=function(p,g,h,y){g===void 0&&(g=""),h===void 0&&(h=""),y===void 0&&(y="&"),t=y,n=g,r=new RegExp("\\".concat(n,"\\b"),"g");var S=p.replace(rO,""),w=CL(h||g?"".concat(h," ").concat(g," { ").concat(S," }"):S);o.namespace&&(w=SR(w,o.namespace));var _=[];return Nu(w,EL(d.concat(PL(function(b){return _.push(b)})))),_};return f.hash=c.length?c.reduce(function(p,g){return g.name||Sc(15),eo(p,g.name)},5381).toString():"",f}var sO=new _R,Wh=iO(),bR=st.createContext({shouldForwardProp:void 0,styleSheet:sO,stylis:Wh});bR.Consumer;st.createContext(void 0);function Zw(){return T.useContext(bR)}var RR=function(){function e(t,n){var r=this;this.inject=function(i,s){s===void 0&&(s=Wh);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,Eg(this,function(){throw Sc(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Wh),this.name+t.hash},e}(),oO=function(e){return e>="A"&&e<="Z"};function e0(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;oO(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var CR=function(e){return e==null||e===!1||e===""},xR=function(e){var t,n,r=[];for(var i in e){var s=e[i];e.hasOwnProperty(i)&&!CR(s)&&(Array.isArray(s)&&s.isCss||To(s)?r.push("".concat(e0(i),":"),s,";"):lc(s)?r.push.apply(r,cc(cc(["".concat(i," {")],xR(s),!1),["}"],!1)):r.push("".concat(e0(i),": ").concat((t=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in DL||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Zi(e,t,n,r){if(CR(e))return[];if(Tg(e))return[".".concat(e.styledComponentId)];if(To(e)){if(!To(s=e)||s.prototype&&s.prototype.isReactComponent||!t)return[e];var i=e(t);return Zi(i,t,n,r)}var s;return e instanceof RR?n?(e.inject(n,r),[e.getName(r)]):[e]:lc(e)?xR(e):Array.isArray(e)?Array.prototype.concat.apply(_d,e.map(function(o){return Zi(o,t,n,r)})):[e.toString()]}function aO(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(To(n)&&!Tg(n))return!1}return!0}var cO=pR("6.0.5"),lO=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&aO(t),this.componentId=n,this.baseHash=eo(cO,n),this.baseStyle=r,_R.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Gi(i,this.staticRulesId);else{var s=zh(Zi(this.rules,t,n,r)),o=Vh(eo(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Gi(i,o),this.staticRulesId=o}else{for(var c=eo(this.baseHash,r.hash),l="",d=0;d<this.rules.length;d++){var f=this.rules[d];if(typeof f=="string")l+=f;else if(f){var p=zh(Zi(f,t,n,r));c=eo(c,p),l+=p}}if(l){var g=Vh(c>>>0);n.hasNameForId(this.componentId,g)||n.insertRules(this.componentId,g,r(l,".".concat(g),void 0,this.componentId)),i=Gi(i,g)}}return i},e}(),TR=st.createContext(void 0);TR.Consumer;var tp={};function uO(e,t,n){var r=Tg(e),i=e,s=!Zf(e),o=t.attrs,a=o===void 0?_d:o,c=t.componentId,l=c===void 0?function(b,C){var L=typeof b!="string"?"sc":Kw(b);tp[L]=(tp[L]||0)+1;var j="".concat(L,"-").concat(hR("6.0.5"+L+tp[L]));return C?"".concat(C,"-").concat(j):j}(t.displayName,t.parentComponentId):c,d=t.displayName;d===void 0&&function(b){return Zf(b)?"styled.".concat(b):"Styled(".concat(jL(b),")")}(e);var f=t.displayName&&t.componentId?"".concat(Kw(t.displayName),"-").concat(t.componentId):t.componentId||l,p=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,g=t.shouldForwardProp;if(r&&i.shouldForwardProp){var h=i.shouldForwardProp;if(t.shouldForwardProp){var y=t.shouldForwardProp;g=function(b,C){return h(b,C)&&y(b,C)}}else g=h}var S=new lO(n,f,r?i.componentStyle:void 0);function w(b,C){return function(L,j,O){var F=L.attrs,Y=L.componentStyle,D=L.defaultProps,I=L.foldedComponentIds,G=L.styledComponentId,K=L.target,te=st.useContext(TR),se=Zw(),V=L.shouldForwardProp||se.shouldForwardProp,Q=function(ge,Se,Oe){for(var Te,We=nn(nn({},Se),{className:void 0,theme:Oe}),Ut=0;Ut<ge.length;Ut+=1){var at=To(Te=ge[Ut])?Te(We):Te;for(var Ve in at)We[Ve]=Ve==="className"?Gi(We[Ve],at[Ve]):Ve==="style"?nn(nn({},We[Ve]),at[Ve]):at[Ve]}return Se.className&&(We.className=Gi(We.className,Se.className)),We}(F,j,LL(j,te,D)||xo),M=Q.as||K,$={};for(var H in Q)Q[H]===void 0||H[0]==="$"||H==="as"||H==="theme"||(H==="forwardedAs"?$.as=Q.forwardedAs:V&&!V(H,M)||($[H]=Q[H]));var X=function(ge,Se){var Oe=Zw(),Te=ge.generateAndInjectStyles(Se,Oe.styleSheet,Oe.stylis);return Te}(Y,Q),ne=Gi(I,G);return X&&(ne+=" "+X),Q.className&&(ne+=" "+Q.className),$[Zf(M)&&!fR.has(M)?"class":"className"]=ne,$.ref=O,T.createElement(M,$)}(_,b,C)}var _=st.forwardRef(w);return _.attrs=p,_.componentStyle=S,_.shouldForwardProp=g,_.foldedComponentIds=r?Gi(i.foldedComponentIds,i.styledComponentId):"",_.styledComponentId=f,_.target=r?i.target:e,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(b){this._foldedDefaultProps=r?function(C){for(var L=[],j=1;j<arguments.length;j++)L[j-1]=arguments[j];for(var O=0,F=L;O<F.length;O++)Hh(C,F[O],!0);return C}({},i.defaultProps,b):b}}),Eg(_,function(){return".".concat(_.styledComponentId)}),s&&vR(_,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function t0(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var n0=function(e){return Object.assign(e,{isCss:!0})};function ER(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(To(e)||lc(e)){var r=e;return n0(Zi(t0(_d,cc([r],t,!0))))}var i=e;return t.length===0&&i.length===1&&typeof i[0]=="string"?Zi(i):n0(Zi(t0(i,t)))}function Gh(e,t,n){if(n===void 0&&(n=xo),!t)throw Sc(1,t);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return e(t,n,ER.apply(void 0,cc([i],s,!1)))};return r.attrs=function(i){return Gh(e,t,nn(nn({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Gh(e,t,nn(nn({},n),i))},r}var PR=function(e){return Gh(uO,e)},Ye=PR;fR.forEach(function(e){Ye[e]=PR(e)});function dO(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=zh(ER.apply(void 0,cc([e],t,!1))),i=hR(r);return new RR(i,r)}const fO=Ye.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
`,pO=Ye.form`
  display: block;
  margin: 50px;
  gap: 20px;
`;async function hO(){try{const t=await(await fetch("https://choijungle.shop/testdata")).json();return console.log(t),t}catch{return{}}}const Eo=40,Po=85,Bu=["red","orange","blue","violet"],Pg=Ye.div`
  display: flex;
  justify-content: space-evenly;
  align-items: center;
  width: 100vw;
  height: 90vh;
`,kg=Ye.div`
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
`,kR=Ye.div`
  width: ${Eo}vw;
  height: ${Po}vh;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
`,DR=Ye.div`
  overflow: hidden;
  position: absolute;
  width: ${Eo}vw;
  height: ${Po}vh;
`;Ye.div`
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
  padding: 16px;

  @media (max-width: 1000px) {
    grid-template-columns: 1fr; // 작은 화면에서는 1열로 보여줍니다.
  }
`;const AR=Ye.div`
  margin: 10px;
  font-size: 5vmin;
  color: white;
`,mO=Ye.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  color: white;
  height: 80vh;
`,Dg=Ye(Fo)`
  position: relative;
  padding: 20px;
  background-color: #ffffff;
  opacity: 0.8;
  text-decoration: none;
  border-radius: 50%;
  cursor: pointer;
  &:hover {
    background-color: #007bff;
    color: #ffffff;
  }
`;var LR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r0=st.createContext&&st.createContext(LR),mi=globalThis&&globalThis.__assign||function(){return mi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},mi.apply(this,arguments)},gO=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function OR(e){return e&&e.map(function(t,n){return st.createElement(t.tag,mi({key:n},t.attr),OR(t.child))})}function yO(e){return function(t){return st.createElement(vO,mi({attr:mi({},e.attr)},t),OR(e.child))}}function vO(e){var t=function(n){var r=e.attr,i=e.size,s=e.title,o=gO(e,["attr","size","title"]),a=i||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),st.createElement("svg",mi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:mi(mi({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&st.createElement("title",null,s),e.children)};return r0!==void 0?st.createElement(r0.Consumer,null,function(n){return t(n)}):t(LR)}function Ag(e){return yO({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]})(e)}const MR=T.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Sd=T.createContext({}),bd=T.createContext(null),Rd=typeof document<"u",$u=Rd?T.useLayoutEffect:T.useEffect,IR=T.createContext({strict:!1});function wO(e,t,n,r){const{visualElement:i}=T.useContext(Sd),s=T.useContext(IR),o=T.useContext(bd),a=T.useContext(MR).reducedMotion,c=T.useRef();r=r||s.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const l=c.current;return T.useInsertionEffect(()=>{l&&l.update(n,o)}),$u(()=>{l&&l.render()}),T.useEffect(()=>{l&&l.updateFeatures()}),(window.HandoffAppearAnimations?$u:T.useEffect)(()=>{l&&l.animationState&&l.animationState.animateChanges()}),l}function to(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function _O(e,t,n){return T.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):to(n)&&(n.current=r))},[t])}function uc(e){return typeof e=="string"||Array.isArray(e)}function Cd(e){return typeof e=="object"&&typeof e.start=="function"}const Lg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Og=["initial",...Lg];function xd(e){return Cd(e.animate)||Og.some(t=>uc(e[t]))}function jR(e){return!!(xd(e)||e.variants)}function SO(e,t){if(xd(e)){const{initial:n,animate:r}=e;return{initial:n===!1||uc(n)?n:void 0,animate:uc(r)?r:void 0}}return e.inherit!==!1?t:{}}function bO(e){const{initial:t,animate:n}=SO(e,T.useContext(Sd));return T.useMemo(()=>({initial:t,animate:n}),[i0(t),i0(n)])}function i0(e){return Array.isArray(e)?e.join(" "):e}const s0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dc={};for(const e in s0)dc[e]={isEnabled:t=>s0[e].some(n=>!!t[n])};function RO(e){for(const t in e)dc[t]={...dc[t],...e[t]}}const Mg=T.createContext({}),NR=T.createContext({}),CO=Symbol.for("motionComponentSymbol");function xO({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&RO(e);function s(a,c){let l;const d={...T.useContext(MR),...a,layoutId:TO(a)},{isStatic:f}=d,p=bO(a),g=r(a,f);if(!f&&Rd){p.visualElement=wO(i,g,d,t);const h=T.useContext(NR),y=T.useContext(IR).strict;p.visualElement&&(l=p.visualElement.loadFeatures(d,y,e,h))}return T.createElement(Sd.Provider,{value:p},l&&p.visualElement?T.createElement(l,{visualElement:p.visualElement,...d}):null,n(i,a,_O(g,p.visualElement,c),g,f,p.visualElement))}const o=T.forwardRef(s);return o[CO]=i,o}function TO({layoutId:e}){const t=T.useContext(Mg).id;return t&&e!==void 0?t+"-"+e:e}function EO(e){function t(r,i={}){return xO(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const PO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ig(e){return typeof e!="string"||e.includes("-")?!1:!!(PO.indexOf(e)>-1||/[A-Z]/.test(e))}const Uu={};function kO(e){Object.assign(Uu,e)}const bc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],us=new Set(bc);function FR(e,{layout:t,layoutId:n}){return us.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Uu[e]||e==="opacity")}const an=e=>!!(e&&e.getVelocity),DO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AO=bc.length;function LO(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<AO;o++){const a=bc[o];if(e[a]!==void 0){const c=DO[a]||a;s+=`${c}(${e[a]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(e,r?"":s):n&&r&&(s="none"),s}const BR=e=>t=>typeof t=="string"&&t.startsWith(e),$R=BR("--"),Kh=BR("var(--"),OO=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,MO=(e,t)=>t&&typeof e=="number"?t.transform(e):e,bi=(e,t,n)=>Math.min(Math.max(n,e),t),ds={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ja={...ds,transform:e=>bi(0,1,e)},wl={...ds,default:1},Na=e=>Math.round(e*1e5)/1e5,Td=/(-)?([\d]*\.?[\d])+/g,UR=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,IO=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Rc(e){return typeof e=="string"}const Cc=e=>({test:t=>Rc(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Yr=Cc("deg"),fr=Cc("%"),de=Cc("px"),jO=Cc("vh"),NO=Cc("vw"),o0={...fr,parse:e=>fr.parse(e)/100,transform:e=>fr.transform(e*100)},a0={...ds,transform:Math.round},VR={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,size:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,rotate:Yr,rotateX:Yr,rotateY:Yr,rotateZ:Yr,scale:wl,scaleX:wl,scaleY:wl,scaleZ:wl,skew:Yr,skewX:Yr,skewY:Yr,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:ja,originX:o0,originY:o0,originZ:de,zIndex:a0,fillOpacity:ja,strokeOpacity:ja,numOctaves:a0};function jg(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=e;let c=!1,l=!1,d=!0;for(const f in t){const p=t[f];if($R(f)){s[f]=p;continue}const g=VR[f],h=MO(p,g);if(us.has(f)){if(c=!0,o[f]=h,!d)continue;p!==(g.default||0)&&(d=!1)}else f.startsWith("origin")?(l=!0,a[f]=h):i[f]=h}if(t.transform||(c||r?i.transform=LO(e.transform,n,d,r):i.transform&&(i.transform="none")),l){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;i.transformOrigin=`${f} ${p} ${g}`}}const Ng=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zR(e,t,n){for(const r in t)!an(t[r])&&!FR(r,n)&&(e[r]=t[r])}function FO({transformTemplate:e},t,n){return T.useMemo(()=>{const r=Ng();return jg(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function BO(e,t,n){const r=e.style||{},i={};return zR(i,r,e),Object.assign(i,FO(e,t,n)),e.transformValues?e.transformValues(i):i}function $O(e,t,n){const r={},i=BO(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const UO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Vu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||UO.has(e)}let HR=e=>!Vu(e);function VO(e){e&&(HR=t=>t.startsWith("on")?!Vu(t):e(t))}try{VO(require("@emotion/is-prop-valid").default)}catch{}function zO(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(HR(i)||n===!0&&Vu(i)||!t&&!Vu(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function c0(e,t,n){return typeof e=="string"?e:de.transform(t+n*e)}function HO(e,t,n){const r=c0(t,e.x,e.width),i=c0(n,e.y,e.height);return`${r} ${i}`}const WO={offset:"stroke-dashoffset",array:"stroke-dasharray"},GO={offset:"strokeDashoffset",array:"strokeDasharray"};function KO(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?WO:GO;e[s.offset]=de.transform(-r);const o=de.transform(t),a=de.transform(n);e[s.array]=`${o} ${a}`}function Fg(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...l},d,f,p){if(jg(e,l,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:h,dimensions:y}=e;g.transform&&(y&&(h.transform=g.transform),delete g.transform),y&&(i!==void 0||s!==void 0||h.transform)&&(h.transformOrigin=HO(y,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&KO(g,o,a,c,!1)}const WR=()=>({...Ng(),attrs:{}}),Bg=e=>typeof e=="string"&&e.toLowerCase()==="svg";function QO(e,t,n,r){const i=T.useMemo(()=>{const s=WR();return Fg(s,t,{enableHardwareAcceleration:!1},Bg(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};zR(s,e.style,e),i.style={...s,...i.style}}return i}function qO(e=!1){return(n,r,i,{latestValues:s},o)=>{const c=(Ig(n)?QO:$O)(r,s,o,n),d={...zO(r,typeof n=="string",e),...c,ref:i},{children:f}=r,p=T.useMemo(()=>an(f)?f.get():f,[f]);return T.createElement(n,{...d,children:p})}}const $g=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function GR(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const KR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QR(e,t,n,r){GR(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(KR.has(i)?i:$g(i),t.attrs[i])}function Ug(e,t){const{style:n}=e,r={};for(const i in n)(an(n[i])||t.style&&an(t.style[i])||FR(i,e))&&(r[i]=n[i]);return r}function qR(e,t){const n=Ug(e,t);for(const r in e)if(an(e[r])||an(t[r])){const i=bc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function Vg(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function YR(e){const t=T.useRef(null);return t.current===null&&(t.current=e()),t.current}const zu=e=>Array.isArray(e),YO=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),XO=e=>zu(e)?e[e.length-1]||0:e;function Zl(e){const t=an(e)?e.get():e;return YO(t)?t.toValue():t}function JO({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const o={latestValues:ZO(r,i,s,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const XR=e=>(t,n)=>{const r=T.useContext(Sd),i=T.useContext(bd),s=()=>JO(e,t,r,i);return n?s():YR(s)};function ZO(e,t,n,r){const i={},s=r(e,{});for(const p in s)i[p]=Zl(s[p]);let{initial:o,animate:a}=e;const c=xd(e),l=jR(e);t&&l&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;return f&&typeof f!="boolean"&&!Cd(f)&&(Array.isArray(f)?f:[f]).forEach(g=>{const h=Vg(e,g);if(!h)return;const{transitionEnd:y,transition:S,...w}=h;for(const _ in w){let b=w[_];if(Array.isArray(b)){const C=d?b.length-1:0;b=b[C]}b!==null&&(i[_]=b)}for(const _ in y)i[_]=y[_]}),i}const eM={useVisualState:XR({scrapeMotionValuesFromProps:qR,createRenderState:WR,onMount:(e,t,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}Fg(n,r,{enableHardwareAcceleration:!1},Bg(t.tagName),e.transformTemplate),QR(t,n)}})},tM={useVisualState:XR({scrapeMotionValuesFromProps:Ug,createRenderState:Ng})};function nM(e,{forwardMotionProps:t=!1},n,r){return{...Ig(e)?eM:tM,preloadedFeatures:n,useRender:qO(t),createVisualElement:r,Component:e}}function Pr(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const JR=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Ed(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const rM=e=>t=>JR(t)&&e(t,Ed(t));function Dr(e,t,n,r){return Pr(e,t,rM(n),r)}const iM=(e,t)=>n=>t(e(n)),gi=(...e)=>e.reduce(iM);function ZR(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const l0=ZR("dragHorizontal"),u0=ZR("dragVertical");function eC(e){let t=!1;if(e==="y")t=u0();else if(e==="x")t=l0();else{const n=l0(),r=u0();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function tC(){const e=eC(!0);return e?(e(),!1):!0}class Ei{constructor(t){this.isMounted=!1,this.node=t}update(){}}const it=e=>e;function sM(e){let t=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(c,l=!1,d=!1)=>{const f=d&&i,p=f?t:n;return l&&o.add(c),p.indexOf(c)===-1&&(p.push(c),f&&i&&(r=t.length)),c},cancel:c=>{const l=n.indexOf(c);l!==-1&&n.splice(l,1),o.delete(c)},process:c=>{if(i){s=!0;return}if(i=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let l=0;l<r;l++){const d=t[l];d(c),o.has(d)&&(a.schedule(d),e())}i=!1,s&&(s=!1,a.process(c))}};return a}const _l=["prepare","read","update","preRender","render","postRender"],oM=40;function aM(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=_l.reduce((f,p)=>(f[p]=sM(()=>n=!0),f),{}),o=f=>s[f].process(i),a=f=>{n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,oM),1),i.timestamp=f,i.isProcessing=!0,_l.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(a))},c=()=>{n=!0,r=!0,i.isProcessing||e(a)};return{schedule:_l.reduce((f,p)=>{const g=s[p];return f[p]=(h,y=!1,S=!1)=>(n||c(),g.schedule(h,y,S)),f},{}),cancel:f=>_l.forEach(p=>s[p].cancel(f)),state:i,steps:s}}const{schedule:Je,cancel:Nr,state:Ft,steps:np}=aM(typeof requestAnimationFrame<"u"?requestAnimationFrame:it,!0);function d0(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||tC())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&Je.update(()=>a[r](s,o))};return Dr(e.current,n,i,{passive:!e.getProps()[r]})}class cM extends Ei{mount(){this.unmount=gi(d0(this.node,!0),d0(this.node,!1))}unmount(){}}class lM extends Ei{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gi(Pr(this.node.current,"focus",()=>this.onFocus()),Pr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const nC=(e,t)=>t?e===t?!0:nC(e,t.parentElement):!1;function rp(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Ed(n))}class uM extends Ei{constructor(){super(...arguments),this.removeStartListeners=it,this.removeEndListeners=it,this.removeAccessibleListeners=it,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=Dr(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:d}=this.node.getProps();Je.update(()=>{nC(this.node.current,a.target)?l&&l(a,c):d&&d(a,c)})},{passive:!(r.onTap||r.onPointerUp)}),o=Dr(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=gi(s,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||rp("up",(c,l)=>{const{onTap:d}=this.node.getProps();d&&Je.update(()=>d(c,l))})};this.removeEndListeners(),this.removeEndListeners=Pr(this.node.current,"keyup",o),rp("down",(a,c)=>{this.startPress(a,c)})},n=Pr(this.node.current,"keydown",t),r=()=>{this.isPressing&&rp("cancel",(s,o)=>this.cancelPress(s,o))},i=Pr(this.node.current,"blur",r);this.removeAccessibleListeners=gi(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Je.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!tC()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Je.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Dr(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Pr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=gi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Qh=new WeakMap,ip=new WeakMap,dM=e=>{const t=Qh.get(e.target);t&&t(e)},fM=e=>{e.forEach(dM)};function pM({root:e,...t}){const n=e||document;ip.has(n)||ip.set(n,{});const r=ip.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(fM,{root:e,...t})),r[i]}function hM(e,t,n){const r=pM(t);return Qh.set(e,n),r.observe(e),()=>{Qh.delete(e),r.unobserve(e)}}const mM={some:0,all:1};class gM extends Ei{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:mM[i]},a=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,s&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=l?d:f;p&&p(c)};return hM(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(yM(t,n))&&this.startObserver()}unmount(){}}function yM({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const vM={inView:{Feature:gM},tap:{Feature:uM},focus:{Feature:lM},hover:{Feature:cM}};function rC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function wM(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function _M(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Pd(e,t,n){const r=e.getProps();return Vg(r,t,n!==void 0?n:r.custom,wM(e),_M(e))}const SM="framerAppearId",bM="data-"+$g(SM);let RM=it,zg=it;const yi=e=>e*1e3,Ar=e=>e/1e3,CM={current:!1},iC=e=>Array.isArray(e)&&typeof e[0]=="number";function sC(e){return!!(!e||typeof e=="string"&&oC[e]||iC(e)||Array.isArray(e)&&e.every(sC))}const Ra=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,oC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ra([0,.65,.55,1]),circOut:Ra([.55,0,1,.45]),backIn:Ra([.31,.01,.66,-.59]),backOut:Ra([.33,1.53,.69,.99])};function aC(e){if(e)return iC(e)?Ra(e):Array.isArray(e)?e.map(aC):oC[e]}function xM(e,t,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:c}={}){const l={[t]:n};c&&(l.offset=c);const d=aC(a);return Array.isArray(d)&&(l.easing=d),e.animate(l,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function TM(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const cC=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,EM=1e-7,PM=12;function kM(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=cC(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>EM&&++a<PM);return o}function xc(e,t,n,r){if(e===t&&n===r)return it;const i=s=>kM(s,0,1,e,n);return s=>s===0||s===1?s:cC(i(s),t,r)}const DM=xc(.42,0,1,1),AM=xc(0,0,.58,1),lC=xc(.42,0,.58,1),LM=e=>Array.isArray(e)&&typeof e[0]!="number",uC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,dC=e=>t=>1-e(1-t),fC=e=>1-Math.sin(Math.acos(e)),Hg=dC(fC),OM=uC(Hg),pC=xc(.33,1.53,.69,.99),Wg=dC(pC),MM=uC(Wg),IM=e=>(e*=2)<1?.5*Wg(e):.5*(2-Math.pow(2,-10*(e-1))),jM={linear:it,easeIn:DM,easeInOut:lC,easeOut:AM,circIn:fC,circInOut:OM,circOut:Hg,backIn:Wg,backInOut:MM,backOut:pC,anticipate:IM},f0=e=>{if(Array.isArray(e)){zg(e.length===4);const[t,n,r,i]=e;return xc(t,n,r,i)}else if(typeof e=="string")return jM[e];return e},Gg=(e,t)=>n=>!!(Rc(n)&&IO.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),hC=(e,t,n)=>r=>{if(!Rc(r))return r;const[i,s,o,a]=r.match(Td);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},NM=e=>bi(0,255,e),sp={...ds,transform:e=>Math.round(NM(e))},Ki={test:Gg("rgb","red"),parse:hC("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+sp.transform(e)+", "+sp.transform(t)+", "+sp.transform(n)+", "+Na(ja.transform(r))+")"};function FM(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const qh={test:Gg("#"),parse:FM,transform:Ki.transform},no={test:Gg("hsl","hue"),parse:hC("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+fr.transform(Na(t))+", "+fr.transform(Na(n))+", "+Na(ja.transform(r))+")"},Vt={test:e=>Ki.test(e)||qh.test(e)||no.test(e),parse:e=>Ki.test(e)?Ki.parse(e):no.test(e)?no.parse(e):qh.parse(e),transform:e=>Rc(e)?e:e.hasOwnProperty("red")?Ki.transform(e):no.transform(e)},et=(e,t,n)=>-n*e+n*t+e;function op(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function BM({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;i=op(c,a,e+1/3),s=op(c,a,e),o=op(c,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const ap=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},$M=[qh,Ki,no],UM=e=>$M.find(t=>t.test(e));function p0(e){const t=UM(e);let n=t.parse(e);return t===no&&(n=BM(n)),n}const mC=(e,t)=>{const n=p0(e),r=p0(t),i={...n};return s=>(i.red=ap(n.red,r.red,s),i.green=ap(n.green,r.green,s),i.blue=ap(n.blue,r.blue,s),i.alpha=et(n.alpha,r.alpha,s),Ki.transform(i))};function VM(e){var t,n;return isNaN(e)&&Rc(e)&&(((t=e.match(Td))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(UR))===null||n===void 0?void 0:n.length)||0)>0}const gC={regex:OO,countKey:"Vars",token:"${v}",parse:it},yC={regex:UR,countKey:"Colors",token:"${c}",parse:Vt.parse},vC={regex:Td,countKey:"Numbers",token:"${n}",parse:ds.parse};function cp(e,{regex:t,countKey:n,token:r,parse:i}){const s=e.tokenised.match(t);s&&(e["num"+n]=s.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...s.map(i)))}function Hu(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&cp(n,gC),cp(n,yC),cp(n,vC),n}function wC(e){return Hu(e).values}function _C(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Hu(e),s=t.length;return o=>{let a=i;for(let c=0;c<s;c++)c<r?a=a.replace(gC.token,o[c]):c<r+n?a=a.replace(yC.token,Vt.transform(o[c])):a=a.replace(vC.token,Na(o[c]));return a}}const zM=e=>typeof e=="number"?0:e;function HM(e){const t=wC(e);return _C(e)(t.map(zM))}const Ri={test:VM,parse:wC,createTransformer:_C,getAnimatableNone:HM},SC=(e,t)=>n=>`${n>0?t:e}`;function bC(e,t){return typeof e=="number"?n=>et(e,t,n):Vt.test(e)?mC(e,t):e.startsWith("var(")?SC(e,t):CC(e,t)}const RC=(e,t)=>{const n=[...e],r=n.length,i=e.map((s,o)=>bC(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},WM=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=bC(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},CC=(e,t)=>{const n=Ri.createTransformer(t),r=Hu(e),i=Hu(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?gi(RC(r.values,i.values),n):SC(e,t)},fc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},h0=(e,t)=>n=>et(e,t,n);function GM(e){return typeof e=="number"?h0:typeof e=="string"?Vt.test(e)?mC:CC:Array.isArray(e)?RC:typeof e=="object"?WM:h0}function KM(e,t,n){const r=[],i=n||GM(e[0]),s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||it:t;a=gi(c,a)}r.push(a)}return r}function xC(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(zg(s===t.length),s===1)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=KM(t,r,i),a=o.length,c=l=>{let d=0;if(a>1)for(;d<e.length-2&&!(l<e[d+1]);d++);const f=fc(e[d],e[d+1],l);return o[d](f)};return n?l=>c(bi(e[0],e[s-1],l)):c}function QM(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=fc(0,t,r);e.push(et(n,1,i))}}function qM(e){const t=[0];return QM(t,e.length-1),t}function YM(e,t){return e.map(n=>n*t)}function XM(e,t){return e.map(()=>t||lC).splice(0,e.length-1)}function Wu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=LM(r)?r.map(f0):f0(r),s={done:!1,value:t[0]},o=YM(n&&n.length===t.length?n:qM(t),e),a=xC(o,t,{ease:Array.isArray(i)?i:XM(t,i)});return{calculatedDuration:e,next:c=>(s.value=a(c),s.done=c>=e,s)}}function TC(e,t){return t?e*(1e3/t):0}const JM=5;function EC(e,t,n){const r=Math.max(t-JM,0);return TC(n-e(r),t-r)}const lp=.001,ZM=.01,m0=10,eI=.05,tI=1;function nI({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,s;RM(e<=yi(m0));let o=1-t;o=bi(eI,tI,o),e=bi(ZM,m0,Ar(e)),o<1?(i=l=>{const d=l*o,f=d*e,p=d-n,g=Yh(l,o),h=Math.exp(-f);return lp-p/g*h},s=l=>{const f=l*o*e,p=f*n+n,g=Math.pow(o,2)*Math.pow(l,2)*e,h=Math.exp(-f),y=Yh(Math.pow(l,2),o);return(-i(l)+lp>0?-1:1)*((p-g)*h)/y}):(i=l=>{const d=Math.exp(-l*e),f=(l-n)*e+1;return-lp+d*f},s=l=>{const d=Math.exp(-l*e),f=(n-l)*(e*e);return d*f});const a=5/e,c=iI(i,s,a);if(e=yi(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const l=Math.pow(c,2)*r;return{stiffness:l,damping:o*2*Math.sqrt(r*l),duration:e}}}const rI=12;function iI(e,t,n){let r=n;for(let i=1;i<rI;i++)r=r-e(r)/t(r);return r}function Yh(e,t){return e*Math.sqrt(1-t*t)}const sI=["duration","bounce"],oI=["stiffness","damping","mass"];function g0(e,t){return t.some(n=>e[n]!==void 0)}function aI(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!g0(e,oI)&&g0(e,sI)){const n=nI(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function PC({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],s=e[e.length-1],o={done:!1,value:i},{stiffness:a,damping:c,mass:l,velocity:d,duration:f,isResolvedFromDuration:p}=aI(r),g=d?-Ar(d):0,h=c/(2*Math.sqrt(a*l)),y=s-i,S=Ar(Math.sqrt(a/l)),w=Math.abs(y)<5;n||(n=w?.01:2),t||(t=w?.005:.5);let _;if(h<1){const b=Yh(S,h);_=C=>{const L=Math.exp(-h*S*C);return s-L*((g+h*S*y)/b*Math.sin(b*C)+y*Math.cos(b*C))}}else if(h===1)_=b=>s-Math.exp(-S*b)*(y+(g+S*y)*b);else{const b=S*Math.sqrt(h*h-1);_=C=>{const L=Math.exp(-h*S*C),j=Math.min(b*C,300);return s-L*((g+h*S*y)*Math.sinh(j)+b*y*Math.cosh(j))/b}}return{calculatedDuration:p&&f||null,next:b=>{const C=_(b);if(p)o.done=b>=f;else{let L=g;b!==0&&(h<1?L=EC(_,b,C):L=0);const j=Math.abs(L)<=n,O=Math.abs(s-C)<=t;o.done=j&&O}return o.value=o.done?s:C,o}}}function y0({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:l=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},g=F=>a!==void 0&&F<a||c!==void 0&&F>c,h=F=>a===void 0?c:c===void 0||Math.abs(a-F)<Math.abs(c-F)?a:c;let y=n*t;const S=f+y,w=o===void 0?S:o(S);w!==S&&(y=w-f);const _=F=>-y*Math.exp(-F/r),b=F=>w+_(F),C=F=>{const Y=_(F),D=b(F);p.done=Math.abs(Y)<=l,p.value=p.done?w:D};let L,j;const O=F=>{g(p.value)&&(L=F,j=PC({keyframes:[p.value,h(p.value)],velocity:EC(b,F,p.value),damping:i,stiffness:s,restDelta:l,restSpeed:d}))};return O(0),{calculatedDuration:null,next:F=>{let Y=!1;return!j&&L===void 0&&(Y=!0,C(F),O(F)),L!==void 0&&F>L?j.next(F-L):(!Y&&C(F),p)}}}const cI=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Je.update(t,!0),stop:()=>Nr(t),now:()=>Ft.isProcessing?Ft.timestamp:performance.now()}},v0=2e4;function w0(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<v0;)t+=n,r=e.next(t);return t>=v0?1/0:t}const lI={decay:y0,inertia:y0,tween:Wu,keyframes:Wu,spring:PC};function Gu({autoplay:e=!0,delay:t=0,driver:n=cI,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:c,onStop:l,onComplete:d,onUpdate:f,...p}){let g=1,h=!1,y,S;const w=()=>{S=new Promise(X=>{y=X})};w();let _;const b=lI[i]||Wu;let C;b!==Wu&&typeof r[0]!="number"&&(C=xC([0,100],r,{clamp:!1}),r=[0,100]);const L=b({...p,keyframes:r});let j;a==="mirror"&&(j=b({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let O="idle",F=null,Y=null,D=null;L.calculatedDuration===null&&s&&(L.calculatedDuration=w0(L));const{calculatedDuration:I}=L;let G=1/0,K=1/0;I!==null&&(G=I+o,K=G*(s+1)-o);let te=0;const se=X=>{if(Y===null)return;g>0&&(Y=Math.min(Y,X)),g<0&&(Y=Math.min(X-K/g,Y)),F!==null?te=F:te=Math.round(X-Y)*g;const ne=te-t*(g>=0?1:-1),ge=g>=0?ne<0:ne>K;te=Math.max(ne,0),O==="finished"&&F===null&&(te=K);let Se=te,Oe=L;if(s){const at=te/G;let Ve=Math.floor(at),ct=at%1;!ct&&at>=1&&(ct=1),ct===1&&Ve--,Ve=Math.min(Ve,s+1);const qt=!!(Ve%2);qt&&(a==="reverse"?(ct=1-ct,o&&(ct-=o/G)):a==="mirror"&&(Oe=j));let Me=bi(0,1,ct);te>K&&(Me=a==="reverse"&&qt?1:0),Se=Me*G}const Te=ge?{done:!1,value:r[0]}:Oe.next(Se);C&&(Te.value=C(Te.value));let{done:We}=Te;!ge&&I!==null&&(We=g>=0?te>=K:te<=0);const Ut=F===null&&(O==="finished"||O==="running"&&We);return f&&f(Te.value),Ut&&M(),Te},V=()=>{_&&_.stop(),_=void 0},Q=()=>{O="idle",V(),y(),w(),Y=D=null},M=()=>{O="finished",d&&d(),V(),y()},$=()=>{if(h)return;_||(_=n(se));const X=_.now();c&&c(),F!==null?Y=X-F:(!Y||O==="finished")&&(Y=X),O==="finished"&&w(),D=Y,F=null,O="running",_.start()};e&&$();const H={then(X,ne){return S.then(X,ne)},get time(){return Ar(te)},set time(X){X=yi(X),te=X,F!==null||!_||g===0?F=X:Y=_.now()-X/g},get duration(){const X=L.calculatedDuration===null?w0(L):L.calculatedDuration;return Ar(X)},get speed(){return g},set speed(X){X===g||!_||(g=X,H.time=Ar(te))},get state(){return O},play:$,pause:()=>{O="paused",F=te},stop:()=>{h=!0,O!=="idle"&&(O="idle",l&&l(),Q())},cancel:()=>{D!==null&&se(D),Q()},complete:()=>{O="finished"},sample:X=>(Y=0,se(X))};return H}function uI(e){let t;return()=>(t===void 0&&(t=e()),t)}const dI=uI(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fI=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Sl=10,pI=2e4,hI=(e,t)=>t.type==="spring"||e==="backgroundColor"||!sC(t.ease);function mI(e,t,{onUpdate:n,onComplete:r,...i}){if(!(dI()&&fI.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,c;const l=()=>{c=new Promise(_=>{a=_})};l();let{keyframes:d,duration:f=300,ease:p,times:g}=i;if(hI(t,i)){const _=Gu({...i,repeat:0,delay:0});let b={done:!1,value:d[0]};const C=[];let L=0;for(;!b.done&&L<pI;)b=_.sample(L),C.push(b.value),L+=Sl;g=void 0,d=C,f=L-Sl,p="linear"}const h=xM(e.owner.current,t,d,{...i,duration:f,ease:p,times:g}),y=()=>h.cancel(),S=()=>{Je.update(y),a(),l()};return h.onfinish=()=>{e.set(TM(d,i)),r&&r(),S()},{then(_,b){return c.then(_,b)},attachTimeline(_){return h.timeline=_,h.onfinish=null,it},get time(){return Ar(h.currentTime||0)},set time(_){h.currentTime=yi(_)},get speed(){return h.playbackRate},set speed(_){h.playbackRate=_},get duration(){return Ar(f)},play:()=>{o||(h.play(),Nr(y))},pause:()=>h.pause(),stop:()=>{if(o=!0,h.playState==="idle")return;const{currentTime:_}=h;if(_){const b=Gu({...i,autoplay:!1});e.setWithVelocity(b.sample(_-Sl).value,b.sample(_).value,Sl)}S()},complete:()=>h.finish(),cancel:S}}function gI({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:it,pause:it,stop:it,then:s=>(s(),Promise.resolve()),cancel:it,complete:it});return t?Gu({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const yI={type:"spring",stiffness:500,damping:25,restSpeed:10},vI=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),wI={type:"keyframes",duration:.8},_I={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SI=(e,{keyframes:t})=>t.length>2?wI:us.has(e)?e.startsWith("scale")?vI(t[1]):yI:_I,Xh=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ri.test(t)||t==="0")&&!t.startsWith("url(")),bI=new Set(["brightness","contrast","saturate","opacity"]);function RI(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Td)||[];if(!r)return e;const i=n.replace(r,"");let s=bI.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const CI=/([a-z-]*)\(.*?\)/g,Jh={...Ri,getAnimatableNone:e=>{const t=e.match(CI);return t?t.map(RI).join(" "):e}},xI={...VR,color:Vt,backgroundColor:Vt,outlineColor:Vt,fill:Vt,stroke:Vt,borderColor:Vt,borderTopColor:Vt,borderRightColor:Vt,borderBottomColor:Vt,borderLeftColor:Vt,filter:Jh,WebkitFilter:Jh},Kg=e=>xI[e];function kC(e,t){let n=Kg(e);return n!==Jh&&(n=Ri),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const DC=e=>/^0[^.\s]+$/.test(e);function TI(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||DC(e)}function EI(e,t,n,r){const i=Xh(t,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:e.get();let a;const c=[];for(let l=0;l<s.length;l++)s[l]===null&&(s[l]=l===0?o:s[l-1]),TI(s[l])&&c.push(l),typeof s[l]=="string"&&s[l]!=="none"&&s[l]!=="0"&&(a=s[l]);if(i&&c.length&&a)for(let l=0;l<c.length;l++){const d=c[l];s[d]=kC(t,a)}return s}function PI({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:l,...d}){return!!Object.keys(d).length}function AC(e,t){return e[t]||e.default||e}const Qg=(e,t,n,r={})=>i=>{const s=AC(r,e)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-yi(o);const c=EI(t,e,n,s),l=c[0],d=c[c.length-1],f=Xh(e,l),p=Xh(e,d);let g={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:h=>{t.set(h),s.onUpdate&&s.onUpdate(h)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(PI(s)||(g={...g,...SI(e,g)}),g.duration&&(g.duration=yi(g.duration)),g.repeatDelay&&(g.repeatDelay=yi(g.repeatDelay)),!f||!p||CM.current||s.type===!1)return gI(g);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const h=mI(t,e,g);if(h)return h}return Gu(g)};function Ku(e){return!!(an(e)&&e.add)}const kI=e=>/^\-?\d*\.?\d+$/.test(e);function qg(e,t){e.indexOf(t)===-1&&e.push(t)}function Yg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Xg{constructor(){this.subscriptions=[]}add(t){return qg(this.subscriptions,t),()=>Yg(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const DI=e=>!isNaN(parseFloat(e));class AI{constructor(t,n={}){this.version="10.15.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Ft;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Je.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Je.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=DI(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Xg);const r=this.events[t].add(n);return t==="change"?()=>{r(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?TC(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ko(e,t){return new AI(e,t)}const LC=e=>t=>t.test(e),LI={test:e=>e==="auto",parse:e=>e},OC=[ds,de,fr,Yr,NO,jO,LI],ca=e=>OC.find(LC(e)),OI=[...OC,Vt,Ri],MI=e=>OI.find(LC(e));function II(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ko(n))}function jI(e,t){const n=Pd(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=XO(s[o]);II(e,o,a)}}function NI(e,t,n){var r,i;const s=Object.keys(t).filter(a=>!e.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const c=s[a],l=t[c];let d=null;Array.isArray(l)&&(d=l[0]),d===null&&(d=(i=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&i!==void 0?i:t[c]),d!=null&&(typeof d=="string"&&(kI(d)||DC(d))?d=parseFloat(d):!MI(d)&&Ri.test(l)&&(d=kC(c,l)),e.addValue(c,ko(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function FI(e,t){return t?(t[e]||t.default||t).from:void 0}function BI(e,t,n){const r={};for(const i in e){const s=FI(i,t);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function $I({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function MC(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(s=r);const l=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in a){const p=e.getValue(f),g=a[f];if(!p||g===void 0||d&&$I(d,f))continue;const h={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const S=e.getProps()[bM];S&&(h.elapsed=window.HandoffAppearAnimations(S,f,p,Je))}p.start(Qg(f,p,g,e.shouldReduceMotion&&us.has(f)?{type:!1}:h));const y=p.animation;Ku(c)&&(c.add(f),y.then(()=>c.remove(f))),l.push(y)}return o&&Promise.all(l).then(()=>{o&&jI(e,o)}),l}function Zh(e,t,n={}){const r=Pd(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(MC(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:l=0,staggerChildren:d,staggerDirection:f}=i;return UI(e,t,l+c,d,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,l]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>l())}else return Promise.all([s(),o(n.delay)])}function UI(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,c=i===1?(l=0)=>l*r:(l=0)=>a-l*r;return Array.from(e.variantChildren).sort(VI).forEach((l,d)=>{l.notify("AnimationStart",t),o.push(Zh(l,t,{...s,delay:n+c(d)}).then(()=>l.notify("AnimationComplete",t)))}),Promise.all(o)}function VI(e,t){return e.sortNodePosition(t)}function zI(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>Zh(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=Zh(e,t,n);else{const i=typeof t=="function"?Pd(e,t,n.custom):t;r=Promise.all(MC(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const HI=[...Lg].reverse(),WI=Lg.length;function GI(e){return t=>Promise.all(t.map(({animation:n,options:r})=>zI(e,n,r)))}function KI(e){let t=GI(e);const n=qI();let r=!0;const i=(c,l)=>{const d=Pd(e,l);if(d){const{transition:f,transitionEnd:p,...g}=d;c={...c,...g,...p}}return c};function s(c){t=c(e)}function o(c,l){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],g=new Set;let h={},y=1/0;for(let w=0;w<WI;w++){const _=HI[w],b=n[_],C=d[_]!==void 0?d[_]:f[_],L=uc(C),j=_===l?b.isActive:null;j===!1&&(y=w);let O=C===f[_]&&C!==d[_]&&L;if(O&&r&&e.manuallyAnimateOnMount&&(O=!1),b.protectedKeys={...h},!b.isActive&&j===null||!C&&!b.prevProp||Cd(C)||typeof C=="boolean")continue;const F=QI(b.prevProp,C);let Y=F||_===l&&b.isActive&&!O&&L||w>y&&L;const D=Array.isArray(C)?C:[C];let I=D.reduce(i,{});j===!1&&(I={});const{prevResolvedValues:G={}}=b,K={...G,...I},te=se=>{Y=!0,g.delete(se),b.needsAnimating[se]=!0};for(const se in K){const V=I[se],Q=G[se];h.hasOwnProperty(se)||(V!==Q?zu(V)&&zu(Q)?!rC(V,Q)||F?te(se):b.protectedKeys[se]=!0:V!==void 0?te(se):g.add(se):V!==void 0&&g.has(se)?te(se):b.protectedKeys[se]=!0)}b.prevProp=C,b.prevResolvedValues=I,b.isActive&&(h={...h,...I}),r&&e.blockInitialAnimation&&(Y=!1),Y&&!O&&p.push(...D.map(se=>({animation:se,options:{type:_,...c}})))}if(g.size){const w={};g.forEach(_=>{const b=e.getBaseTarget(_);b!==void 0&&(w[_]=b)}),p.push({animation:w})}let S=!!p.length;return r&&d.initial===!1&&!e.manuallyAnimateOnMount&&(S=!1),r=!1,S?t(p):Promise.resolve()}function a(c,l,d){var f;if(n[c].isActive===l)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(g=>{var h;return(h=g.animationState)===null||h===void 0?void 0:h.setActive(c,l)}),n[c].isActive=l;const p=o(d,c);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function QI(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!rC(t,e):!1}function Mi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qI(){return{animate:Mi(!0),whileInView:Mi(),whileHover:Mi(),whileTap:Mi(),whileDrag:Mi(),whileFocus:Mi(),exit:Mi()}}class YI extends Ei{constructor(t){super(t),t.animationState||(t.animationState=KI(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Cd(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let XI=0;class JI extends Ei{constructor(){super(...arguments),this.id=XI++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const ZI={animation:{Feature:YI},exit:{Feature:JI}},_0=(e,t)=>Math.abs(e-t);function ej(e,t){const n=_0(e.x,t.x),r=_0(e.y,t.y);return Math.sqrt(n**2+r**2)}class IC{constructor(t,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const l=dp(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,f=ej(l.offset,{x:0,y:0})>=3;if(!d&&!f)return;const{point:p}=l,{timestamp:g}=Ft;this.history.push({...p,timestamp:g});const{onStart:h,onMove:y}=this.handlers;d||(h&&h(this.lastMoveEvent,l),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,l)},this.handlePointerMove=(l,d)=>{this.lastMoveEvent=l,this.lastMoveEventInfo=up(d,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(l,d)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:p}=this.handlers,g=dp(l.type==="pointercancel"?this.lastMoveEventInfo:up(d,this.transformPagePoint),this.history);this.startEvent&&f&&f(l,g),p&&p(l,g)},!JR(t))return;this.handlers=n,this.transformPagePoint=r;const i=Ed(t),s=up(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=Ft;this.history=[{...o,timestamp:a}];const{onSessionStart:c}=n;c&&c(t,dp(s,this.history)),this.removeListeners=gi(Dr(window,"pointermove",this.handlePointerMove),Dr(window,"pointerup",this.handlePointerUp),Dr(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Nr(this.updatePoint)}}function up(e,t){return t?{point:t(e.point)}:e}function S0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function dp({point:e},t){return{point:e,delta:S0(e,jC(t)),offset:S0(e,tj(t)),velocity:nj(t,.1)}}function tj(e){return e[0]}function jC(e){return e[e.length-1]}function nj(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=jC(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>yi(t)));)n--;if(!r)return{x:0,y:0};const s=Ar(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function fn(e){return e.max-e.min}function em(e,t=0,n=.01){return Math.abs(e-t)<=n}function b0(e,t,n,r=.5){e.origin=r,e.originPoint=et(t.min,t.max,e.origin),e.scale=fn(n)/fn(t),(em(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=et(n.min,n.max,e.origin)-e.originPoint,(em(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Fa(e,t,n,r){b0(e.x,t.x,n.x,r?r.originX:void 0),b0(e.y,t.y,n.y,r?r.originY:void 0)}function R0(e,t,n){e.min=n.min+t.min,e.max=e.min+fn(t)}function rj(e,t,n){R0(e.x,t.x,n.x),R0(e.y,t.y,n.y)}function C0(e,t,n){e.min=t.min-n.min,e.max=e.min+fn(t)}function Ba(e,t,n){C0(e.x,t.x,n.x),C0(e.y,t.y,n.y)}function ij(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?et(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?et(n,e,r.max):Math.min(e,n)),e}function x0(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function sj(e,{top:t,left:n,bottom:r,right:i}){return{x:x0(e.x,n,i),y:x0(e.y,t,r)}}function T0(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function oj(e,t){return{x:T0(e.x,t.x),y:T0(e.y,t.y)}}function aj(e,t){let n=.5;const r=fn(e),i=fn(t);return i>r?n=fc(t.min,t.max-r,e.min):r>i&&(n=fc(e.min,e.max-i,t.min)),bi(0,1,n)}function cj(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const tm=.35;function lj(e=tm){return e===!1?e=0:e===!0&&(e=tm),{x:E0(e,"left","right"),y:E0(e,"top","bottom")}}function E0(e,t,n){return{min:P0(e,t),max:P0(e,n)}}function P0(e,t){return typeof e=="number"?e:e[t]||0}const k0=()=>({translate:0,scale:1,origin:0,originPoint:0}),ro=()=>({x:k0(),y:k0()}),D0=()=>({min:0,max:0}),mt=()=>({x:D0(),y:D0()});function sr(e){return[e("x"),e("y")]}function NC({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function uj({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function dj(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function fp(e){return e===void 0||e===1}function nm({scale:e,scaleX:t,scaleY:n}){return!fp(e)||!fp(t)||!fp(n)}function $i(e){return nm(e)||FC(e)||e.z||e.rotate||e.rotateX||e.rotateY}function FC(e){return A0(e.x)||A0(e.y)}function A0(e){return e&&e!=="0%"}function Qu(e,t,n){const r=e-n,i=t*r;return n+i}function L0(e,t,n,r,i){return i!==void 0&&(e=Qu(e,i,r)),Qu(e,n,r)+t}function rm(e,t=0,n=1,r,i){e.min=L0(e.min,t,n,r,i),e.max=L0(e.max,t,n,r,i)}function BC(e,{x:t,y:n}){rm(e.x,t.translate,t.scale,t.originPoint),rm(e.y,n.translate,n.scale,n.originPoint)}function fj(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const c=s.instance;c&&c.style&&c.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&io(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,BC(e,o)),r&&$i(s.latestValues)&&io(e,s.latestValues))}t.x=O0(t.x),t.y=O0(t.y)}function O0(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function ei(e,t){e.min=e.min+t,e.max=e.max+t}function M0(e,t,[n,r,i]){const s=t[i]!==void 0?t[i]:.5,o=et(e.min,e.max,s);rm(e,t[n],t[r],o,t.scale)}const pj=["x","scaleX","originX"],hj=["y","scaleY","originY"];function io(e,t){M0(e.x,t,pj),M0(e.y,t,hj)}function $C(e,t){return NC(dj(e.getBoundingClientRect(),t))}function mj(e,t,n){const r=$C(e,n),{scroll:i}=t;return i&&(ei(r.x,i.offset.x),ei(r.y,i.offset.y)),r}const gj=new WeakMap;class yj{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{this.stopAnimation(),n&&this.snapToCursor(Ed(c,"page").point)},s=(c,l)=>{const{drag:d,dragPropagation:f,onDragStart:p}=this.getProps();if(d&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=eC(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sr(h=>{let y=this.getAxisMotionValue(h).get()||0;if(fr.test(y)){const{projection:S}=this.visualElement;if(S&&S.layout){const w=S.layout.layoutBox[h];w&&(y=fn(w)*(parseFloat(y)/100))}}this.originPoint[h]=y}),p&&Je.update(()=>p(c,l),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(c,l)=>{const{dragPropagation:d,dragDirectionLock:f,onDirectionLock:p,onDrag:g}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:h}=l;if(f&&this.currentDirection===null){this.currentDirection=vj(h),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",l.point,h),this.updateAxis("y",l.point,h),this.visualElement.render(),g&&g(c,l)},a=(c,l)=>this.stop(c,l);this.panSession=new IC(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Je.update(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!bl(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=ij(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;t&&to(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=sj(r.layoutBox,t):this.constraints=!1,this.elastic=lj(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&sr(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=cj(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!to(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=mj(r,i.root,this.visualElement.getTransformPagePoint());let o=oj(i.layout.layoutBox,s);if(n){const a=n(uj(o));this.hasMutatedConstraints=!!a,a&&(o=NC(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},l=sr(d=>{if(!bl(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,h={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,h)});return Promise.all(l).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(Qg(t,r,0,n))}stopAnimation(){sr(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){sr(n=>{const{drag:r}=this.getProps();if(!bl(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-et(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!to(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};sr(o=>{const a=this.getAxisMotionValue(o);if(a){const c=a.get();i[o]=aj({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),sr(o=>{if(!bl(o,t,null))return;const a=this.getAxisMotionValue(o),{min:c,max:l}=this.constraints[o];a.set(et(c,l,i[o]))})}addListeners(){if(!this.visualElement.current)return;gj.set(this.visualElement,this);const t=this.visualElement.current,n=Dr(t,"pointerdown",c=>{const{drag:l,dragListener:d=!0}=this.getProps();l&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();to(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Pr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:l})=>{this.isDragging&&l&&(sr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=tm,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function bl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function vj(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class wj extends Ei{constructor(t){super(t),this.removeGroupControls=it,this.removeListeners=it,this.controls=new yj(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||it}unmount(){this.removeGroupControls(),this.removeListeners()}}const I0=e=>(t,n)=>{e&&Je.update(()=>e(t,n))};class _j extends Ei{constructor(){super(...arguments),this.removePointerDownListener=it}onPointerDown(t){this.session=new IC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:I0(t),onStart:I0(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Je.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Dr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Sj(){const e=T.useContext(bd);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=T.useId();return T.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const eu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function j0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const la={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(de.test(e))e=parseFloat(e);else return e;const n=j0(e,t.target.x),r=j0(e,t.target.y);return`${n}% ${r}%`}},bj={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Ri.parse(e);if(i.length>5)return r;const s=Ri.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=c;const l=et(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=l),typeof i[3+o]=="number"&&(i[3+o]/=l),s(i)}};class Rj extends st.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;kO(Cj),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),eu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Je.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function UC(e){const[t,n]=Sj(),r=T.useContext(Mg);return st.createElement(Rj,{...e,layoutGroup:r,switchLayoutGroup:T.useContext(NR),isPresent:t,safeToRemove:n})}const Cj={borderRadius:{...la,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:la,borderTopRightRadius:la,borderBottomLeftRadius:la,borderBottomRightRadius:la,boxShadow:bj},VC=["TopLeft","TopRight","BottomLeft","BottomRight"],xj=VC.length,N0=e=>typeof e=="string"?parseFloat(e):e,F0=e=>typeof e=="number"||de.test(e);function Tj(e,t,n,r,i,s){i?(e.opacity=et(0,n.opacity!==void 0?n.opacity:1,Ej(r)),e.opacityExit=et(t.opacity!==void 0?t.opacity:1,0,Pj(r))):s&&(e.opacity=et(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<xj;o++){const a=`border${VC[o]}Radius`;let c=B0(t,a),l=B0(n,a);if(c===void 0&&l===void 0)continue;c||(c=0),l||(l=0),c===0||l===0||F0(c)===F0(l)?(e[a]=Math.max(et(N0(c),N0(l),r),0),(fr.test(l)||fr.test(c))&&(e[a]+="%")):e[a]=l}(t.rotate||n.rotate)&&(e.rotate=et(t.rotate||0,n.rotate||0,r))}function B0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Ej=zC(0,.5,Hg),Pj=zC(.5,.95,it);function zC(e,t,n){return r=>r<e?0:r>t?1:n(fc(e,t,r))}function $0(e,t){e.min=t.min,e.max=t.max}function wn(e,t){$0(e.x,t.x),$0(e.y,t.y)}function U0(e,t,n,r,i){return e-=t,e=Qu(e,1/n,r),i!==void 0&&(e=Qu(e,1/i,r)),e}function kj(e,t=0,n=1,r=.5,i,s=e,o=e){if(fr.test(t)&&(t=parseFloat(t),t=et(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=et(s.min,s.max,r);e===s&&(a-=t),e.min=U0(e.min,t,n,a,i),e.max=U0(e.max,t,n,a,i)}function V0(e,t,[n,r,i],s,o){kj(e,t[n],t[r],t[i],t.scale,s,o)}const Dj=["x","scaleX","originX"],Aj=["y","scaleY","originY"];function z0(e,t,n,r){V0(e.x,t,Dj,n?n.x:void 0,r?r.x:void 0),V0(e.y,t,Aj,n?n.y:void 0,r?r.y:void 0)}function H0(e){return e.translate===0&&e.scale===1}function HC(e){return H0(e.x)&&H0(e.y)}function Lj(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function WC(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function W0(e){return fn(e.x)/fn(e.y)}class Oj{constructor(){this.members=[]}add(t){qg(this.members,t),t.scheduleRender()}remove(t){if(Yg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function G0(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:l,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),l&&(r+=`rotateX(${l}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const Mj=(e,t)=>e.depth-t.depth;class Ij{constructor(){this.children=[],this.isDirty=!1}add(t){qg(this.children,t),this.isDirty=!0}remove(t){Yg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Mj),this.isDirty=!1,this.children.forEach(t)}}function jj(e,t){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Nr(r),e(s-t))};return Je.read(r,!0),()=>Nr(r)}function Nj(e){window.MotionDebug&&window.MotionDebug.record(e)}function Fj(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Bj(e,t,n){const r=an(e)?e:ko(e);return r.start(Qg("",r,t,n)),r.animation}const K0=["","X","Y","Z"],Q0=1e3;let $j=0;const Ui={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function GC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=$j++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Ui.totalNodes=Ui.resolvedTargetDeltas=Ui.recalculatedProjection=0,this.nodes.forEach(zj),this.nodes.forEach(Qj),this.nodes.forEach(qj),this.nodes.forEach(Hj),Nj(Ui)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ij)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Xg),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Fj(o),this.instance=o;const{layoutId:c,layout:l,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(l||c)&&(this.isLayoutDirty=!0),e){let f;const p=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=jj(p,250),eu.hasAnimatedSinceResize&&(eu.hasAnimatedSinceResize=!1,this.nodes.forEach(Y0))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||l)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||e2,{onLayoutAnimationStart:S,onLayoutAnimationComplete:w}=d.getProps(),_=!this.targetLayout||!WC(this.targetLayout,h)||g,b=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const C={...AC(y,"layout"),onPlay:S,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||Y0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Nr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Yj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(q0);return}this.isUpdating||this.nodes.forEach(Gj),this.isUpdating=!1,this.nodes.forEach(Kj),this.nodes.forEach(Uj),this.nodes.forEach(Vj),this.clearAllSnapshots();const a=performance.now();Ft.delta=bi(0,1e3/60,a-Ft.timestamp),Ft.timestamp=a,Ft.isProcessing=!0,np.update.process(Ft),np.preRender.process(Ft),np.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Wj),this.sharedNodes.forEach(Xj)}scheduleUpdateProjection(){Je.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!HC(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,d=l!==this.prevTransformTemplateValue;o&&(a||$i(this.latestValues)||d)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),t2(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return mt();const a=o.measureViewportBox(),{scroll:c}=this.root;return c&&(ei(a.x,c.offset.x),ei(a.y,c.offset.y)),a}removeElementScroll(o){const a=mt();wn(a,o);for(let c=0;c<this.path.length;c++){const l=this.path[c],{scroll:d,options:f}=l;if(l!==this.root&&d&&f.layoutScroll){if(d.isRoot){wn(a,o);const{scroll:p}=this.root;p&&(ei(a.x,-p.offset.x),ei(a.y,-p.offset.y))}ei(a.x,d.offset.x),ei(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const c=mt();wn(c,o);for(let l=0;l<this.path.length;l++){const d=this.path[l];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&io(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),$i(d.latestValues)&&io(c,d.latestValues)}return $i(this.latestValues)&&io(c,this.latestValues),c}removeTransform(o){const a=mt();wn(a,o);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!$i(l.latestValues))continue;nm(l.latestValues)&&l.updateSnapshot();const d=mt(),f=l.measurePageBox();wn(d,f),z0(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,d)}return $i(this.latestValues)&&z0(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==c;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Ft.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Ba(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wn(this.target,this.layout.layoutBox),BC(this.target,this.targetDelta)):wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Ba(this.relativeTargetOrigin,this.target,g.target),wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ui.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||nm(this.parent.latestValues)||FC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(l=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(l=!1),l)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;wn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;fj(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:h}=a;if(!h){this.projectionTransform&&(this.projectionDelta=ro(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ro(),this.projectionDeltaWithTransform=ro());const y=this.projectionTransform;Fa(this.projectionDelta,this.layoutCorrected,h,this.latestValues),this.projectionTransform=G0(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==p||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h)),Ui.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const c=this.snapshot,l=c?c.latestValues:{},d={...this.latestValues},f=ro();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=mt(),g=c?c.source:void 0,h=this.layout?this.layout.source:void 0,y=g!==h,S=this.getStack(),w=!S||S.members.length<=1,_=!!(y&&!w&&this.options.crossfade===!0&&!this.path.some(Zj));this.animationProgress=0;let b;this.mixTargetDelta=C=>{const L=C/1e3;X0(f.x,o.x,L),X0(f.y,o.y,L),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ba(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Jj(this.relativeTarget,this.relativeTargetOrigin,p,L),b&&Lj(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=mt()),wn(b,this.relativeTarget)),y&&(this.animationValues=d,Tj(d,l,this.latestValues,L,_,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Nr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{eu.hasAnimatedSinceResize=!0,this.currentAnimation=Bj(0,Q0,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Q0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:l,latestValues:d}=o;if(!(!a||!c||!l)){if(this!==o&&this.layout&&l&&KC(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||mt();const f=fn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const p=fn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}wn(a,c),io(a,d),Fa(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Oj),this.sharedNodes.get(o).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const l={};for(let d=0;d<K0.length;d++){const f="rotate"+K0[d];c[f]&&(l[f]=c[f],o.setStaticValue(f,0))}o.render();for(const d in l)o.setStaticValue(d,l[d]);o.scheduleRender()}getProjectionStyles(o={}){var a,c;const l={};if(!this.instance||this.isSVG)return l;if(this.isVisible)l.visibility="";else return{visibility:"hidden"};const d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Zl(o.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none",l;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Zl(o.pointerEvents)||""),this.hasProjected&&!$i(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),l.transform=G0(this.projectionDeltaWithTransform,this.treeScale,p),d&&(l.transform=d(p,l.transform));const{x:g,y:h}=this.projectionDelta;l.transformOrigin=`${g.origin*100}% ${h.origin*100}% 0`,f.animationValues?l.opacity=f===this?(c=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in Uu){if(p[y]===void 0)continue;const{correct:S,applyTo:w}=Uu[y],_=l.transform==="none"?p[y]:S(p[y],f);if(w){const b=w.length;for(let C=0;C<b;C++)l[w[C]]=_}else l[y]=_}return this.options.layoutId&&(l.pointerEvents=f===this?Zl(o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(q0),this.root.sharedNodes.clear()}}}function Uj(e){e.updateLayout()}function Vj(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?sr(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],g=fn(p);p.min=r[f].min,p.max=p.min+g}):KC(s,n.layoutBox,r)&&sr(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],g=fn(r[f]);p.max=p.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const a=ro();Fa(a,r,n.layoutBox);const c=ro();o?Fa(c,e.applyTransform(i,!0),n.measuredBox):Fa(c,r,n.layoutBox);const l=!HC(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const h=mt();Ba(h,n.layoutBox,p.layoutBox);const y=mt();Ba(y,r,g.layoutBox),WC(h,y)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=h,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function zj(e){Ui.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Hj(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Wj(e){e.clearSnapshot()}function q0(e){e.clearMeasurements()}function Gj(e){e.isLayoutDirty=!1}function Kj(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Y0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Qj(e){e.resolveTargetDelta()}function qj(e){e.calcProjection()}function Yj(e){e.resetRotation()}function Xj(e){e.removeLeadSnapshot()}function X0(e,t,n){e.translate=et(t.translate,0,n),e.scale=et(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function J0(e,t,n,r){e.min=et(t.min,n.min,r),e.max=et(t.max,n.max,r)}function Jj(e,t,n,r){J0(e.x,t.x,n.x,r),J0(e.y,t.y,n.y,r)}function Zj(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const e2={duration:.45,ease:[.4,0,.1,1]},Z0=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),e_=Z0("applewebkit/")&&!Z0("chrome/")?Math.round:it;function t_(e){e.min=e_(e.min),e.max=e_(e.max)}function t2(e){t_(e.x),t_(e.y)}function KC(e,t,n){return e==="position"||e==="preserve-aspect"&&!em(W0(t),W0(n),.2)}const n2=GC({attachResizeListener:(e,t)=>Pr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pp={current:void 0},QC=GC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!pp.current){const e=new n2({});e.mount(window),e.setOptions({layoutScroll:!0}),pp.current=e}return pp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),r2={pan:{Feature:_j},drag:{Feature:wj,ProjectionNode:QC,MeasureLayout:UC}},i2=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function s2(e){const t=i2.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function im(e,t,n=1){const[r,i]=s2(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);return s?s.trim():Kh(i)?im(i,t,n+1):i}function o2(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const s=i.get();if(!Kh(s))return;const o=im(s,r);o&&i.set(o)});for(const i in t){const s=t[i];if(!Kh(s))continue;const o=im(s,r);o&&(t[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:t,transitionEnd:n}}const a2=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),qC=e=>a2.has(e),c2=e=>Object.keys(e).some(qC),n_=e=>e===ds||e===de,r_=(e,t)=>parseFloat(e.split(", ")[t]),i_=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return r_(i[1],t);{const s=r.match(/^matrix\((.+)\)$/);return s?r_(s[1],e):0}},l2=new Set(["x","y","z"]),u2=bc.filter(e=>!l2.has(e));function d2(e){const t=[];return u2.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Do={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:i_(4,13),y:i_(5,14)};Do.translateX=Do.x;Do.translateY=Do.y;const f2=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(l=>{a[l]=Do[l](r,s)}),t.render();const c=t.measureViewportBox();return n.forEach(l=>{const d=t.getValue(l);d&&d.jump(a[l]),e[l]=Do[l](c,s)}),e},p2=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(qC);let s=[],o=!1;const a=[];if(i.forEach(c=>{const l=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=ca(d);const p=t[c];let g;if(zu(p)){const h=p.length,y=p[0]===null?1:0;d=p[y],f=ca(d);for(let S=y;S<h&&p[S]!==null;S++)g?zg(ca(p[S])===g):g=ca(p[S])}else g=ca(p);if(f!==g)if(n_(f)&&n_(g)){const h=l.get();typeof h=="string"&&l.set(parseFloat(h)),typeof p=="string"?t[c]=parseFloat(p):Array.isArray(p)&&g===de&&(t[c]=p.map(parseFloat))}else f!=null&&f.transform&&(g!=null&&g.transform)&&(d===0||p===0)?d===0?l.set(g.transform(d)):t[c]=f.transform(p):(o||(s=d2(e),o=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:t[c],l.jump(p))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,l=f2(t,e,a);return s.length&&s.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Rd&&c!==null&&window.scrollTo({top:c}),{target:l,transitionEnd:r}}else return{target:t,transitionEnd:r}};function h2(e,t,n,r){return c2(t)?p2(e,t,n,r):{target:t,transitionEnd:r}}const m2=(e,t,n,r)=>{const i=o2(e,t,r);return t=i.target,r=i.transitionEnd,h2(e,t,n,r)},sm={current:null},YC={current:!1};function g2(){if(YC.current=!0,!!Rd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>sm.current=e.matches;e.addListener(t),t()}else sm.current=!1}function y2(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(an(s))e.addValue(i,s),Ku(r)&&r.add(i);else if(an(o))e.addValue(i,ko(s,{owner:e})),Ku(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const a=e.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=e.getStaticValue(i);e.addValue(i,ko(a!==void 0?a:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const s_=new WeakMap,XC=Object.keys(dc),v2=XC.length,o_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],w2=Og.length;class _2{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Je.render(this.render,!1,!0);const{latestValues:a,renderState:c}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=xd(n),this.isVariantNode=jR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:l,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];a[f]!==void 0&&an(p)&&(p.set(a[f],!1),Ku(l)&&l.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,s_.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),YC.current||g2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){s_.delete(this.current),this.projection&&this.projection.unmount(),Nr(this.notifyUpdate),Nr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=us.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Je.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,s){let o,a;for(let c=0;c<v2;c++){const l=XC[c],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:g}=dc[l];p&&(o=p),d(n)&&(!this.features[l]&&f&&(this.features[l]=new f(this)),g&&(a=g))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:l,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:g}=n;this.projection.setOptions({layoutId:c,layout:l,alwaysMeasureLayout:!!d||f&&to(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:g})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<o_.length;r++){const i=o_[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=t["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=y2(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<w2;r++){const i=Og[r],s=this.props[i];(uc(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ko(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Vg(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!an(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Xg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class JC extends _2{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},s){let o=BI(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){NI(this,r,o);const a=m2(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function S2(e){return window.getComputedStyle(e)}class b2 extends JC{readValueFromInstance(t,n){if(us.has(n)){const r=Kg(n);return r&&r.default||0}else{const r=S2(t),i=($R(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return $C(t,n)}build(t,n,r,i){jg(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Ug(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;an(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){GR(t,n,r,i)}}class R2 extends JC{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(us.has(n)){const r=Kg(n);return r&&r.default||0}return n=KR.has(n)?n:$g(n),t.getAttribute(n)}measureInstanceViewportBox(){return mt()}scrapeMotionValuesFromProps(t,n){return qR(t,n)}build(t,n,r,i){Fg(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){QR(t,n,r,i)}mount(t){this.isSVGTag=Bg(t.tagName),super.mount(t)}}const C2=(e,t)=>Ig(e)?new R2(t,{enableHardwareAcceleration:!1}):new b2(t,{enableHardwareAcceleration:!0}),x2={layout:{ProjectionNode:QC,MeasureLayout:UC}},T2={...ZI,...vM,...r2,...x2},Jg=EO((e,t)=>nM(e,t,T2,C2));function ZC(){const e=T.useRef(!1);return $u(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function E2(){const e=ZC(),[t,n]=T.useState(0),r=T.useCallback(()=>{e.current&&n(t+1)},[t]);return[T.useCallback(()=>Je.postRender(r),[r]),t]}class P2 extends T.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function k2({children:e,isPresent:t}){const n=T.useId(),r=T.useRef(null),i=T.useRef({width:0,height:0,top:0,left:0});return T.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:c}=i.current;if(t||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[t]),T.createElement(P2,{isPresent:t,childRef:r,sizeRef:i},T.cloneElement(e,{ref:r}))}const hp=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=YR(D2),c=T.useId(),l=T.useMemo(()=>({id:c,initial:t,isPresent:n,custom:i,onExitComplete:d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),s?void 0:[n]);return T.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),T.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=T.createElement(k2,{isPresent:n},e)),T.createElement(bd.Provider,{value:l},e)};function D2(){return new Map}function A2(e){return T.useEffect(()=>()=>e(),[])}const Bs=e=>e.key||"";function L2(e,t){e.forEach(n=>{const r=Bs(n);t.set(r,n)})}function O2(e){const t=[];return T.Children.forEach(e,n=>{T.isValidElement(n)&&t.push(n)}),t}const M2=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=T.useContext(Mg).forceRender||E2()[0],c=ZC(),l=O2(e);let d=l;const f=T.useRef(new Map).current,p=T.useRef(d),g=T.useRef(new Map).current,h=T.useRef(!0);if($u(()=>{h.current=!1,L2(l,g),p.current=d}),A2(()=>{h.current=!0,g.clear(),f.clear()}),h.current)return T.createElement(T.Fragment,null,d.map(_=>T.createElement(hp,{key:Bs(_),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},_)));d=[...d];const y=p.current.map(Bs),S=l.map(Bs),w=y.length;for(let _=0;_<w;_++){const b=y[_];S.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((_,b)=>{if(S.indexOf(b)!==-1)return;const C=g.get(b);if(!C)return;const L=y.indexOf(b);let j=_;if(!j){const O=()=>{g.delete(b),f.delete(b);const F=p.current.findIndex(Y=>Y.key===b);if(p.current.splice(F,1),!f.size){if(p.current=l,c.current===!1)return;a(),r&&r()}};j=T.createElement(hp,{key:Bs(C),isPresent:!1,onExitComplete:O,custom:t,presenceAffectsLayout:s,mode:o},C),f.set(b,j)}d.splice(L,0,j)}),d=d.map(_=>{const b=_.key;return f.has(b)?_:T.createElement(hp,{key:Bs(_),isPresent:!0,presenceAffectsLayout:s,mode:o},_)}),T.createElement(T.Fragment,null,f.size?d:d.map(_=>T.cloneElement(_)))},mp=[["a_bass_03","a_bass_04","a_bassfill_01"],["a_bass_01","a_bass_02","a_stab_01"],["a_arp_01","a_piano_01","a_vox_01"],["a_kick_01","a_hat_01","a_snare_01"]],Zg=[];for(let e=0;e<mp.length;e++){const t=[];for(let n=0;n<mp[0].length;n++)t.push(new Audio(`/dpmaudio/dubstep_club_${mp[e][n]}.wav`));Zg.push([...t])}const gp=new Audio("/mp3/dubstep_drum_trap_loop.mp3"),a_=new Audio("/mp3/warp1.mp3");function Tc(){a_.currentTime=0,a_.play()}const ex={roomId:"Empty",description:"",peersNum:-1},tx=[{roomId:"room1",description:"This is Room 1!!!",peersNum:0},{roomId:"soloroom1",description:"솔로 모드 입니다 :)",peersNum:0},{roomId:"room2",description:"This is Room 2!!!",peersNum:0},{roomId:"room3",description:"This is Room 3!!!",peersNum:0},{roomId:"soloroom2",description:"솔로 모드 입니다 :)",peersNum:0},{roomId:"soloroom3",description:"솔로 모드 입니다 :)",peersNum:0}];for(let e=0;e<6;e++)tx.push(ex);const I2={type:"spring",damping:10,stiffness:100};function j2(){const[e,t]=T.useState(!1),[n,r]=T.useState(null),[i,s]=T.useState(tx),o=yg(),a=T.useRef(null),c=T.useCallback(()=>{alert(`[${a.current.value}] 방이 생성되었습니다 :)`);let l="game";a.current.value.toLowerCase().includes("solo")&&(l="sologame"),o(`/${l}/${a.current.value}`)},[a,o]);return T.useEffect(()=>{const l=[];hO().then(d=>{const f=Object.keys(d).length;if(f>0){Object.keys(d).forEach(p=>{l.push({roomId:p,description:`[${p}] 방입니다!`,peersNum:f})});for(let p=0;p<12-f;p++)l.push(ex);s(l)}}).catch(()=>{console.log("data is nothing in server")})},[]),k.jsx(k.Fragment,{children:k.jsxs(fO,{children:[k.jsx(Dg,{to:"/main",onClick:Tc,children:k.jsx(Ag,{size:"30",color:"black"})}),k.jsxs(pO,{onSubmit:c,children:[k.jsx("input",{placeholder:"Room ID",ref:a}),k.jsx(So,{variant:"primary",type:"submit",children:"Create"})]}),k.jsx("table",{style:{borderCollapse:"separate",borderSpacing:"30px"},children:k.jsx("tbody",{children:Array(4).fill(0).map((l,d)=>k.jsx("tr",{children:i==null?void 0:i.slice(d*3,d*3+3).map((f,p)=>k.jsx("td",{children:k.jsxs(Jg.div,{transition:I2,whileHover:{scale:1.1},whileTap:{scale:.8},style:{backgroundColor:"white",opacity:.8,display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",width:"18rem",height:"18rem",boxShadow:`5px 5px 10px ${Bu[(d*3+p)%Bu.length]}`},onClick:()=>{f.roomId!=="Empty"&&(r(f),t(!0))},children:[k.jsx("h3",{children:f.roomId}),f.description,k.jsx("p",{children:f.roomId=="Empty"?"":`현재인원 ${f.peersNum}`})]})},p))},d))})}),k.jsx(uL,{roomInfo:n,show:e,onHide:()=>{t(!1)}})]})})}const N2=Ye.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  color: white;
  height: 70vh;
`;function F2(){return k.jsx(k.Fragment,{children:k.jsxs(N2,{children:[k.jsx(Dg,{to:"/main",onClick:Tc,children:k.jsx(Ag,{size:"30",color:"black"})}),k.jsx("h2",{children:"This is Ranking Page."})]})})}const B2=Ye.p`
  margin: 20px;
  color: #ffffff;
  display: inline-block;
  cursor: pointer;
  font-size: 5vmin;
  font-weight: 300;
  transition: font-weight 200ms ease-in-out;

  &:hover {
    color: rgb(25, 255, 94);
    font-weight: 1000;
    font-size: 6vmin;
  }
`;function $2({menu:e}){return k.jsx(B2,{children:e.name})}const U2=Ye.div`
  position: fixed;
  display: flex;
  flex-direction: column;
  top: 0;
  left: 0;
  width: 28vw;
  height: 100vh;
  align-items: center;
  justify-content: center;
  text-align: center;
  font-size: 40px;
  z-index: 100;
  text-shadow:
    0 8px 9px #010300,
    0px -2px 1px #ffffff;
`;function nx({items:e}){return k.jsx(U2,{children:e.map((t,n)=>k.jsx(Fo,{to:`/main/${t.path}`,onClick:Tc,style:{textDecoration:"none"},children:k.jsx($2,{menu:t})},n))})}const V2=Ye.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100vh;
`,rx=Ye.video`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: -1;
`,ix=Ye.div`
  position: fixed;
  font-family: "establishRetrosansOTF";
  text-transform: uppercase;
  display: block;
  font-size: 92px;
  color: #ffffffce;
  text-shadow:
    0 8px 9px #010300,
    0px -2px 1px #ffffff;
  font-weight: bold;
  letter-spacing: -4px;
  text-align: center;
  top: 10%;
  left: 50%;
  transform: translate(-50%, -50%);
  border-radius: 20px;
`;function z2(){return k.jsxs(k.Fragment,{children:[k.jsx(nx,{items:Mx.slice(1)}),k.jsx("header",{children:k.jsx(ix,{children:"Hands Up!"})}),k.jsx(mO,{})]})}const H2=Ye.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  color: white;
  height: 90vh;
`,sx=Ye.table`
  border-collapse: separate;
  border-spacing: 10px;
  width: ${Eo-10}vw;
  height: ${Po-10}vh;
`,W2=dO`
  0% {
    background-color: currentColor;
    opacity: 1;
  }
  100% {
    background-color: white;
    opacity: 0.4;
  }
`,ox=Ye(Jg.td)`
  position: relative;
  border: 4px solid ${e=>e.flashcolor};
  text-align: center;
  vertical-align: middle;
  color: ${e=>e.flashcolor};
  background-color: white;
  opacity: 0.5;
  cursor: pointer;

  &.flash {
    animation: ${W2} 0.5s;
  }

  &.gameover {
    border: 4px solid black;
    background-color: white;
    opacity: 1;
    z-index: 1000;
  }
`;function G2(e,t,n,r){const o=[[1,0],[0,1],[-1,0],[0,-1]],a=[];let c=100;for(a.push([e,t]),n[e][t]=!0;a.length>0;){const[l,d]=a.shift(),f=[];for(const p of o){const g=l+p[0],h=d+p[1];g>=0&&g<4&&h>=0&&h<3&&!n[g][h]&&(a.push([g,h]),n[g][h]=!0,f.push([g,h]))}setTimeout(()=>{const p=Array.from({length:4},()=>Array(3).fill(0));f.map(g=>{p[g[0]][g[1]]=1}),r(p)},c),c+=100}setTimeout(()=>{const l=Array.from({length:4},()=>Array(3).fill(0));r(l)},600)}function K2({row:e,column:t}){const[n,r]=T.useState(Array.from({length:e},()=>Array(t).fill(0))),i=T.useCallback((a,c)=>{const l=[...n];l[a][c]=2,r([...l]);const d=Zg[a][c];d.currentTime=0,d.play();const f=Array(4).fill(!1).map(()=>Array(3).fill(!1));G2(a,c,f,r)},[n]),s=a=>k.jsx("tr",{children:Array.from({length:t},(c,l)=>o(a,l))},a),o=(a,c)=>k.jsx(ox,{flashcolor:Bu[c],initial:{scale:1},animate:n[a][c]>=1?{scale:[.8,1.2,.8,1]}:{},transition:{type:"spring",stiffness:150,duration:1},className:n[a][c]===2?"flash":"",onClick:()=>i(a,c)},c);return k.jsx(sx,{children:k.jsx("tbody",{children:Array.from({length:e},(a,c)=>s(c))})})}const Q2=T.memo(K2);var ax={exports:{}};(function(e,t){(function(r,i){e.exports=i(T)})(B,function(n){return function(r){var i={};function s(o){if(i[o])return i[o].exports;var a=i[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=r,s.c=i,s.d=function(o,a,c){s.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:c})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,a){if(a&1&&(o=s(o)),a&8||a&4&&typeof o=="object"&&o&&o.__esModule)return o;var c=Object.create(null);if(s.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:o}),a&2&&typeof o!="string")for(var l in o)s.d(c,l,(function(d){return o[d]}).bind(null,l));return c},s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,"a",a),a},s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s.p="",s(s.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,i,s){s.r(i);var o=s("react"),a=function(){var p=function(g,h){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,S){y.__proto__=S}||function(y,S){for(var w in S)S.hasOwnProperty(w)&&(y[w]=S[w])},p(g,h)};return function(g,h){p(g,h);function y(){this.constructor=g}g.prototype=h===null?Object.create(h):(y.prototype=h.prototype,new y)}}(),c=function(){return c=Object.assign||function(p){for(var g,h=1,y=arguments.length;h<y;h++){g=arguments[h];for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&(p[S]=g[S])}return p},c.apply(this,arguments)},l=function(p,g){var h={};for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&g.indexOf(y)<0&&(h[y]=p[y]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,y=Object.getOwnPropertySymbols(p);S<y.length;S++)g.indexOf(y[S])<0&&Object.prototype.propertyIsEnumerable.call(p,y[S])&&(h[y[S]]=p[y[S]]);return h};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(g){var h=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return h?new Promise(function(y,S){h.call(navigator,g,y,S)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function d(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var f=function(p){a(g,p);function g(h){var y=p.call(this,h)||this;return y.canvas=null,y.ctx=null,y.requestUserMediaId=0,y.unmounted=!1,y.state={hasUserMedia:!1},y}return g.prototype.componentDidMount=function(){var h=this,y=h.state,S=h.props;if(this.unmounted=!1,!d()){S.onUserMediaError("getUserMedia not supported");return}y.hasUserMedia||this.requestUserMedia(),S.children&&typeof S.children!="function"&&console.warn("children must be a function")},g.prototype.componentDidUpdate=function(h){var y=this.props;if(!d()){y.onUserMediaError("getUserMedia not supported");return}var S=JSON.stringify(h.audioConstraints)!==JSON.stringify(y.audioConstraints),w=JSON.stringify(h.videoConstraints)!==JSON.stringify(y.videoConstraints),_=h.minScreenshotWidth!==y.minScreenshotWidth,b=h.minScreenshotHeight!==y.minScreenshotHeight;(w||_||b)&&(this.canvas=null,this.ctx=null),(S||w)&&(this.stopAndCleanup(),this.requestUserMedia())},g.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},g.stopMediaStream=function(h){h&&(h.getVideoTracks&&h.getAudioTracks?(h.getVideoTracks().map(function(y){h.removeTrack(y),y.stop()}),h.getAudioTracks().map(function(y){h.removeTrack(y),y.stop()})):h.stop())},g.prototype.stopAndCleanup=function(){var h=this.state;h.hasUserMedia&&(g.stopMediaStream(this.stream),h.src&&window.URL.revokeObjectURL(h.src))},g.prototype.getScreenshot=function(h){var y=this,S=y.state,w=y.props;if(!S.hasUserMedia)return null;var _=this.getCanvas(h);return _&&_.toDataURL(w.screenshotFormat,w.screenshotQuality)},g.prototype.getCanvas=function(h){var y=this,S=y.state,w=y.props;if(!this.video||!S.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var _=this.video.videoWidth,b=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var C=_/b;_=w.minScreenshotWidth||this.video.clientWidth,b=_/C,w.minScreenshotHeight&&b<w.minScreenshotHeight&&(b=w.minScreenshotHeight,_=b*C)}this.canvas=document.createElement("canvas"),this.canvas.width=(h==null?void 0:h.width)||_,this.canvas.height=(h==null?void 0:h.height)||b,this.ctx=this.canvas.getContext("2d")}var L=this,j=L.ctx,O=L.canvas;return j&&O&&(O.width=(h==null?void 0:h.width)||O.width,O.height=(h==null?void 0:h.height)||O.height,w.mirrored&&(j.translate(O.width,0),j.scale(-1,1)),j.imageSmoothingEnabled=w.imageSmoothing,j.drawImage(this.video,0,0,(h==null?void 0:h.width)||O.width,(h==null?void 0:h.height)||O.height),w.mirrored&&(j.scale(-1,1),j.translate(-O.width,0))),O},g.prototype.requestUserMedia=function(){var h=this,y=this.props,S=function(b,C){var L={video:typeof C<"u"?C:!0};y.audio&&(L.audio=typeof b<"u"?b:!0),h.requestUserMediaId++;var j=h.requestUserMediaId;navigator.mediaDevices.getUserMedia(L).then(function(O){h.unmounted||j!==h.requestUserMediaId?g.stopMediaStream(O):h.handleUserMedia(null,O)}).catch(function(O){h.handleUserMedia(O)})};if("mediaDevices"in navigator)S(y.audioConstraints,y.videoConstraints);else{var w=function(b){return{optional:[{sourceId:b}]}},_=function(b){var C=b.deviceId;return typeof C=="string"?C:Array.isArray(C)&&C.length>0?C[0]:typeof C=="object"&&C.ideal?C.ideal:null};MediaStreamTrack.getSources(function(b){var C=null,L=null;b.forEach(function(F){F.kind==="audio"?C=F.id:F.kind==="video"&&(L=F.id)});var j=_(y.audioConstraints);j&&(C=j);var O=_(y.videoConstraints);O&&(L=O),S(w(C),w(L))})}},g.prototype.handleUserMedia=function(h,y){var S=this.props;if(h||!y){this.setState({hasUserMedia:!1}),S.onUserMediaError(h);return}this.stream=y;try{this.video&&(this.video.srcObject=y),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(y)})}S.onUserMedia(y)},g.prototype.render=function(){var h=this,y=this,S=y.state,w=y.props,_=w.audio;w.forceScreenshotSourceSize,w.onUserMedia,w.onUserMediaError,w.screenshotFormat,w.screenshotQuality,w.minScreenshotWidth,w.minScreenshotHeight,w.audioConstraints,w.videoConstraints,w.imageSmoothing;var b=w.mirrored,C=w.style,L=C===void 0?{}:C,j=w.children,O=l(w,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),F=b?c(c({},L),{transform:(L.transform||"")+" scaleX(-1)"}):L,Y={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",c({autoPlay:!0,src:S.src,muted:!_,playsInline:!0,ref:function(D){h.video=D},style:F},O)),j&&j(Y))},g.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},g}(o.Component);i.default=f},react:function(r,i){r.exports=n}}).default})})(ax);var q2=ax.exports;const Y2=hc(q2);var X2={};(function(){function e(D){var I=0;return function(){return I<D.length?{done:!1,value:D[I++]}:{done:!0}}}var t=typeof Object.defineProperties=="function"?Object.defineProperty:function(D,I,G){return D==Array.prototype||D==Object.prototype||(D[I]=G.value),D};function n(D){D=[typeof globalThis=="object"&&globalThis,D,typeof window=="object"&&window,typeof self=="object"&&self,typeof B=="object"&&B];for(var I=0;I<D.length;++I){var G=D[I];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}var r=n(this);function i(D,I){if(I)e:{var G=r;D=D.split(".");for(var K=0;K<D.length-1;K++){var te=D[K];if(!(te in G))break e;G=G[te]}D=D[D.length-1],K=G[D],I=I(K),I!=K&&I!=null&&t(G,D,{configurable:!0,writable:!0,value:I})}}i("Symbol",function(D){function I(se){if(this instanceof I)throw new TypeError("Symbol is not a constructor");return new G(K+(se||"")+"_"+te++,se)}function G(se,V){this.g=se,t(this,"description",{configurable:!0,writable:!0,value:V})}if(D)return D;G.prototype.toString=function(){return this.g};var K="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",te=0;return I}),i("Symbol.iterator",function(D){if(D)return D;D=Symbol("Symbol.iterator");for(var I="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),G=0;G<I.length;G++){var K=r[I[G]];typeof K=="function"&&typeof K.prototype[D]!="function"&&t(K.prototype,D,{configurable:!0,writable:!0,value:function(){return s(e(this))}})}return D});function s(D){return D={next:D},D[Symbol.iterator]=function(){return this},D}function o(D){var I=typeof Symbol<"u"&&Symbol.iterator&&D[Symbol.iterator];return I?I.call(D):{next:e(D)}}function a(){this.i=!1,this.g=null,this.o=void 0,this.j=1,this.m=0,this.h=null}function c(D){if(D.i)throw new TypeError("Generator is already running");D.i=!0}a.prototype.l=function(D){this.o=D};function l(D,I){D.h={F:I,G:!0},D.j=D.m}a.prototype.return=function(D){this.h={return:D},this.j=this.m};function d(D){this.g=new a,this.h=D}function f(D,I){c(D.g);var G=D.g.g;return G?p(D,"return"in G?G.return:function(K){return{value:K,done:!0}},I,D.g.return):(D.g.return(I),g(D))}function p(D,I,G,K){try{var te=I.call(D.g.g,G);if(!(te instanceof Object))throw new TypeError("Iterator result "+te+" is not an object");if(!te.done)return D.g.i=!1,te;var se=te.value}catch(V){return D.g.g=null,l(D.g,V),g(D)}return D.g.g=null,K.call(D.g,se),g(D)}function g(D){for(;D.g.j;)try{var I=D.h(D.g);if(I)return D.g.i=!1,{value:I.value,done:!1}}catch(G){D.g.o=void 0,l(D.g,G)}if(D.g.i=!1,D.g.h){if(I=D.g.h,D.g.h=null,I.G)throw I.F;return{value:I.return,done:!0}}return{value:void 0,done:!0}}function h(D){this.next=function(I){return c(D.g),D.g.g?I=p(D,D.g.g.next,I,D.g.l):(D.g.l(I),I=g(D)),I},this.throw=function(I){return c(D.g),D.g.g?I=p(D,D.g.g.throw,I,D.g.l):(l(D.g,I),I=g(D)),I},this.return=function(I){return f(D,I)},this[Symbol.iterator]=function(){return this}}function y(D){function I(K){return D.next(K)}function G(K){return D.throw(K)}return new Promise(function(K,te){function se(V){V.done?K(V.value):Promise.resolve(V.value).then(I,G).then(se,te)}se(D.next())})}i("Promise",function(D){function I(V){this.h=0,this.i=void 0,this.g=[],this.o=!1;var Q=this.j();try{V(Q.resolve,Q.reject)}catch(M){Q.reject(M)}}function G(){this.g=null}function K(V){return V instanceof I?V:new I(function(Q){Q(V)})}if(D)return D;G.prototype.h=function(V){if(this.g==null){this.g=[];var Q=this;this.i(function(){Q.l()})}this.g.push(V)};var te=r.setTimeout;G.prototype.i=function(V){te(V,0)},G.prototype.l=function(){for(;this.g&&this.g.length;){var V=this.g;this.g=[];for(var Q=0;Q<V.length;++Q){var M=V[Q];V[Q]=null;try{M()}catch($){this.j($)}}}this.g=null},G.prototype.j=function(V){this.i(function(){throw V})},I.prototype.j=function(){function V($){return function(H){M||(M=!0,$.call(Q,H))}}var Q=this,M=!1;return{resolve:V(this.A),reject:V(this.l)}},I.prototype.A=function(V){if(V===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(V instanceof I)this.C(V);else{e:switch(typeof V){case"object":var Q=V!=null;break e;case"function":Q=!0;break e;default:Q=!1}Q?this.v(V):this.m(V)}},I.prototype.v=function(V){var Q=void 0;try{Q=V.then}catch(M){this.l(M);return}typeof Q=="function"?this.D(Q,V):this.m(V)},I.prototype.l=function(V){this.u(2,V)},I.prototype.m=function(V){this.u(1,V)},I.prototype.u=function(V,Q){if(this.h!=0)throw Error("Cannot settle("+V+", "+Q+"): Promise already settled in state"+this.h);this.h=V,this.i=Q,this.h===2&&this.B(),this.H()},I.prototype.B=function(){var V=this;te(function(){if(V.I()){var Q=r.console;typeof Q<"u"&&Q.error(V.i)}},1)},I.prototype.I=function(){if(this.o)return!1;var V=r.CustomEvent,Q=r.Event,M=r.dispatchEvent;return typeof M>"u"?!0:(typeof V=="function"?V=new V("unhandledrejection",{cancelable:!0}):typeof Q=="function"?V=new Q("unhandledrejection",{cancelable:!0}):(V=r.document.createEvent("CustomEvent"),V.initCustomEvent("unhandledrejection",!1,!0,V)),V.promise=this,V.reason=this.i,M(V))},I.prototype.H=function(){if(this.g!=null){for(var V=0;V<this.g.length;++V)se.h(this.g[V]);this.g=null}};var se=new G;return I.prototype.C=function(V){var Q=this.j();V.s(Q.resolve,Q.reject)},I.prototype.D=function(V,Q){var M=this.j();try{V.call(Q,M.resolve,M.reject)}catch($){M.reject($)}},I.prototype.then=function(V,Q){function M(ne,ge){return typeof ne=="function"?function(Se){try{$(ne(Se))}catch(Oe){H(Oe)}}:ge}var $,H,X=new I(function(ne,ge){$=ne,H=ge});return this.s(M(V,$),M(Q,H)),X},I.prototype.catch=function(V){return this.then(void 0,V)},I.prototype.s=function(V,Q){function M(){switch($.h){case 1:V($.i);break;case 2:Q($.i);break;default:throw Error("Unexpected state: "+$.h)}}var $=this;this.g==null?se.h(M):this.g.push(M),this.o=!0},I.resolve=K,I.reject=function(V){return new I(function(Q,M){M(V)})},I.race=function(V){return new I(function(Q,M){for(var $=o(V),H=$.next();!H.done;H=$.next())K(H.value).s(Q,M)})},I.all=function(V){var Q=o(V),M=Q.next();return M.done?K([]):new I(function($,H){function X(Se){return function(Oe){ne[Se]=Oe,ge--,ge==0&&$(ne)}}var ne=[],ge=0;do ne.push(void 0),ge++,K(M.value).s(X(ne.length-1),H),M=Q.next();while(!M.done)})},I});var S=typeof Object.assign=="function"?Object.assign:function(D,I){for(var G=1;G<arguments.length;G++){var K=arguments[G];if(K)for(var te in K)Object.prototype.hasOwnProperty.call(K,te)&&(D[te]=K[te])}return D};i("Object.assign",function(D){return D||S});var w=this||self,_={facingMode:"user",width:640,height:480};function b(D,I){this.video=D,this.i=0,this.h=Object.assign(Object.assign({},_),I)}b.prototype.stop=function(){var D=this,I,G,K,te;return y(new h(new d(function(se){if(D.g){for(I=D.g.getTracks(),G=o(I),K=G.next();!K.done;K=G.next())te=K.value,te.stop();D.g=void 0}se.j=0})))},b.prototype.start=function(){var D=this,I;return y(new h(new d(function(G){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert("No navigator.mediaDevices.getUserMedia exists."),I=D.h,G.return(navigator.mediaDevices.getUserMedia({video:{facingMode:I.facingMode,width:I.width,height:I.height}}).then(function(K){L(D,K)}).catch(function(K){var te="Failed to acquire camera feed: "+K;throw console.error(te),alert(te),K}))})))};function C(D){window.requestAnimationFrame(function(){j(D)})}function L(D,I){D.g=I,D.video.srcObject=I,D.video.onloadedmetadata=function(){D.video.play(),C(D)}}function j(D){var I=null;D.video.paused||D.video.currentTime===D.i||(D.i=D.video.currentTime,I=D.h.onFrame()),I?I.then(function(){C(D)}):C(D)}var O=["Camera"],F=w;O[0]in F||typeof F.execScript>"u"||F.execScript("var "+O[0]);for(var Y;O.length&&(Y=O.shift());)O.length||b===void 0?F[Y]&&F[Y]!==Object.prototype[Y]?F=F[Y]:F=F[Y]={}:F[Y]=b}).call(B);var cx={};(function(){var e;function t(u){var m=0;return function(){return m<u.length?{done:!1,value:u[m++]}:{done:!0}}}var n=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof B=="object"&&B];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=r(this);function s(u,m){if(m)e:{var v=i;u=u.split(".");for(var R=0;R<u.length-1;R++){var x=u[R];if(!(x in v))break e;v=v[x]}u=u[u.length-1],R=v[u],m=m(R),m!=R&&m!=null&&n(v,u,{configurable:!0,writable:!0,value:m})}}s("Symbol",function(u){function m(P){if(this instanceof m)throw new TypeError("Symbol is not a constructor");return new v(R+(P||"")+"_"+x++,P)}function v(P,E){this.h=P,n(this,"description",{configurable:!0,writable:!0,value:E})}if(u)return u;v.prototype.toString=function(){return this.h};var R="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",x=0;return m}),s("Symbol.iterator",function(u){if(u)return u;u=Symbol("Symbol.iterator");for(var m="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),v=0;v<m.length;v++){var R=i[m[v]];typeof R=="function"&&typeof R.prototype[u]!="function"&&n(R.prototype,u,{configurable:!0,writable:!0,value:function(){return o(t(this))}})}return u});function o(u){return u={next:u},u[Symbol.iterator]=function(){return this},u}function a(u){var m=typeof Symbol<"u"&&Symbol.iterator&&u[Symbol.iterator];return m?m.call(u):{next:t(u)}}function c(u){if(!(u instanceof Array)){u=a(u);for(var m,v=[];!(m=u.next()).done;)v.push(m.value);u=v}return u}var l=typeof Object.assign=="function"?Object.assign:function(u,m){for(var v=1;v<arguments.length;v++){var R=arguments[v];if(R)for(var x in R)Object.prototype.hasOwnProperty.call(R,x)&&(u[x]=R[x])}return u};s("Object.assign",function(u){return u||l});var d=typeof Object.create=="function"?Object.create:function(u){function m(){}return m.prototype=u,new m},f;if(typeof Object.setPrototypeOf=="function")f=Object.setPrototypeOf;else{var p;e:{var g={a:!0},h={};try{h.__proto__=g,p=h.a;break e}catch{}p=!1}f=p?function(u,m){if(u.__proto__=m,u.__proto__!==m)throw new TypeError(u+" is not extensible");return u}:null}var y=f;function S(u,m){if(u.prototype=d(m.prototype),u.prototype.constructor=u,y)y(u,m);else for(var v in m)if(v!="prototype")if(Object.defineProperties){var R=Object.getOwnPropertyDescriptor(m,v);R&&Object.defineProperty(u,v,R)}else u[v]=m[v];u.ya=m.prototype}function w(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function _(u){if(u.m)throw new TypeError("Generator is already running");u.m=!0}w.prototype.u=function(u){this.i=u};function b(u,m){u.l={ma:m,na:!0},u.h=u.s||u.v}w.prototype.return=function(u){this.l={return:u},this.h=this.v};function C(u,m,v){return u.h=v,{value:m}}function L(u){this.h=new w,this.i=u}function j(u,m){_(u.h);var v=u.h.j;return v?O(u,"return"in v?v.return:function(R){return{value:R,done:!0}},m,u.h.return):(u.h.return(m),F(u))}function O(u,m,v,R){try{var x=m.call(u.h.j,v);if(!(x instanceof Object))throw new TypeError("Iterator result "+x+" is not an object");if(!x.done)return u.h.m=!1,x;var P=x.value}catch(E){return u.h.j=null,b(u.h,E),F(u)}return u.h.j=null,R.call(u.h,P),F(u)}function F(u){for(;u.h.h;)try{var m=u.i(u.h);if(m)return u.h.m=!1,{value:m.value,done:!1}}catch(v){u.h.i=void 0,b(u.h,v)}if(u.h.m=!1,u.h.l){if(m=u.h.l,u.h.l=null,m.na)throw m.ma;return{value:m.return,done:!0}}return{value:void 0,done:!0}}function Y(u){this.next=function(m){return _(u.h),u.h.j?m=O(u,u.h.j.next,m,u.h.u):(u.h.u(m),m=F(u)),m},this.throw=function(m){return _(u.h),u.h.j?m=O(u,u.h.j.throw,m,u.h.u):(b(u.h,m),m=F(u)),m},this.return=function(m){return j(u,m)},this[Symbol.iterator]=function(){return this}}function D(u){function m(R){return u.next(R)}function v(R){return u.throw(R)}return new Promise(function(R,x){function P(E){E.done?R(E.value):Promise.resolve(E.value).then(m,v).then(P,x)}P(u.next())})}function I(u){return D(new Y(new L(u)))}s("Promise",function(u){function m(E){this.i=0,this.j=void 0,this.h=[],this.u=!1;var A=this.l();try{E(A.resolve,A.reject)}catch(N){A.reject(N)}}function v(){this.h=null}function R(E){return E instanceof m?E:new m(function(A){A(E)})}if(u)return u;v.prototype.i=function(E){if(this.h==null){this.h=[];var A=this;this.j(function(){A.m()})}this.h.push(E)};var x=i.setTimeout;v.prototype.j=function(E){x(E,0)},v.prototype.m=function(){for(;this.h&&this.h.length;){var E=this.h;this.h=[];for(var A=0;A<E.length;++A){var N=E[A];E[A]=null;try{N()}catch(z){this.l(z)}}}this.h=null},v.prototype.l=function(E){this.j(function(){throw E})},m.prototype.l=function(){function E(z){return function(q){N||(N=!0,z.call(A,q))}}var A=this,N=!1;return{resolve:E(this.I),reject:E(this.m)}},m.prototype.I=function(E){if(E===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(E instanceof m)this.L(E);else{e:switch(typeof E){case"object":var A=E!=null;break e;case"function":A=!0;break e;default:A=!1}A?this.F(E):this.s(E)}},m.prototype.F=function(E){var A=void 0;try{A=E.then}catch(N){this.m(N);return}typeof A=="function"?this.M(A,E):this.s(E)},m.prototype.m=function(E){this.v(2,E)},m.prototype.s=function(E){this.v(1,E)},m.prototype.v=function(E,A){if(this.i!=0)throw Error("Cannot settle("+E+", "+A+"): Promise already settled in state"+this.i);this.i=E,this.j=A,this.i===2&&this.K(),this.H()},m.prototype.K=function(){var E=this;x(function(){if(E.D()){var A=i.console;typeof A<"u"&&A.error(E.j)}},1)},m.prototype.D=function(){if(this.u)return!1;var E=i.CustomEvent,A=i.Event,N=i.dispatchEvent;return typeof N>"u"?!0:(typeof E=="function"?E=new E("unhandledrejection",{cancelable:!0}):typeof A=="function"?E=new A("unhandledrejection",{cancelable:!0}):(E=i.document.createEvent("CustomEvent"),E.initCustomEvent("unhandledrejection",!1,!0,E)),E.promise=this,E.reason=this.j,N(E))},m.prototype.H=function(){if(this.h!=null){for(var E=0;E<this.h.length;++E)P.i(this.h[E]);this.h=null}};var P=new v;return m.prototype.L=function(E){var A=this.l();E.T(A.resolve,A.reject)},m.prototype.M=function(E,A){var N=this.l();try{E.call(A,N.resolve,N.reject)}catch(z){N.reject(z)}},m.prototype.then=function(E,A){function N(re,J){return typeof re=="function"?function(he){try{z(re(he))}catch(_e){q(_e)}}:J}var z,q,pe=new m(function(re,J){z=re,q=J});return this.T(N(E,z),N(A,q)),pe},m.prototype.catch=function(E){return this.then(void 0,E)},m.prototype.T=function(E,A){function N(){switch(z.i){case 1:E(z.j);break;case 2:A(z.j);break;default:throw Error("Unexpected state: "+z.i)}}var z=this;this.h==null?P.i(N):this.h.push(N),this.u=!0},m.resolve=R,m.reject=function(E){return new m(function(A,N){N(E)})},m.race=function(E){return new m(function(A,N){for(var z=a(E),q=z.next();!q.done;q=z.next())R(q.value).T(A,N)})},m.all=function(E){var A=a(E),N=A.next();return N.done?R([]):new m(function(z,q){function pe(he){return function(_e){re[he]=_e,J--,J==0&&z(re)}}var re=[],J=0;do re.push(void 0),J++,R(N.value).T(pe(re.length-1),q),N=A.next();while(!N.done)})},m});function G(u,m){u instanceof String&&(u+="");var v=0,R=!1,x={next:function(){if(!R&&v<u.length){var P=v++;return{value:m(P,u[P]),done:!1}}return R=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}s("Array.prototype.keys",function(u){return u||function(){return G(this,function(m){return m})}}),s("Array.prototype.fill",function(u){return u||function(m,v,R){var x=this.length||0;for(0>v&&(v=Math.max(0,x+v)),(R==null||R>x)&&(R=x),R=Number(R),0>R&&(R=Math.max(0,x+R)),v=Number(v||0);v<R;v++)this[v]=m;return this}});function K(u){return u||Array.prototype.fill}s("Int8Array.prototype.fill",K),s("Uint8Array.prototype.fill",K),s("Uint8ClampedArray.prototype.fill",K),s("Int16Array.prototype.fill",K),s("Uint16Array.prototype.fill",K),s("Int32Array.prototype.fill",K),s("Uint32Array.prototype.fill",K),s("Float32Array.prototype.fill",K),s("Float64Array.prototype.fill",K),s("Object.is",function(u){return u||function(m,v){return m===v?m!==0||1/m===1/v:m!==m&&v!==v}}),s("Array.prototype.includes",function(u){return u||function(m,v){var R=this;R instanceof String&&(R=String(R));var x=R.length;for(v=v||0,0>v&&(v=Math.max(v+x,0));v<x;v++){var P=R[v];if(P===m||Object.is(P,m))return!0}return!1}}),s("String.prototype.includes",function(u){return u||function(m,v){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(m instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(m,v||0)!==-1}});var te=this||self;function se(u,m){u=u.split(".");var v=te;u[0]in v||typeof v.execScript>"u"||v.execScript("var "+u[0]);for(var R;u.length&&(R=u.shift());)u.length||m===void 0?v[R]&&v[R]!==Object.prototype[R]?v=v[R]:v=v[R]={}:v[R]=m}function V(u){var m;e:{if((m=te.navigator)&&(m=m.userAgent))break e;m=""}return m.indexOf(u)!=-1}var Q=Array.prototype.map?function(u,m){return Array.prototype.map.call(u,m,void 0)}:function(u,m){for(var v=u.length,R=Array(v),x=typeof u=="string"?u.split(""):u,P=0;P<v;P++)P in x&&(R[P]=m.call(void 0,x[P],P,u));return R},M={},$=null;function H(u){var m=u.length,v=3*m/4;v%3?v=Math.floor(v):"=.".indexOf(u[m-1])!=-1&&(v="=.".indexOf(u[m-2])!=-1?v-2:v-1);var R=new Uint8Array(v),x=0;return X(u,function(P){R[x++]=P}),x!==v?R.subarray(0,x):R}function X(u,m){function v(N){for(;R<u.length;){var z=u.charAt(R++),q=$[z];if(q!=null)return q;if(!/^[\s\xa0]*$/.test(z))throw Error("Unknown base64 encoding at char: "+z)}return N}ne();for(var R=0;;){var x=v(-1),P=v(0),E=v(64),A=v(64);if(A===64&&x===-1)break;m(x<<2|P>>4),E!=64&&(m(P<<4&240|E>>2),A!=64&&m(E<<6&192|A))}}function ne(){if(!$){$={};for(var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),m=["+/=","+/","-_=","-_.","-_"],v=0;5>v;v++){var R=u.concat(m[v].split(""));M[v]=R;for(var x=0;x<R.length;x++){var P=R[x];$[P]===void 0&&($[P]=x)}}}}var ge=typeof Uint8Array<"u",Se=!(V("Trident")||V("MSIE"))&&typeof te.btoa=="function";function Oe(u){if(!Se){var m;m===void 0&&(m=0),ne(),m=M[m];for(var v=Array(Math.floor(u.length/3)),R=m[64]||"",x=0,P=0;x<u.length-2;x+=3){var E=u[x],A=u[x+1],N=u[x+2],z=m[E>>2];E=m[(E&3)<<4|A>>4],A=m[(A&15)<<2|N>>6],N=m[N&63],v[P++]=z+E+A+N}switch(z=0,N=R,u.length-x){case 2:z=u[x+1],N=m[(z&15)<<2]||R;case 1:u=u[x],v[P]=m[u>>2]+m[(u&3)<<4|z>>4]+N+R}return v.join("")}for(m="";10240<u.length;)m+=String.fromCharCode.apply(null,u.subarray(0,10240)),u=u.subarray(10240);return m+=String.fromCharCode.apply(null,u),btoa(m)}var Te=RegExp("[-_.]","g");function We(u){switch(u){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function Ut(u){if(!Se)return H(u);Te.test(u)&&(u=u.replace(Te,We)),u=atob(u);for(var m=new Uint8Array(u.length),v=0;v<u.length;v++)m[v]=u.charCodeAt(v);return m}var at;function Ve(){return at||(at=new Uint8Array(0))}var ct={},qt=typeof Uint8Array.prototype.slice=="function",Me=0,Ne=0;function Be(u){var m=0>u;u=Math.abs(u);var v=u>>>0;u=Math.floor((u-v)/4294967296),m&&(v=a(Yt(v,u)),m=v.next().value,u=v.next().value,v=m),Me=v>>>0,Ne=u>>>0}var zn=typeof BigInt=="function";function Yt(u,m){return m=~m,u?u=~u+1:m+=1,[u,m]}function Ur(u,m){this.i=u>>>0,this.h=m>>>0}function hs(u){if(!u)return Pi||(Pi=new Ur(0,0));if(!/^-?\d+$/.test(u))return null;if(16>u.length)Be(Number(u));else if(zn)u=BigInt(u),Me=Number(u&BigInt(4294967295))>>>0,Ne=Number(u>>BigInt(32)&BigInt(4294967295));else{var m=+(u[0]==="-");Ne=Me=0;for(var v=u.length,R=m,x=(v-m)%6+m;x<=v;R=x,x+=6)R=Number(u.slice(R,x)),Ne*=1e6,Me=1e6*Me+R,4294967296<=Me&&(Ne+=Me/4294967296|0,Me%=4294967296);m&&(m=a(Yt(Me,Ne)),u=m.next().value,m=m.next().value,Me=u,Ne=m)}return new Ur(Me,Ne)}var Pi;function ki(u,m){return Error("Invalid wire type: "+u+" (at position "+m+")")}function kt(){return Error("Failed to read varint, encoding is invalid.")}function gn(u,m){return Error("Tried to read past the end of the data "+m+" > "+u)}function Xt(){throw Error("Invalid UTF8")}function Z(u,m){return m=String.fromCharCode.apply(null,m),u==null?m:u+m}var ye=void 0,le,$e=typeof TextDecoder<"u",Dn,yn=typeof TextEncoder<"u",Ee;function fe(u){if(u!==ct)throw Error("illegal external caller")}function It(u,m){if(fe(m),this.V=u,u!=null&&u.length===0)throw Error("ByteString should be constructed with non-empty values")}function Di(){return Ee||(Ee=new It(null,ct))}function Ko(u){fe(ct);var m=u.V;return m=m==null||ge&&m!=null&&m instanceof Uint8Array?m:typeof m=="string"?Ut(m):null,m==null?m:u.V=m}function DT(u){if(typeof u=="string")return{buffer:Ut(u),C:!1};if(Array.isArray(u))return{buffer:new Uint8Array(u),C:!1};if(u.constructor===Uint8Array)return{buffer:u,C:!1};if(u.constructor===ArrayBuffer)return{buffer:new Uint8Array(u),C:!1};if(u.constructor===It)return{buffer:Ko(u)||Ve(),C:!0};if(u instanceof Uint8Array)return{buffer:new Uint8Array(u.buffer,u.byteOffset,u.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function Dy(u,m){this.i=null,this.m=!1,this.h=this.j=this.l=0,ef(this,u,m)}function ef(u,m,v){v=v===void 0?{}:v,u.S=v.S===void 0?!1:v.S,m&&(m=DT(m),u.i=m.buffer,u.m=m.C,u.l=0,u.j=u.i.length,u.h=u.l)}Dy.prototype.reset=function(){this.h=this.l};function Ai(u,m){if(u.h=m,m>u.j)throw gn(u.j,m)}function Qo(u){var m=u.i,v=u.h,R=m[v++],x=R&127;if(R&128&&(R=m[v++],x|=(R&127)<<7,R&128&&(R=m[v++],x|=(R&127)<<14,R&128&&(R=m[v++],x|=(R&127)<<21,R&128&&(R=m[v++],x|=R<<28,R&128&&m[v++]&128&&m[v++]&128&&m[v++]&128&&m[v++]&128&&m[v++]&128)))))throw kt();return Ai(u,v),x}function Ay(u,m){if(0>m)throw Error("Tried to read a negative byte length: "+m);var v=u.h,R=v+m;if(R>u.j)throw gn(m,u.j-v);return u.h=R,v}var Ly=[];function tf(){this.h=[]}tf.prototype.length=function(){return this.h.length},tf.prototype.end=function(){var u=this.h;return this.h=[],u};function Oy(u,m,v){for(;0<v||127<m;)u.h.push(m&127|128),m=(m>>>7|v<<25)>>>0,v>>>=7;u.h.push(m)}function Li(u,m){for(;127<m;)u.h.push(m&127|128),m>>>=7;u.h.push(m)}function nf(u,m){if(Ly.length){var v=Ly.pop();ef(v,u,m),u=v}else u=new Dy(u,m);this.h=u,this.j=this.h.h,this.i=this.l=-1,this.setOptions(m)}nf.prototype.setOptions=function(u){u=u===void 0?{}:u,this.ca=u.ca===void 0?!1:u.ca},nf.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};function My(u){var m=u.h;if(m.h==m.j)return!1;u.j=u.h.h;var v=Qo(u.h)>>>0;if(m=v>>>3,v&=7,!(0<=v&&5>=v))throw ki(v,u.j);if(1>m)throw Error("Invalid field number: "+m+" (at position "+u.j+")");return u.l=m,u.i=v,!0}function Uc(u){switch(u.i){case 0:if(u.i!=0)Uc(u);else e:{u=u.h;for(var m=u.h,v=m+10,R=u.i;m<v;)if(!(R[m++]&128)){Ai(u,m);break e}throw kt()}break;case 1:u=u.h,Ai(u,u.h+8);break;case 2:u.i!=2?Uc(u):(m=Qo(u.h)>>>0,u=u.h,Ai(u,u.h+m));break;case 5:u=u.h,Ai(u,u.h+4);break;case 3:m=u.l;do{if(!My(u))throw Error("Unmatched start-group tag: stream EOF");if(u.i==4){if(u.l!=m)throw Error("Unmatched end-group tag");break}Uc(u)}while(1);break;default:throw ki(u.i,u.j)}}var Vc=[];function AT(){this.j=[],this.i=0,this.h=new tf}function ms(u,m){m.length!==0&&(u.j.push(m),u.i+=m.length)}function LT(u,m){if(m=m.R){ms(u,u.h.end());for(var v=0;v<m.length;v++)ms(u,Ko(m[v])||Ve())}}var _r=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():void 0;function Oi(u,m){return _r?u[_r]|=m:u.A!==void 0?u.A|=m:(Object.defineProperties(u,{A:{value:m,configurable:!0,writable:!0,enumerable:!1}}),m)}function Iy(u,m){_r?u[_r]&&(u[_r]&=~m):u.A!==void 0&&(u.A&=~m)}function lt(u){var m;return _r?m=u[_r]:m=u.A,m??0}function Hn(u,m){_r?u[_r]=m:u.A!==void 0?u.A=m:Object.defineProperties(u,{A:{value:m,configurable:!0,writable:!0,enumerable:!1}})}function rf(u){return Oi(u,1),u}function OT(u,m){Hn(m,(u|0)&-51)}function zc(u,m){Hn(m,(u|18)&-41)}var sf={};function Hc(u){return u!==null&&typeof u=="object"&&!Array.isArray(u)&&u.constructor===Object}var qo,jy=[];Hn(jy,23),qo=Object.freeze(jy);function of(u){if(lt(u.o)&2)throw Error("Cannot mutate an immutable Message")}function af(u){var m=u.length;(m=m?u[m-1]:void 0)&&Hc(m)?m.g=1:(m={},u.push((m.g=1,m)))}function Ny(u){var m=u.i+u.G;return u.B||(u.B=u.o[m]={})}function An(u,m){return m===-1?null:m>=u.i?u.B?u.B[m]:void 0:u.o[m+u.G]}function Wn(u,m,v,R){of(u),Yo(u,m,v,R)}function Yo(u,m,v,R){u.j&&(u.j=void 0),m>=u.i||R?Ny(u)[m]=v:(u.o[m+u.G]=v,(u=u.B)&&m in u&&delete u[m])}function cf(u,m,v,R){var x=An(u,m);Array.isArray(x)||(x=qo);var P=lt(x);if(P&1||rf(x),R)P&2||Oi(x,2),v&1||Object.freeze(x);else{R=!(v&2);var E=P&2;v&1||!E?R&&P&16&&!E&&Iy(x,16):(x=rf(Array.prototype.slice.call(x)),Yo(u,m,x))}return x}function lf(u,m){var v=An(u,m),R=v==null?v:typeof v=="number"||v==="NaN"||v==="Infinity"||v==="-Infinity"?Number(v):void 0;return R!=null&&R!==v&&Yo(u,m,R),R}function Fy(u,m,v,R,x){u.h||(u.h={});var P=u.h[v],E=cf(u,v,3,x);if(!P){var A=E;P=[];var N=!!(lt(u.o)&16);E=!!(lt(A)&2);var z=A;!x&&E&&(A=Array.prototype.slice.call(A));for(var q=E,pe=0;pe<A.length;pe++){var re=A[pe],J=m,he=!1;if(he=he===void 0?!1:he,re=Array.isArray(re)?new J(re):he?new J:void 0,re!==void 0){J=re.o;var _e=he=lt(J);E&&(_e|=2),N&&(_e|=16),_e!=he&&Hn(J,_e),J=_e,q=q||!!(2&J),P.push(re)}}return u.h[v]=P,N=lt(A),m=N|33,m=q?m&-9:m|8,N!=m&&(q=A,Object.isFrozen(q)&&(q=Array.prototype.slice.call(q)),Hn(q,m),A=q),z!==A&&Yo(u,v,A),(x||R&&E)&&Oi(P,2),R&&Object.freeze(P),P}return x||(x=Object.isFrozen(P),R&&!x?Object.freeze(P):!R&&x&&(P=Array.prototype.slice.call(P),u.h[v]=P)),P}function Wc(u,m,v){var R=!!(lt(u.o)&2);if(m=Fy(u,m,v,R,R),u=cf(u,v,3,R),!(R||lt(u)&8)){for(R=0;R<m.length;R++){if(v=m[R],lt(v.o)&2){var x=Hy(v,!1);x.j=v}else x=v;v!==x&&(m[R]=x,u[R]=x.o)}Oi(u,8)}return m}function Gn(u,m,v){if(v!=null&&typeof v!="number")throw Error("Value of float/double field must be a number|null|undefined, found "+typeof v+": "+v);Wn(u,m,v)}function By(u,m,v,R,x){of(u);var P=Fy(u,v,m,!1,!1);return v=R??new v,u=cf(u,m,2,!1),x!=null?(P.splice(x,0,v),u.splice(x,0,v.o)):(P.push(v),u.push(v.o)),v.C()&&Iy(u,8),v}function Gc(u,m){return u??m}function Kn(u,m,v){return v=v===void 0?0:v,Gc(lf(u,m),v)}var Kc;function MT(u){switch(typeof u){case"number":return isFinite(u)?u:String(u);case"object":if(u)if(Array.isArray(u)){if(lt(u)&128)return u=Array.prototype.slice.call(u),af(u),u}else{if(ge&&u!=null&&u instanceof Uint8Array)return Oe(u);if(u instanceof It){var m=u.V;return m==null?"":typeof m=="string"?m:u.V=Oe(m)}}}return u}function $y(u,m,v,R){if(u!=null){if(Array.isArray(u))u=uf(u,m,v,R!==void 0);else if(Hc(u)){var x={},P;for(P in u)x[P]=$y(u[P],m,v,R);u=x}else u=m(u,R);return u}}function uf(u,m,v,R){var x=lt(u);R=R?!!(x&16):void 0,u=Array.prototype.slice.call(u);for(var P=0;P<u.length;P++)u[P]=$y(u[P],m,v,R);return v(x,u),u}function IT(u){return u.ja===sf?u.toJSON():MT(u)}function jT(u,m){u&128&&af(m)}function Uy(u,m,v){if(v=v===void 0?zc:v,u!=null){if(ge&&u instanceof Uint8Array)return u.length?new It(new Uint8Array(u),ct):Di();if(Array.isArray(u)){var R=lt(u);return R&2?u:m&&!(R&32)&&(R&16||R===0)?(Hn(u,R|2),u):(u=uf(u,Uy,R&4?zc:v,!0),m=lt(u),m&4&&m&2&&Object.freeze(u),u)}return u.ja===sf?zy(u):u}}function Vy(u,m,v,R,x,P,E){if(u=u.h&&u.h[v]){if(R=lt(u),R&2?R=u:(P=Q(u,zy),zc(R,P),Object.freeze(P),R=P),of(m),E=R==null?qo:rf([]),R!=null){for(P=!!R.length,u=0;u<R.length;u++){var A=R[u];P=P&&!(lt(A.o)&2),E[u]=A.o}P=(P?8:0)|1,u=lt(E),(u&P)!==P&&(Object.isFrozen(E)&&(E=Array.prototype.slice.call(E)),Hn(E,u|P)),m.h||(m.h={}),m.h[v]=R}else m.h&&(m.h[v]=void 0);Yo(m,v,E,x)}else Wn(m,v,Uy(R,P,E),x)}function zy(u){return lt(u.o)&2||(u=Hy(u,!0),Oi(u.o,2)),u}function Hy(u,m){var v=u.o,R=[];Oi(R,16);var x=u.constructor.h;if(x&&R.push(x),x=u.B,x){R.length=v.length,R.fill(void 0,R.length,v.length);var P={};R[R.length-1]=P}lt(v)&128&&af(R),m=m||u.C()?zc:OT,P=u.constructor,Kc=R,R=new P(R),Kc=void 0,u.R&&(R.R=u.R.slice()),P=!!(lt(v)&16);for(var E=x?v.length-1:v.length,A=0;A<E;A++)Vy(u,R,A-u.G,v[A],!1,P,m);if(x)for(var N in x)Vy(u,R,+N,x[N],!0,P,m);return R}function Jt(u,m,v){u==null&&(u=Kc),Kc=void 0;var R=this.constructor.i||0,x=0<R,P=this.constructor.h,E=!1;if(u==null){u=P?[P]:[];var A=48,N=!0;x&&(R=0,A|=128),Hn(u,A)}else{if(!Array.isArray(u)||P&&P!==u[0])throw Error();var z=A=Oi(u,0);if((N=(16&z)!==0)&&((E=(32&z)!==0)||(z|=32)),x){if(128&z)R=0;else if(0<u.length){var q=u[u.length-1];if(Hc(q)&&"g"in q){R=0,z|=128,delete q.g;var pe=!0,re;for(re in q){pe=!1;break}pe&&u.pop()}}}else if(128&z)throw Error();A!==z&&Hn(u,z)}this.G=(P?0:-1)-R,this.h=void 0,this.o=u;e:{if(P=this.o.length,R=P-1,P&&(P=this.o[R],Hc(P))){this.B=P,this.i=R-this.G;break e}m!==void 0&&-1<m?(this.i=Math.max(m,R+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE}if(!x&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(v){m=N&&!E&&!0,x=this.i;var J;for(N=0;N<v.length;N++)E=v[N],E<x?(E+=this.G,(R=u[E])?Wy(R,m):u[E]=qo):(J||(J=Ny(this)),(R=J[E])?Wy(R,m):J[E]=qo)}}Jt.prototype.toJSON=function(){return uf(this.o,IT,jT)},Jt.prototype.C=function(){return!!(lt(this.o)&2)};function Wy(u,m){if(Array.isArray(u)){var v=lt(u),R=1;!m||v&2||(R|=16),(v&R)!==R&&Hn(u,v|R)}}Jt.prototype.ja=sf,Jt.prototype.toString=function(){return this.o.toString()};function Gy(u,m,v){if(v){var R={},x;for(x in v){var P=v[x],E=P.qa;E||(R.J=P.wa||P.oa.W,P.ia?(R.aa=Xy(P.ia),E=function(A){return function(N,z,q){return A.J(N,z,q,A.aa)}}(R)):P.ka?(R.Z=Jy(P.da.P,P.ka),E=function(A){return function(N,z,q){return A.J(N,z,q,A.Z)}}(R)):E=R.J,P.qa=E),E(m,u,P.da),R={J:R.J,aa:R.aa,Z:R.Z}}}LT(m,u)}var Qc=Symbol();function Ky(u,m,v){return u[Qc]||(u[Qc]=function(R,x){return m(R,x,v)})}function Qy(u){var m=u[Qc];if(!m){var v=ff(u);m=function(R,x){return Zy(R,x,v)},u[Qc]=m}return m}function NT(u){var m=u.ia;if(m)return Qy(m);if(m=u.va)return Ky(u.da.P,m,u.ka)}function FT(u){var m=NT(u),v=u.da,R=u.oa.U;return m?function(x,P){return R(x,P,v,m)}:function(x,P){return R(x,P,v)}}function qy(u,m){var v=u[m];return typeof v=="function"&&v.length===0&&(v=v(),u[m]=v),Array.isArray(v)&&(Jo in v||Xo in v||0<v.length&&typeof v[0]=="function")?v:void 0}function Yy(u,m,v,R,x,P){m.P=u[0];var E=1;if(u.length>E&&typeof u[E]!="number"){var A=u[E++];v(m,A)}for(;E<u.length;){v=u[E++];for(var N=E+1;N<u.length&&typeof u[N]!="number";)N++;switch(A=u[E++],N-=E,N){case 0:R(m,v,A);break;case 1:(N=qy(u,E))?(E++,x(m,v,A,N)):R(m,v,A,u[E++]);break;case 2:N=E++,N=qy(u,N),x(m,v,A,N,u[E++]);break;case 3:P(m,v,A,u[E++],u[E++],u[E++]);break;case 4:P(m,v,A,u[E++],u[E++],u[E++],u[E++]);break;default:throw Error("unexpected number of binary field arguments: "+N)}}return m}var qc=Symbol();function Xy(u){var m=u[qc];if(!m){var v=df(u);m=function(R,x){return ev(R,x,v)},u[qc]=m}return m}function Jy(u,m){var v=u[qc];return v||(v=function(R,x){return Gy(R,x,m)},u[qc]=v),v}var Xo=Symbol();function BT(u,m){u.push(m)}function $T(u,m,v){u.push(m,v.W)}function UT(u,m,v,R){var x=Xy(R),P=df(R).P,E=v.W;u.push(m,function(A,N,z){return E(A,N,z,P,x)})}function VT(u,m,v,R,x,P){var E=Jy(R,P),A=v.W;u.push(m,function(N,z,q){return A(N,z,q,R,E)})}function df(u){var m=u[Xo];return m||(m=Yy(u,u[Xo]=[],BT,$T,UT,VT),Jo in u&&Xo in u&&(u.length=0),m)}var Jo=Symbol();function zT(u,m){u[0]=m}function HT(u,m,v,R){var x=v.U;u[m]=R?function(P,E,A){return x(P,E,A,R)}:x}function WT(u,m,v,R,x){var P=v.U,E=Qy(R),A=ff(R).P;u[m]=function(N,z,q){return P(N,z,q,A,E,x)}}function GT(u,m,v,R,x,P,E){var A=v.U,N=Ky(R,x,P);u[m]=function(z,q,pe){return A(z,q,pe,R,N,E)}}function ff(u){var m=u[Jo];return m||(m=Yy(u,u[Jo]={},zT,HT,WT,GT),Jo in u&&Xo in u&&(u.length=0),m)}function Zy(u,m,v){for(;My(m)&&m.i!=4;){var R=m.l,x=v[R];if(!x){var P=v[0];P&&(P=P[R])&&(x=v[R]=FT(P))}if(!x||!x(m,u,R)){x=m,R=u,P=x.j,Uc(x);var E=x;if(!E.ca){if(x=E.h.h-P,E.h.h=P,E=E.h,x==0)x=Di();else{if(P=Ay(E,x),E.S&&E.m)x=E.i.subarray(P,P+x);else{E=E.i;var A=P;x=P+x,x=A===x?Ve():qt?E.slice(A,x):new Uint8Array(E.subarray(A,x))}x=x.length==0?Di():new It(x,ct)}(P=R.R)?P.push(x):R.R=[x]}}}return u}function ev(u,m,v){for(var R=v.length,x=R%2==1,P=x?1:0;P<R;P+=2)(0,v[P+1])(m,u,v[P]);Gy(u,m,x?v[0]:void 0)}function Zo(u,m){return{U:u,W:m}}var Ln=Zo(function(u,m,v){if(u.i!==5)return!1;u=u.h;var R=u.i,x=u.h,P=R[x],E=R[x+1],A=R[x+2];return R=R[x+3],Ai(u,u.h+4),E=(P<<0|E<<8|A<<16|R<<24)>>>0,u=2*(E>>31)+1,P=E>>>23&255,E&=8388607,Wn(m,v,P==255?E?NaN:1/0*u:P==0?u*Math.pow(2,-149)*E:u*Math.pow(2,P-150)*(E+Math.pow(2,23))),!0},function(u,m,v){if(m=lf(m,v),m!=null){Li(u.h,8*v+5),u=u.h;var R=+m;R===0?0<1/R?Me=Ne=0:(Ne=0,Me=2147483648):isNaN(R)?(Ne=0,Me=2147483647):(R=(v=0>R?-2147483648:0)?-R:R,34028234663852886e22<R?(Ne=0,Me=(v|2139095040)>>>0):11754943508222875e-54>R?(R=Math.round(R/Math.pow(2,-149)),Ne=0,Me=(v|R)>>>0):(m=Math.floor(Math.log(R)/Math.LN2),R*=Math.pow(2,-m),R=Math.round(8388608*R),16777216<=R&&++m,Ne=0,Me=(v|m+127<<23|R&8388607)>>>0)),v=Me,u.h.push(v>>>0&255),u.h.push(v>>>8&255),u.h.push(v>>>16&255),u.h.push(v>>>24&255)}}),KT=Zo(function(u,m,v){if(u.i!==0)return!1;var R=u.h,x=0,P=u=0,E=R.i,A=R.h;do{var N=E[A++];x|=(N&127)<<P,P+=7}while(32>P&&N&128);for(32<P&&(u|=(N&127)>>4),P=3;32>P&&N&128;P+=7)N=E[A++],u|=(N&127)<<P;if(Ai(R,A),128>N)R=x>>>0,N=u>>>0,(u=N&2147483648)&&(R=~R+1>>>0,N=~N>>>0,R==0&&(N=N+1>>>0)),R=4294967296*N+(R>>>0);else throw kt();return Wn(m,v,u?-R:R),!0},function(u,m,v){m=An(m,v),m!=null&&(typeof m=="string"&&hs(m),m!=null&&(Li(u.h,8*v),typeof m=="number"?(u=u.h,Be(m),Oy(u,Me,Ne)):(v=hs(m),Oy(u.h,v.i,v.h))))}),QT=Zo(function(u,m,v){return u.i!==0?!1:(Wn(m,v,Qo(u.h)),!0)},function(u,m,v){if(m=An(m,v),m!=null&&m!=null)if(Li(u.h,8*v),u=u.h,v=m,0<=v)Li(u,v);else{for(m=0;9>m;m++)u.h.push(v&127|128),v>>=7;u.h.push(1)}}),tv=Zo(function(u,m,v){if(u.i!==2)return!1;var R=Qo(u.h)>>>0;u=u.h;var x=Ay(u,R);if(u=u.i,$e){var P=u,E;(E=le)||(E=le=new TextDecoder("utf-8",{fatal:!0})),u=x+R,P=x===0&&u===P.length?P:P.subarray(x,u);try{var A=E.decode(P)}catch(pe){if(ye===void 0){try{E.decode(new Uint8Array([128]))}catch{}try{E.decode(new Uint8Array([97])),ye=!0}catch{ye=!1}}throw!ye&&(le=void 0),pe}}else{A=x,R=A+R,x=[];for(var N=null,z,q;A<R;)z=u[A++],128>z?x.push(z):224>z?A>=R?Xt():(q=u[A++],194>z||(q&192)!==128?(A--,Xt()):x.push((z&31)<<6|q&63)):240>z?A>=R-1?Xt():(q=u[A++],(q&192)!==128||z===224&&160>q||z===237&&160<=q||((P=u[A++])&192)!==128?(A--,Xt()):x.push((z&15)<<12|(q&63)<<6|P&63)):244>=z?A>=R-2?Xt():(q=u[A++],(q&192)!==128||(z<<28)+(q-144)>>30||((P=u[A++])&192)!==128||((E=u[A++])&192)!==128?(A--,Xt()):(z=(z&7)<<18|(q&63)<<12|(P&63)<<6|E&63,z-=65536,x.push((z>>10&1023)+55296,(z&1023)+56320))):Xt(),8192<=x.length&&(N=Z(N,x),x.length=0);A=Z(N,x)}return Wn(m,v,A),!0},function(u,m,v){if(m=An(m,v),m!=null){var R=!1;if(R=R===void 0?!1:R,yn){if(R&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(m))throw Error("Found an unpaired surrogate");m=(Dn||(Dn=new TextEncoder)).encode(m)}else{for(var x=0,P=new Uint8Array(3*m.length),E=0;E<m.length;E++){var A=m.charCodeAt(E);if(128>A)P[x++]=A;else{if(2048>A)P[x++]=A>>6|192;else{if(55296<=A&&57343>=A){if(56319>=A&&E<m.length){var N=m.charCodeAt(++E);if(56320<=N&&57343>=N){A=1024*(A-55296)+N-56320+65536,P[x++]=A>>18|240,P[x++]=A>>12&63|128,P[x++]=A>>6&63|128,P[x++]=A&63|128;continue}else E--}if(R)throw Error("Found an unpaired surrogate");A=65533}P[x++]=A>>12|224,P[x++]=A>>6&63|128}P[x++]=A&63|128}}m=x===P.length?P:P.subarray(0,x)}Li(u.h,8*v+2),Li(u.h,m.length),ms(u,u.h.end()),ms(u,m)}}),nv=Zo(function(u,m,v,R,x){if(u.i!==2)return!1;m=By(m,v,R),v=u.h.j,R=Qo(u.h)>>>0;var P=u.h.h+R,E=P-v;if(0>=E&&(u.h.j=P,x(m,u,void 0,void 0,void 0),E=P-u.h.h),E)throw Error("Message parsing ended unexpectedly. Expected to read "+(R+" bytes, instead read "+(R-E)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return u.h.h=P,u.h.j=v,!0},function(u,m,v,R,x){if(m=Wc(m,R,v),m!=null)for(R=0;R<m.length;R++){var P=u;Li(P.h,8*v+2);var E=P.h.end();ms(P,E),E.push(P.i),P=E,x(m[R],u),E=u;var A=P.pop();for(A=E.i+E.h.length()-A;127<A;)P.push(A&127|128),A>>>=7,E.i++;P.push(A),E.i++}});function pf(u){return function(m,v){e:{if(Vc.length){var R=Vc.pop();R.setOptions(v),ef(R.h,m,v),m=R}else m=new nf(m,v);try{var x=ff(u),P=Zy(new x.P,m,x);break e}finally{x=m.h,x.i=null,x.m=!1,x.l=0,x.j=0,x.h=0,x.S=!1,m.l=-1,m.i=-1,100>Vc.length&&Vc.push(m)}P=void 0}return P}}function hf(u){return function(){var m=new AT;ev(this,m,df(u)),ms(m,m.h.end());for(var v=new Uint8Array(m.i),R=m.j,x=R.length,P=0,E=0;E<x;E++){var A=R[E];v.set(A,P),P+=A.length}return m.j=[v],v}}function gs(u){Jt.call(this,u)}S(gs,Jt);var rv=[gs,1,QT,2,Ln,3,tv,4,tv];gs.prototype.l=hf(rv);function mf(u){Jt.call(this,u,-1,qT)}S(mf,Jt),mf.prototype.addClassification=function(u,m){return By(this,1,gs,u,m),this};var qT=[1],iv=pf([mf,1,nv,rv]);function ys(u){Jt.call(this,u)}S(ys,Jt);var sv=[ys,1,Ln,2,Ln,3,Ln,4,Ln,5,Ln];ys.prototype.l=hf(sv);function ov(u){Jt.call(this,u,-1,YT)}S(ov,Jt);var YT=[1],av=pf([ov,1,nv,sv]);function Yc(u){Jt.call(this,u)}S(Yc,Jt);var cv=[Yc,1,Ln,2,Ln,3,Ln,4,Ln,5,Ln,6,KT],XT=pf(cv);Yc.prototype.l=hf(cv);function lv(u,m,v){if(v=u.createShader(v===0?u.VERTEX_SHADER:u.FRAGMENT_SHADER),u.shaderSource(v,m),u.compileShader(v),!u.getShaderParameter(v,u.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+u.getShaderInfoLog(v));return v}function uv(u){return Wc(u,gs,1).map(function(m){var v=An(m,1);return{index:v??0,score:Kn(m,2),label:An(m,3)!=null?Gc(An(m,3),""):void 0,displayName:An(m,4)!=null?Gc(An(m,4),""):void 0}})}function dv(u){return{x:Kn(u,1),y:Kn(u,2),z:Kn(u,3),visibility:lf(u,4)!=null?Kn(u,4):void 0}}function fv(u){return u.map(function(m){return Wc(av(m),ys,1).map(dv)})}function gf(u,m){this.i=u,this.h=m,this.m=0}function pv(u,m,v){return JT(u,m),typeof u.h.canvas.transferToImageBitmap=="function"?Promise.resolve(u.h.canvas.transferToImageBitmap()):v?Promise.resolve(u.h.canvas):typeof createImageBitmap=="function"?createImageBitmap(u.h.canvas):(u.j===void 0&&(u.j=document.createElement("canvas")),new Promise(function(R){u.j.height=u.h.canvas.height,u.j.width=u.h.canvas.width,u.j.getContext("2d",{}).drawImage(u.h.canvas,0,0,u.h.canvas.width,u.h.canvas.height),R(u.j)}))}function JT(u,m){var v=u.h;if(u.s===void 0){var R=lv(v,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),x=lv(v,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),P=v.createProgram();if(v.attachShader(P,R),v.attachShader(P,x),v.linkProgram(P),!v.getProgramParameter(P,v.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+v.getProgramInfoLog(P));R=u.s=P,v.useProgram(R),x=v.getUniformLocation(R,"sampler0"),u.l={O:v.getAttribLocation(R,"aVertex"),N:v.getAttribLocation(R,"aTex"),xa:x},u.v=v.createBuffer(),v.bindBuffer(v.ARRAY_BUFFER,u.v),v.enableVertexAttribArray(u.l.O),v.vertexAttribPointer(u.l.O,2,v.FLOAT,!1,0,0),v.bufferData(v.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),v.STATIC_DRAW),v.bindBuffer(v.ARRAY_BUFFER,null),u.u=v.createBuffer(),v.bindBuffer(v.ARRAY_BUFFER,u.u),v.enableVertexAttribArray(u.l.N),v.vertexAttribPointer(u.l.N,2,v.FLOAT,!1,0,0),v.bufferData(v.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),v.STATIC_DRAW),v.bindBuffer(v.ARRAY_BUFFER,null),v.uniform1i(x,0)}R=u.l,v.useProgram(u.s),v.canvas.width=m.width,v.canvas.height=m.height,v.viewport(0,0,m.width,m.height),v.activeTexture(v.TEXTURE0),u.i.bindTexture2d(m.glName),v.enableVertexAttribArray(R.O),v.bindBuffer(v.ARRAY_BUFFER,u.v),v.vertexAttribPointer(R.O,2,v.FLOAT,!1,0,0),v.enableVertexAttribArray(R.N),v.bindBuffer(v.ARRAY_BUFFER,u.u),v.vertexAttribPointer(R.N,2,v.FLOAT,!1,0,0),v.bindFramebuffer(v.DRAW_FRAMEBUFFER?v.DRAW_FRAMEBUFFER:v.FRAMEBUFFER,null),v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT),v.colorMask(!0,!0,!0,!0),v.drawArrays(v.TRIANGLE_FAN,0,4),v.disableVertexAttribArray(R.O),v.disableVertexAttribArray(R.N),v.bindBuffer(v.ARRAY_BUFFER,null),u.i.bindTexture2d(0)}function ZT(u){this.h=u}var eE=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function tE(u,m){return m+u}function hv(u,m){window[u]=m}function nE(u){var m=document.createElement("script");return m.setAttribute("src",u),m.setAttribute("crossorigin","anonymous"),new Promise(function(v){m.addEventListener("load",function(){v()},!1),m.addEventListener("error",function(){v()},!1),document.body.appendChild(m)})}function rE(){return I(function(u){switch(u.h){case 1:return u.s=2,C(u,WebAssembly.instantiate(eE),4);case 4:u.h=3,u.s=0;break;case 2:return u.s=0,u.l=null,u.return(!1);case 3:return u.return(!0)}})}function yf(u){if(this.h=u,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=u&&u.locateFile||tE,typeof window=="object")var m=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")m=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.ha=m,u.options){m=a(Object.keys(u.options));for(var v=m.next();!v.done;v=m.next()){v=v.value;var R=u.options[v].default;R!==void 0&&(this.l[v]=typeof R=="function"?R():R)}}}e=yf.prototype,e.close=function(){return this.j&&this.j.delete(),Promise.resolve()};function iE(u){var m,v,R,x,P,E,A,N,z,q,pe;return I(function(re){switch(re.h){case 1:return u.ga?(m=u.h.files===void 0?[]:typeof u.h.files=="function"?u.h.files(u.l):u.h.files,C(re,rE(),2)):re.return();case 2:if(v=re.i,typeof window=="object")return hv("createMediapipeSolutionsWasm",{locateFile:u.locateFile}),hv("createMediapipeSolutionsPackedAssets",{locateFile:u.locateFile}),E=m.filter(function(J){return J.data!==void 0}),A=m.filter(function(J){return J.data===void 0}),N=Promise.all(E.map(function(J){var he=Xc(u,J.url);if(J.path!==void 0){var _e=J.path;he=he.then(function(Ge){return u.overrideFile(_e,Ge),Promise.resolve(Ge)})}return he})),z=Promise.all(A.map(function(J){return J.simd===void 0||J.simd&&v||!J.simd&&!v?nE(u.locateFile(J.url,u.ha)):Promise.resolve()})).then(function(){var J,he,_e;return I(function(Ge){if(Ge.h==1)return J=window.createMediapipeSolutionsWasm,he=window.createMediapipeSolutionsPackedAssets,_e=u,C(Ge,J(he),2);_e.i=Ge.i,Ge.h=0})}),q=function(){return I(function(J){return u.h.graph&&u.h.graph.url?J=C(J,Xc(u,u.h.graph.url),0):(J.h=0,J=void 0),J})}(),C(re,Promise.all([z,N,q]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return R=m.filter(function(J){return J.simd===void 0||J.simd&&v||!J.simd&&!v}).map(function(J){return u.locateFile(J.url,u.ha)}),importScripts.apply(null,c(R)),x=u,C(re,createMediapipeSolutionsWasm(Module),6);case 6:x.i=re.i,u.m=new OffscreenCanvas(1,1),u.i.canvas=u.m,P=u.i.GL.createContext(u.m,{antialias:!1,alpha:!1,ua:typeof WebGL2RenderingContext<"u"?2:1}),u.i.GL.makeContextCurrent(P),re.h=4;break;case 7:if(u.m=document.createElement("canvas"),pe=u.m.getContext("webgl2",{}),!pe&&(pe=u.m.getContext("webgl",{}),!pe))return alert("Failed to create WebGL canvas context when passing video frame."),re.return();u.K=pe,u.i.canvas=u.m,u.i.createContext(u.m,!0,!0,{});case 4:u.j=new u.i.SolutionWasm,u.ga=!1,re.h=0}})}function sE(u){var m,v,R,x,P,E,A,N;return I(function(z){if(z.h==1){if(u.h.graph&&u.h.graph.url&&u.fa===u.h.graph.url)return z.return();if(u.u=!0,!u.h.graph||!u.h.graph.url){z.h=2;return}return u.fa=u.h.graph.url,C(z,Xc(u,u.h.graph.url),3)}for(z.h!=2&&(m=z.i,u.j.loadGraph(m)),v=a(Object.keys(u.D)),R=v.next();!R.done;R=v.next())x=R.value,u.j.overrideFile(x,u.D[x]);if(u.D={},u.h.listeners)for(P=a(u.h.listeners),E=P.next();!E.done;E=P.next())A=E.value,lE(u,A);N=u.l,u.l={},u.setOptions(N),z.h=0})}e.reset=function(){var u=this;return I(function(m){u.j&&(u.j.reset(),u.s={},u.v={}),m.h=0})},e.setOptions=function(u,m){var v=this;if(m=m||this.h.options){for(var R=[],x=[],P={},E=a(Object.keys(u)),A=E.next();!A.done;P={X:P.X,Y:P.Y},A=E.next())if(A=A.value,!(A in this.l&&this.l[A]===u[A])){this.l[A]=u[A];var N=m[A];N!==void 0&&(N.onChange&&(P.X=N.onChange,P.Y=u[A],R.push(function(z){return function(){var q;return I(function(pe){if(pe.h==1)return C(pe,z.X(z.Y),2);q=pe.i,q===!0&&(v.u=!0),pe.h=0})}}(P))),N.graphOptionXref&&(A=Object.assign({},{calculatorName:"",calculatorIndex:0},N.graphOptionXref,{valueNumber:N.type===1?u[A]:0,valueBoolean:N.type===0?u[A]:!1,valueString:N.type===2?u[A]:""}),x.push(A)))}(R.length!==0||x.length!==0)&&(this.u=!0,this.H=(this.H===void 0?[]:this.H).concat(x),this.F=(this.F===void 0?[]:this.F).concat(R))}};function oE(u){var m,v,R,x,P,E,A;return I(function(N){switch(N.h){case 1:if(!u.u)return N.return();if(!u.F){N.h=2;break}m=a(u.F),v=m.next();case 3:if(v.done){N.h=5;break}return R=v.value,C(N,R(),4);case 4:v=m.next(),N.h=3;break;case 5:u.F=void 0;case 2:if(u.H){for(x=new u.i.GraphOptionChangeRequestList,P=a(u.H),E=P.next();!E.done;E=P.next())A=E.value,x.push_back(A);u.j.changeOptions(x),x.delete(),u.H=void 0}u.u=!1,N.h=0}})}e.initialize=function(){var u=this;return I(function(m){return m.h==1?C(m,iE(u),2):m.h!=3?C(m,sE(u),3):C(m,oE(u),0)})};function Xc(u,m){var v,R;return I(function(x){return m in u.L?x.return(u.L[m]):(v=u.locateFile(m,""),R=fetch(v).then(function(P){return P.arrayBuffer()}),u.L[m]=R,x.return(R))})}e.overrideFile=function(u,m){this.j?this.j.overrideFile(u,m):this.D[u]=m},e.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},e.send=function(u,m){var v=this,R,x,P,E,A,N,z,q,pe;return I(function(re){switch(re.h){case 1:return v.h.inputs?(R=1e3*(m??performance.now()),C(re,v.I,2)):re.return();case 2:return C(re,v.initialize(),3);case 3:for(x=new v.i.PacketDataList,P=a(Object.keys(u)),E=P.next();!E.done;E=P.next())if(A=E.value,N=v.h.inputs[A]){e:{var J=u[A];switch(N.type){case"video":var he=v.s[N.stream];if(he||(he=new gf(v.i,v.K),v.s[N.stream]=he),he.m===0&&(he.m=he.i.createTexture()),typeof HTMLVideoElement<"u"&&J instanceof HTMLVideoElement)var _e=J.videoWidth,Ge=J.videoHeight;else typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement?(_e=J.naturalWidth,Ge=J.naturalHeight):(_e=J.width,Ge=J.height);Ge={glName:he.m,width:_e,height:Ge},_e=he.h,_e.canvas.width=Ge.width,_e.canvas.height=Ge.height,_e.activeTexture(_e.TEXTURE0),he.i.bindTexture2d(he.m),_e.texImage2D(_e.TEXTURE_2D,0,_e.RGBA,_e.RGBA,_e.UNSIGNED_BYTE,J),he.i.bindTexture2d(0),he=Ge;break e;case"detections":for(he=v.s[N.stream],he||(he=new ZT(v.i),v.s[N.stream]=he),he.data||(he.data=new he.h.DetectionListData),he.data.reset(J.length),Ge=0;Ge<J.length;++Ge){_e=J[Ge];var ze=he.data,Dt=ze.setBoundingBox,vn=Ge,Zt=_e.la,Ae=new Yc;if(Gn(Ae,1,Zt.ra),Gn(Ae,2,Zt.sa),Gn(Ae,3,Zt.height),Gn(Ae,4,Zt.width),Gn(Ae,5,Zt.rotation),Wn(Ae,6,Zt.pa),Zt=Ae.l(),Dt.call(ze,vn,Zt),_e.ea)for(ze=0;ze<_e.ea.length;++ze){Ae=_e.ea[ze],Dt=he.data,vn=Dt.addNormalizedLandmark,Zt=Ge,Ae=Object.assign({},Ae,{visibility:Ae.visibility?Ae.visibility:0});var At=new ys;Gn(At,1,Ae.x),Gn(At,2,Ae.y),Gn(At,3,Ae.z),Ae.visibility&&Gn(At,4,Ae.visibility),Ae=At.l(),vn.call(Dt,Zt,Ae)}if(_e.ba)for(ze=0;ze<_e.ba.length;++ze)Dt=he.data,vn=Dt.addClassification,Zt=Ge,Ae=_e.ba[ze],At=new gs,Gn(At,2,Ae.score),Ae.index&&Wn(At,1,Ae.index),Ae.label&&Wn(At,3,Ae.label),Ae.displayName&&Wn(At,4,Ae.displayName),Ae=At.l(),vn.call(Dt,Zt,Ae)}he=he.data;break e;default:he={}}}switch(z=he,q=N.stream,N.type){case"video":x.pushTexture2d(Object.assign({},z,{stream:q,timestamp:R}));break;case"detections":pe=z,pe.stream=q,pe.timestamp=R,x.pushDetectionList(pe);break;default:throw Error("Unknown input config type: '"+N.type+"'")}}return v.j.send(x),C(re,v.I,4);case 4:x.delete(),re.h=0}})};function aE(u,m,v){var R,x,P,E,A,N,z,q,pe,re,J,he,_e,Ge;return I(function(ze){switch(ze.h){case 1:if(!v)return ze.return(m);for(R={},x=0,P=a(Object.keys(v)),E=P.next();!E.done;E=P.next())A=E.value,N=v[A],typeof N!="string"&&N.type==="texture"&&m[N.stream]!==void 0&&++x;1<x&&(u.M=!1),z=a(Object.keys(v)),E=z.next();case 2:if(E.done){ze.h=4;break}if(q=E.value,pe=v[q],typeof pe=="string")return _e=R,Ge=q,C(ze,cE(u,q,m[pe]),14);if(re=m[pe.stream],pe.type==="detection_list"){if(re){for(var Dt=re.getRectList(),vn=re.getLandmarksList(),Zt=re.getClassificationsList(),Ae=[],At=0;At<Dt.size();++At){var Vr=XT(Dt.get(At)),uE=Kn(Vr,1),dE=Kn(Vr,2),fE=Kn(Vr,3),pE=Kn(Vr,4),hE=Kn(Vr,5,0),Jc=void 0;Jc=Jc===void 0?0:Jc,Vr={la:{ra:uE,sa:dE,height:fE,width:pE,rotation:hE,pa:Gc(An(Vr,6),Jc)},ea:Wc(av(vn.get(At)),ys,1).map(dv),ba:uv(iv(Zt.get(At)))},Ae.push(Vr)}Dt=Ae}else Dt=[];R[q]=Dt,ze.h=7;break}if(pe.type==="proto_list"){if(re){for(Dt=Array(re.size()),vn=0;vn<re.size();vn++)Dt[vn]=re.get(vn);re.delete()}else Dt=[];R[q]=Dt,ze.h=7;break}if(re===void 0){ze.h=3;break}if(pe.type==="float_list"){R[q]=re,ze.h=7;break}if(pe.type==="proto"){R[q]=re,ze.h=7;break}if(pe.type!=="texture")throw Error("Unknown output config type: '"+pe.type+"'");return J=u.v[q],J||(J=new gf(u.i,u.K),u.v[q]=J),C(ze,pv(J,re,u.M),13);case 13:he=ze.i,R[q]=he;case 7:pe.transform&&R[q]&&(R[q]=pe.transform(R[q])),ze.h=3;break;case 14:_e[Ge]=ze.i;case 3:E=z.next(),ze.h=2;break;case 4:return ze.return(R)}})}function cE(u,m,v){var R;return I(function(x){return typeof v=="number"||v instanceof Uint8Array||v instanceof u.i.Uint8BlobList?x.return(v):v instanceof u.i.Texture2dDataOut?(R=u.v[m],R||(R=new gf(u.i,u.K),u.v[m]=R),x.return(pv(R,v,u.M))):x.return(void 0)})}function lE(u,m){for(var v=m.name||"$",R=[].concat(c(m.wants)),x=new u.i.StringList,P=a(m.wants),E=P.next();!E.done;E=P.next())x.push_back(E.value);P=u.i.PacketListener.implement({onResults:function(A){for(var N={},z=0;z<m.wants.length;++z)N[R[z]]=A.get(z);var q=u.listeners[v];q&&(u.I=aE(u,N,m.outs).then(function(pe){pe=q(pe);for(var re=0;re<m.wants.length;++re){var J=N[R[re]];typeof J=="object"&&J.hasOwnProperty&&J.hasOwnProperty("delete")&&J.delete()}pe&&(u.I=pe)}))}}),u.j.attachMultiListener(x,P),x.delete()}e.onResults=function(u,m){this.listeners[m||"$"]=u},se("Solution",yf),se("OptionType",{BOOL:0,NUMBER:1,ta:2,0:"BOOL",1:"NUMBER",2:"STRING"});function mv(u){return u===void 0&&(u=0),u===1?"hand_landmark_full.tflite":"hand_landmark_lite.tflite"}function gv(u){var m=this;u=u||{},this.h=new yf({locateFile:u.locateFile,files:function(v){return[{url:"hands_solution_packed_assets_loader.js"},{simd:!1,url:"hands_solution_wasm_bin.js"},{simd:!0,url:"hands_solution_simd_wasm_bin.js"},{data:!0,url:mv(v.modelComplexity)}]},graph:{url:"hands.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["multi_hand_landmarks","multi_hand_world_landmarks","image_transformed","multi_handedness"],outs:{image:"image_transformed",multiHandLandmarks:{type:"proto_list",stream:"multi_hand_landmarks",transform:fv},multiHandWorldLandmarks:{type:"proto_list",stream:"multi_hand_world_landmarks",transform:fv},multiHandedness:{type:"proto_list",stream:"multi_handedness",transform:function(v){return v.map(function(R){return uv(iv(R))[0]})}}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumHands:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculator",fieldName:"int_value"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(v){var R,x,P;return I(function(E){return E.h==1?(R=mv(v),x="third_party/mediapipe/modules/hand_landmark/"+R,C(E,Xc(m.h,R),2)):(P=E.i,m.h.overrideFile(x,P),E.return(!0))})}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"handlandmarktrackinggpu__palmdetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"handlandmarktrackinggpu__handlandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}}}})}e=gv.prototype,e.close=function(){return this.h.close(),Promise.resolve()},e.onResults=function(u){this.h.onResults(u)},e.initialize=function(){var u=this;return I(function(m){return C(m,u.h.initialize(),0)})},e.reset=function(){this.h.reset()},e.send=function(u){var m=this;return I(function(v){return C(v,m.h.send(u),0)})},e.setOptions=function(u){this.h.setOptions(u)},se("Hands",gv),se("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),se("VERSION","0.4.1675469240")}).call(B);var c_={};(function(){function e(h){var y=0;return function(){return y<h.length?{done:!1,value:h[y++]}:{done:!0}}}var t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,S){return h==Array.prototype||h==Object.prototype||(h[y]=S.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof B=="object"&&B];for(var y=0;y<h.length;++y){var S=h[y];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function i(h,y){if(y)e:{var S=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var _=h[w];if(!(_ in S))break e;S=S[_]}h=h[h.length-1],w=S[h],y=y(w),y!=w&&y!=null&&t(S,h,{configurable:!0,writable:!0,value:y})}}function s(h){var y=typeof Symbol<"u"&&Symbol.iterator&&h[Symbol.iterator];return y?y.call(h):{next:e(h)}}var o=typeof Object.assign=="function"?Object.assign:function(h,y){for(var S=1;S<arguments.length;S++){var w=arguments[S];if(w)for(var _ in w)Object.prototype.hasOwnProperty.call(w,_)&&(h[_]=w[_])}return h};i("Object.assign",function(h){return h||o}),i("Array.prototype.fill",function(h){return h||function(y,S,w){var _=this.length||0;for(0>S&&(S=Math.max(0,_+S)),(w==null||w>_)&&(w=_),w=Number(w),0>w&&(w=Math.max(0,_+w)),S=Number(S||0);S<w;S++)this[S]=y;return this}});function a(h){return h||Array.prototype.fill}i("Int8Array.prototype.fill",a),i("Uint8Array.prototype.fill",a),i("Uint8ClampedArray.prototype.fill",a),i("Int16Array.prototype.fill",a),i("Uint16Array.prototype.fill",a),i("Int32Array.prototype.fill",a),i("Uint32Array.prototype.fill",a),i("Float32Array.prototype.fill",a),i("Float64Array.prototype.fill",a);var c=this||self;function l(h,y){h=h.split(".");var S=c;h[0]in S||typeof S.execScript>"u"||S.execScript("var "+h[0]);for(var w;h.length&&(w=h.shift());)h.length||y===void 0?S[w]&&S[w]!==Object.prototype[w]?S=S[w]:S=S[w]={}:S[w]=y}var d={color:"white",lineWidth:4,radius:6,visibilityMin:.5};function f(h){return h=h||{},Object.assign({},d,{fillColor:h.color},h)}function p(h,y){return h instanceof Function?h(y):h}function g(h,y,S){return Math.max(Math.min(y,S),Math.min(Math.max(y,S),h))}l("clamp",g),l("drawLandmarks",function(h,y,S){if(y){S=f(S),h.save();var w=h.canvas,_=0;y=s(y);for(var b=y.next();!b.done;b=y.next())if(b=b.value,b!==void 0&&(b.visibility===void 0||b.visibility>S.visibilityMin)){h.fillStyle=p(S.fillColor,{index:_,from:b}),h.strokeStyle=p(S.color,{index:_,from:b}),h.lineWidth=p(S.lineWidth,{index:_,from:b});var C=new Path2D;C.arc(b.x*w.width,b.y*w.height,p(S.radius,{index:_,from:b}),0,2*Math.PI),h.fill(C),h.stroke(C),++_}h.restore()}}),l("drawConnectors",function(h,y,S,w){if(y&&S){w=f(w),h.save();var _=h.canvas,b=0;S=s(S);for(var C=S.next();!C.done;C=S.next()){var L=C.value;h.beginPath(),C=y[L[0]],L=y[L[1]],C&&L&&(C.visibility===void 0||C.visibility>w.visibilityMin)&&(L.visibility===void 0||L.visibility>w.visibilityMin)&&(h.strokeStyle=p(w.color,{index:b,from:C,to:L}),h.lineWidth=p(w.lineWidth,{index:b,from:C,to:L}),h.moveTo(C.x*_.width,C.y*_.height),h.lineTo(L.x*_.width,L.y*_.height)),++b,h.stroke()}h.restore()}}),l("drawRectangle",function(h,y,S){S=f(S),h.save();var w=h.canvas;h.beginPath(),h.lineWidth=p(S.lineWidth,{}),h.strokeStyle=p(S.color,{}),h.fillStyle=p(S.fillColor,{}),h.translate(y.xCenter*w.width,y.yCenter*w.height),h.rotate(y.rotation*Math.PI/180),h.rect(-y.width/2*w.width,-y.height/2*w.height,y.width*w.width,y.height*w.height),h.translate(-y.xCenter*w.width,-y.yCenter*w.height),h.stroke(),h.fill(),h.restore()}),l("lerp",function(h,y,S,w,_){return g(w*(1-(h-y)/(S-y))+_*(1-(S-h)/(S-y)),w,_)})}).call(B);const J2=(e,t)=>{const n=e.canvas.width,r=e.canvas.height;if(e.save(),e.clearRect(0,0,n,r),e.scale(-1,1),e.translate(-n,0),e.drawImage(t.image,0,0,n,r),t.multiHandLandmarks)for(const i of t.multiHandLandmarks)c_.drawConnectors(e,i,cx.HAND_CONNECTIONS,{color:"#ffffff",lineWidth:10}),c_.drawLandmarks(e,i,{color:"#ffffff",lineWidth:5,radius:5});e.restore()};let yp=null,l_=0,u_=0;const Z2=5;function lx(){const e=T.useRef(null),t=T.useRef(),n=T.useRef(null),r=T.useRef(null),i=T.useCallback(()=>{r.current&&(l_=r.current.getBoundingClientRect().left,u_=r.current.getBoundingClientRect().top),n.current&&(n.current.width=window.innerWidth*(Eo/100),n.current.height=window.innerHeight*(Po/100))},[]),s=T.useCallback((l,d)=>{const f=document.elementFromPoint(n.current.width-l*n.current.width+l_,d*n.current.height+u_);if(f){const p=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});f.dispatchEvent(p)}},[]),o=T.useRef({left:null,right:null}),a=T.useCallback(l=>{var d;t.current=l,yp!==null&&(J2(yp,l),l.multiHandLandmarks.length==2&&l.multiHandedness[0].label!==l.multiHandedness[1].label&&((d=l.multiHandLandmarks)==null||d.forEach((f,p)=>{var y,S;const g=(S=(y=l.multiHandedness)==null?void 0:y[p])==null?void 0:S.label.toLowerCase(),h=f[8];if(h&&"z"in h){const w=h.z*100;typeof w=="number"&&o.current[g]!=null&&o.current[g]>-.01&&w<0&&o.current[g]-w>Z2&&s(h.x,h.y),o.current[g]=w}})))},[s]),c=T.useCallback(async()=>{if(e.current!=null&&"video"in e.current){const l=new cx.Hands({locateFile:f=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands@latest/${f}`});yp=n.current.getContext("2d"),l.setOptions({maxNumHands:2,modelComplexity:0,minDetectionConfidence:.7,minTrackingConfidence:.7}),l.onResults(a),await new X2.Camera(e.current.video,{onFrame:async()=>{await l.send({image:e.current.video})},width:600,height:800}).start()}},[a,e]);return T.useEffect(()=>{c()},[c]),T.useEffect(()=>(i(),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)})),k.jsxs(DR,{ref:r,children:[k.jsx("canvas",{ref:n,style:{top:0,left:0,width:`${Eo}vw`,height:`${Po}vh`,border:"5px solid #ffffff"}}),k.jsx(Y2,{audio:!1,ref:e,style:{visibility:"hidden"},videoConstraints:{facingMode:"user",width:600,height:800}})]})}const Ec="START_GAME",kd="CLICK_BLOCK",ux="CHANGE_TURN",tu="ADD_PLAYER",dx="OTHER_PLAYER_CLICK",fx="OTHER_CHANGE_TURN";function eN({show:e,onStartGame:t,handleBeforeUnload:n}){return k.jsxs(Ht,{show:!e,centered:!0,animation:!1,children:[k.jsx(Ht.Header,{children:k.jsx(Ht.Title,{id:"contained-modal-title-vcenter",children:k.jsx("h2",{children:"Start Game"})})}),k.jsxs(Ht.Body,{children:["게임을 시작하시겠습니까?",k.jsx("br",{}),k.jsx("br",{}),k.jsx("p",{children:"Tip: F11을 누르시면 쾌적한 환경에서 플레이하실 수 있습니다:)"})]}),k.jsxs(Ht.Footer,{children:[k.jsx(So,{variant:"outline-primary",onClick:t,children:"New Game"}),k.jsx(So,{children:k.jsx(Fo,{to:"/main/roomlist",style:{color:"white"},onClick:n,children:"Go Home"})})]})]})}const px=T.memo(eN),tN={start:!1,end:!1,playersNum:1,turn:0,endTurn:!1,blockNum:1,blockList:[],prevBlockList:[],winner:-1,trigerClick:!1,clickedBlock:{rowIndex:-1,colIndex:-1}},nN=(e,t)=>{switch(t.type){case Ec:return console.log("Game Start!"),{...e,start:!0,end:!1,turn:1,endTurn:!1,blockNum:0,blockList:[],prevBlockList:[],winner:-1};case kd:return e;default:return e}},Dd=T.createContext({start:!1,dispatch:()=>{},trigerClick:!1,clickedBlock:{rowIndex:-1,colIndex:-1}}),rN=1;function iN(){const[e,t]=T.useReducer(nN,tN),{turn:n,start:r,trigerClick:i,clickedBlock:s}=e,o=T.useCallback(()=>{t({type:Ec})},[]),a=T.useMemo(()=>({start:r,dispatch:t,trigerClick:i,clickedBlock:s}),[r,i,s]);return k.jsxs(Pg,{children:[k.jsx(Dd.Provider,{value:a,children:k.jsx(hx,{turn:n,userId:rN,row:4,column:3})}),k.jsx(px,{show:r,onStartGame:o})]})}function sN({turn:e,userId:t,row:n,column:r}){const{start:i}=T.useContext(Dd);return k.jsxs(kg,{children:[k.jsx(lx,{}),i&&e==t&&k.jsx(Q2,{turn:e,userId:t,row:n,column:r})]})}const hx=T.memo(sN),oN={start:!0,end:!1,playersNum:1,turn:1,endTurn:!1,blockNum:0,blockList:[],prevBlockList:[],winner:-1,trigerClick:!1,clickedBlock:{rowIndex:-1,colIndex:-1}},aN=(e,t)=>{switch(t.type){case Ec:return console.log("Game Start!"),{...e,start:!0,end:!1,turn:1,endTurn:!1,blockNum:0,blockList:[],prevBlockList:[],winner:-1};case kd:return e;default:return e}},cN=1;function lN(){const[e,t]=T.useReducer(aN,oN),{turn:n,start:r,trigerClick:i,clickedBlock:s}=e,o=T.useMemo(()=>({start:r,dispatch:t,trigerClick:i,clickedBlock:s}),[r,i,s]);return k.jsx(k.Fragment,{children:k.jsxs(H2,{children:[k.jsx(Dg,{to:"/main",onClick:Tc,children:k.jsx(Ag,{size:"30",color:"black"})}),k.jsxs(Pg,{children:[k.jsx(Dd.Provider,{value:o,children:k.jsx(hx,{turn:n,userId:cN,row:4,column:3})}),k.jsxs("div",{style:{display:"flex",flexDirection:"column",backgroundColor:"black",padding:"30px",borderRadius:"5%"},children:[k.jsx("h1",{children:"튜토리얼"}),k.jsx("br",{}),k.jsx("h2",{children:"게임 방식"}),k.jsx("p",{children:"화면을 치는 모션으로 런치패드를 칠 수 있습니다."}),k.jsx("br",{}),k.jsx("br",{}),k.jsx("h2",{children:"대전 모드"}),k.jsxs("p",{children:["런치패드를 치는 순서를 최대한 많이 기억하는 암기력 대전 게임입니다.",k.jsx("br",{}),"상대방과 턴을 주고받으면서, 상대방이 쳤던 런치패드 순서를 기억하고 따라친 후",k.jsx("br",{}),"한 칸을 더 치는 것으로 턴을 종료합니다."]}),k.jsx("br",{}),k.jsx("br",{}),k.jsx("h2",{children:"싱글 모드"}),k.jsx("p",{children:"혼자서 런치패드를 조작할 수 있는 모드입니다."})]})]})]})})}function uN({children:e}){return k.jsx(Jg.div,{initial:vp.initial,animate:vp.animate,exit:vp.exit,transition:{duration:.5,type:"spring"},children:e})}const vp={initial:{y:500,opacity:0},animate:{y:0,opacity:1},exit:{y:500,opacity:0}};function mx(e,t){return function(){return e.apply(t,arguments)}}const{toString:dN}=Object.prototype,{getPrototypeOf:ey}=Object,Ad=(e=>t=>{const n=dN.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yr=e=>(e=e.toLowerCase(),t=>Ad(t)===e),Ld=e=>t=>typeof t===e,{isArray:Uo}=Array,pc=Ld("undefined");function fN(e){return e!==null&&!pc(e)&&e.constructor!==null&&!pc(e.constructor)&&Tn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const gx=yr("ArrayBuffer");function pN(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&gx(e.buffer),t}const hN=Ld("string"),Tn=Ld("function"),yx=Ld("number"),Od=e=>e!==null&&typeof e=="object",mN=e=>e===!0||e===!1,nu=e=>{if(Ad(e)!=="object")return!1;const t=ey(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},gN=yr("Date"),yN=yr("File"),vN=yr("Blob"),wN=yr("FileList"),_N=e=>Od(e)&&Tn(e.pipe),SN=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Tn(e.append)&&((t=Ad(e))==="formdata"||t==="object"&&Tn(e.toString)&&e.toString()==="[object FormData]"))},bN=yr("URLSearchParams"),RN=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pc(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Uo(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(r=0;r<o;r++)a=s[r],t.call(null,e[a],a,e)}}function vx(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const wx=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),_x=e=>!pc(e)&&e!==wx;function om(){const{caseless:e}=_x(this)&&this||{},t={},n=(r,i)=>{const s=e&&vx(t,i)||i;nu(t[s])&&nu(r)?t[s]=om(t[s],r):nu(r)?t[s]=om({},r):Uo(r)?t[s]=r.slice():t[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Pc(arguments[r],n);return t}const CN=(e,t,n,{allOwnKeys:r}={})=>(Pc(t,(i,s)=>{n&&Tn(i)?e[s]=mx(i,n):e[s]=i},{allOwnKeys:r}),e),xN=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),TN=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},EN=(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&ey(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},PN=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},kN=e=>{if(!e)return null;if(Uo(e))return e;let t=e.length;if(!yx(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},DN=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ey(Uint8Array)),AN=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},LN=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},ON=yr("HTMLFormElement"),MN=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),d_=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),IN=yr("RegExp"),Sx=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Pc(n,(i,s)=>{t(i,s,e)!==!1&&(r[s]=i)}),Object.defineProperties(e,r)},jN=e=>{Sx(e,(t,n)=>{if(Tn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Tn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},NN=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Uo(e)?r(e):r(String(e).split(t)),n},FN=()=>{},BN=(e,t)=>(e=+e,Number.isFinite(e)?e:t),wp="abcdefghijklmnopqrstuvwxyz",f_="0123456789",bx={DIGIT:f_,ALPHA:wp,ALPHA_DIGIT:wp+wp.toUpperCase()+f_},$N=(e=16,t=bx.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function UN(e){return!!(e&&Tn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const VN=e=>{const t=new Array(10),n=(r,i)=>{if(Od(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const s=Uo(r)?[]:{};return Pc(r,(o,a)=>{const c=n(o,i+1);!pc(c)&&(s[a]=c)}),t[i]=void 0,s}}return r};return n(e,0)},zN=yr("AsyncFunction"),HN=e=>e&&(Od(e)||Tn(e))&&Tn(e.then)&&Tn(e.catch),U={isArray:Uo,isArrayBuffer:gx,isBuffer:fN,isFormData:SN,isArrayBufferView:pN,isString:hN,isNumber:yx,isBoolean:mN,isObject:Od,isPlainObject:nu,isUndefined:pc,isDate:gN,isFile:yN,isBlob:vN,isRegExp:IN,isFunction:Tn,isStream:_N,isURLSearchParams:bN,isTypedArray:DN,isFileList:wN,forEach:Pc,merge:om,extend:CN,trim:RN,stripBOM:xN,inherits:TN,toFlatObject:EN,kindOf:Ad,kindOfTest:yr,endsWith:PN,toArray:kN,forEachEntry:AN,matchAll:LN,isHTMLForm:ON,hasOwnProperty:d_,hasOwnProp:d_,reduceDescriptors:Sx,freezeMethods:jN,toObjectSet:NN,toCamelCase:MN,noop:FN,toFiniteNumber:BN,findKey:vx,global:wx,isContextDefined:_x,ALPHABET:bx,generateString:$N,isSpecCompliantForm:UN,toJSONObject:VN,isAsyncFn:zN,isThenable:HN};function ke(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}U.inherits(ke,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Rx=ke.prototype,Cx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Cx[e]={value:e}});Object.defineProperties(ke,Cx);Object.defineProperty(Rx,"isAxiosError",{value:!0});ke.from=(e,t,n,r,i,s)=>{const o=Object.create(Rx);return U.toFlatObject(e,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),ke.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const WN=null;function am(e){return U.isPlainObject(e)||U.isArray(e)}function xx(e){return U.endsWith(e,"[]")?e.slice(0,-2):e}function p_(e,t,n){return e?e.concat(t).map(function(i,s){return i=xx(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function GN(e){return U.isArray(e)&&!e.some(am)}const KN=U.toFlatObject(U,{},null,function(t){return/^is[A-Z]/.test(t)});function Md(e,t,n){if(!U.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,S){return!U.isUndefined(S[y])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(t);if(!U.isFunction(i))throw new TypeError("visitor must be a function");function l(h){if(h===null)return"";if(U.isDate(h))return h.toISOString();if(!c&&U.isBlob(h))throw new ke("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(h)||U.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,y,S){let w=h;if(h&&!S&&typeof h=="object"){if(U.endsWith(y,"{}"))y=r?y:y.slice(0,-2),h=JSON.stringify(h);else if(U.isArray(h)&&GN(h)||(U.isFileList(h)||U.endsWith(y,"[]"))&&(w=U.toArray(h)))return y=xx(y),w.forEach(function(b,C){!(U.isUndefined(b)||b===null)&&t.append(o===!0?p_([y],C,s):o===null?y:y+"[]",l(b))}),!1}return am(h)?!0:(t.append(p_(S,y,s),l(h)),!1)}const f=[],p=Object.assign(KN,{defaultVisitor:d,convertValue:l,isVisitable:am});function g(h,y){if(!U.isUndefined(h)){if(f.indexOf(h)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(h),U.forEach(h,function(w,_){(!(U.isUndefined(w)||w===null)&&i.call(t,w,U.isString(_)?_.trim():_,y,p))===!0&&g(w,y?y.concat(_):[_])}),f.pop()}}if(!U.isObject(e))throw new TypeError("data must be an object");return g(e),t}function h_(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function ty(e,t){this._pairs=[],e&&Md(e,this,t)}const Tx=ty.prototype;Tx.append=function(t,n){this._pairs.push([t,n])};Tx.toString=function(t){const n=t?function(r){return t.call(this,r,h_)}:h_;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function QN(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ex(e,t,n){if(!t)return e;const r=n&&n.encode||QN,i=n&&n.serialize;let s;if(i?s=i(t,n):s=U.isURLSearchParams(t)?t.toString():new ty(t,n).toString(r),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class qN{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){U.forEach(this.handlers,function(r){r!==null&&t(r)})}}const m_=qN,Px={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},YN=typeof URLSearchParams<"u"?URLSearchParams:ty,XN=typeof FormData<"u"?FormData:null,JN=typeof Blob<"u"?Blob:null,ZN=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),eF=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),lr={isBrowser:!0,classes:{URLSearchParams:YN,FormData:XN,Blob:JN},isStandardBrowserEnv:ZN,isStandardBrowserWebWorkerEnv:eF,protocols:["http","https","file","blob","url","data"]};function tF(e,t){return Md(e,new lr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return lr.isNode&&U.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function nF(e){return U.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function rF(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function kx(e){function t(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),c=s>=n.length;return o=!o&&U.isArray(i)?i.length:o,c?(U.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!U.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],s)&&U.isArray(i[o])&&(i[o]=rF(i[o])),!a)}if(U.isFormData(e)&&U.isFunction(e.entries)){const n={};return U.forEachEntry(e,(r,i)=>{t(nF(r),i,n,0)}),n}return null}const iF={"Content-Type":void 0};function sF(e,t,n){if(U.isString(e))try{return(t||JSON.parse)(e),U.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Id={transitional:Px,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=U.isObject(t);if(s&&U.isHTMLForm(t)&&(t=new FormData(t)),U.isFormData(t))return i&&i?JSON.stringify(kx(t)):t;if(U.isArrayBuffer(t)||U.isBuffer(t)||U.isStream(t)||U.isFile(t)||U.isBlob(t))return t;if(U.isArrayBufferView(t))return t.buffer;if(U.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return tF(t,this.formSerializer).toString();if((a=U.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Md(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),sF(t)):t}],transformResponse:[function(t){const n=this.transitional||Id.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(t&&U.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?ke.from(a,ke.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lr.classes.FormData,Blob:lr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};U.forEach(["delete","get","head"],function(t){Id.headers[t]={}});U.forEach(["post","put","patch"],function(t){Id.headers[t]=U.merge(iF)});const ny=Id,oF=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aF=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&oF[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},g_=Symbol("internals");function ua(e){return e&&String(e).trim().toLowerCase()}function ru(e){return e===!1||e==null?e:U.isArray(e)?e.map(ru):String(e)}function cF(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const lF=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function _p(e,t,n,r,i){if(U.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!U.isString(t)){if(U.isString(r))return t.indexOf(r)!==-1;if(U.isRegExp(r))return r.test(t)}}function uF(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function dF(e,t){const n=U.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,o){return this[r].call(this,t,i,s,o)},configurable:!0})})}class jd{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(a,c,l){const d=ua(c);if(!d)throw new Error("header name must be a non-empty string");const f=U.findKey(i,d);(!f||i[f]===void 0||l===!0||l===void 0&&i[f]!==!1)&&(i[f||c]=ru(a))}const o=(a,c)=>U.forEach(a,(l,d)=>s(l,d,c));return U.isPlainObject(t)||t instanceof this.constructor?o(t,n):U.isString(t)&&(t=t.trim())&&!lF(t)?o(aF(t),n):t!=null&&s(n,t,r),this}get(t,n){if(t=ua(t),t){const r=U.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return cF(i);if(U.isFunction(n))return n.call(this,i,r);if(U.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ua(t),t){const r=U.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||_p(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(o){if(o=ua(o),o){const a=U.findKey(r,o);a&&(!n||_p(r,r[a],a,n))&&(delete r[a],i=!0)}}return U.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||_p(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return U.forEach(this,(i,s)=>{const o=U.findKey(r,s);if(o){n[o]=ru(i),delete n[s];return}const a=t?uF(s):String(s).trim();a!==s&&delete n[s],n[a]=ru(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return U.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&U.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[g_]=this[g_]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=ua(o);r[a]||(dF(i,o),r[a]=!0)}return U.isArray(t)?t.forEach(s):s(t),this}}jd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.freezeMethods(jd.prototype);U.freezeMethods(jd);const Lr=jd;function Sp(e,t){const n=this||ny,r=t||n,i=Lr.from(r.headers);let s=r.data;return U.forEach(e,function(a){s=a.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function Dx(e){return!!(e&&e.__CANCEL__)}function kc(e,t,n){ke.call(this,e??"canceled",ke.ERR_CANCELED,t,n),this.name="CanceledError"}U.inherits(kc,ke,{__CANCEL__:!0});function fF(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ke("Request failed with status code "+n.status,[ke.ERR_BAD_REQUEST,ke.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const pF=lr.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,a){const c=[];c.push(n+"="+encodeURIComponent(r)),U.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),U.isString(s)&&c.push("path="+s),U.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function hF(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function mF(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Ax(e,t){return e&&!hF(t)?mF(e,t):t}const gF=lr.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=U.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function yF(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function vF(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(c){const l=Date.now(),d=r[s];o||(o=l),n[i]=c,r[i]=l;let f=s,p=0;for(;f!==i;)p+=n[f++],f=f%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),l-o<t)return;const g=d&&l-d;return g?Math.round(p*1e3/g):void 0}}function y_(e,t){let n=0;const r=vF(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,c=r(a),l=s<=o;n=s;const d={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&l?(o-s)/c:void 0,event:i};d[t?"download":"upload"]=!0,e(d)}}const wF=typeof XMLHttpRequest<"u",_F=wF&&function(e){return new Promise(function(n,r){let i=e.data;const s=Lr.from(e.headers).normalize(),o=e.responseType;let a;function c(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}U.isFormData(i)&&(lr.isStandardBrowserEnv||lr.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let l=new XMLHttpRequest;if(e.auth){const g=e.auth.username||"",h=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.set("Authorization","Basic "+btoa(g+":"+h))}const d=Ax(e.baseURL,e.url);l.open(e.method.toUpperCase(),Ex(d,e.params,e.paramsSerializer),!0),l.timeout=e.timeout;function f(){if(!l)return;const g=Lr.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),y={data:!o||o==="text"||o==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:g,config:e,request:l};fF(function(w){n(w),c()},function(w){r(w),c()},y),l=null}if("onloadend"in l?l.onloadend=f:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(f)},l.onabort=function(){l&&(r(new ke("Request aborted",ke.ECONNABORTED,e,l)),l=null)},l.onerror=function(){r(new ke("Network Error",ke.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){let h=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const y=e.transitional||Px;e.timeoutErrorMessage&&(h=e.timeoutErrorMessage),r(new ke(h,y.clarifyTimeoutError?ke.ETIMEDOUT:ke.ECONNABORTED,e,l)),l=null},lr.isStandardBrowserEnv){const g=(e.withCredentials||gF(d))&&e.xsrfCookieName&&pF.read(e.xsrfCookieName);g&&s.set(e.xsrfHeaderName,g)}i===void 0&&s.setContentType(null),"setRequestHeader"in l&&U.forEach(s.toJSON(),function(h,y){l.setRequestHeader(y,h)}),U.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),o&&o!=="json"&&(l.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&l.addEventListener("progress",y_(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",y_(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=g=>{l&&(r(!g||g.type?new kc(null,e,l):g),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const p=yF(d);if(p&&lr.protocols.indexOf(p)===-1){r(new ke("Unsupported protocol "+p+":",ke.ERR_BAD_REQUEST,e));return}l.send(i||null)})},iu={http:WN,xhr:_F};U.forEach(iu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const SF={getAdapter:e=>{e=U.isArray(e)?e:[e];const{length:t}=e;let n,r;for(let i=0;i<t&&(n=e[i],!(r=U.isString(n)?iu[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new ke(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(U.hasOwnProp(iu,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!U.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:iu};function bp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new kc(null,e)}function v_(e){return bp(e),e.headers=Lr.from(e.headers),e.data=Sp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),SF.getAdapter(e.adapter||ny.adapter)(e).then(function(r){return bp(e),r.data=Sp.call(e,e.transformResponse,r),r.headers=Lr.from(r.headers),r},function(r){return Dx(r)||(bp(e),r&&r.response&&(r.response.data=Sp.call(e,e.transformResponse,r.response),r.response.headers=Lr.from(r.response.headers))),Promise.reject(r)})}const w_=e=>e instanceof Lr?e.toJSON():e;function Ao(e,t){t=t||{};const n={};function r(l,d,f){return U.isPlainObject(l)&&U.isPlainObject(d)?U.merge.call({caseless:f},l,d):U.isPlainObject(d)?U.merge({},d):U.isArray(d)?d.slice():d}function i(l,d,f){if(U.isUndefined(d)){if(!U.isUndefined(l))return r(void 0,l,f)}else return r(l,d,f)}function s(l,d){if(!U.isUndefined(d))return r(void 0,d)}function o(l,d){if(U.isUndefined(d)){if(!U.isUndefined(l))return r(void 0,l)}else return r(void 0,d)}function a(l,d,f){if(f in t)return r(l,d);if(f in e)return r(void 0,l)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,d)=>i(w_(l),w_(d),!0)};return U.forEach(Object.keys(Object.assign({},e,t)),function(d){const f=c[d]||i,p=f(e[d],t[d],d);U.isUndefined(p)&&f!==a||(n[d]=p)}),n}const Lx="1.4.0",ry={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ry[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const __={};ry.transitional=function(t,n,r){function i(s,o){return"[Axios v"+Lx+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(t===!1)throw new ke(i(o," has been removed"+(n?" in "+n:"")),ke.ERR_DEPRECATED);return n&&!__[o]&&(__[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,a):!0}};function bF(e,t,n){if(typeof e!="object")throw new ke("options must be an object",ke.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const a=e[s],c=a===void 0||o(a,s,e);if(c!==!0)throw new ke("option "+s+" must be "+c,ke.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ke("Unknown option "+s,ke.ERR_BAD_OPTION)}}const cm={assertOptions:bF,validators:ry},Hr=cm.validators;class qu{constructor(t){this.defaults=t,this.interceptors={request:new m_,response:new m_}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ao(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&cm.assertOptions(r,{silentJSONParsing:Hr.transitional(Hr.boolean),forcedJSONParsing:Hr.transitional(Hr.boolean),clarifyTimeoutError:Hr.transitional(Hr.boolean)},!1),i!=null&&(U.isFunction(i)?n.paramsSerializer={serialize:i}:cm.assertOptions(i,{encode:Hr.function,serialize:Hr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=s&&U.merge(s.common,s[n.method]),o&&U.forEach(["delete","get","head","post","put","patch","common"],h=>{delete s[h]}),n.headers=Lr.concat(o,s);const a=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const l=[];this.interceptors.response.forEach(function(y){l.push(y.fulfilled,y.rejected)});let d,f=0,p;if(!c){const h=[v_.bind(this),void 0];for(h.unshift.apply(h,a),h.push.apply(h,l),p=h.length,d=Promise.resolve(n);f<p;)d=d.then(h[f++],h[f++]);return d}p=a.length;let g=n;for(f=0;f<p;){const h=a[f++],y=a[f++];try{g=h(g)}catch(S){y.call(this,S);break}}try{d=v_.call(this,g)}catch(h){return Promise.reject(h)}for(f=0,p=l.length;f<p;)d=d.then(l[f++],l[f++]);return d}getUri(t){t=Ao(this.defaults,t);const n=Ax(t.baseURL,t.url);return Ex(n,t.params,t.paramsSerializer)}}U.forEach(["delete","get","head","options"],function(t){qu.prototype[t]=function(n,r){return this.request(Ao(r||{},{method:t,url:n,data:(r||{}).data}))}});U.forEach(["post","put","patch"],function(t){function n(r){return function(s,o,a){return this.request(Ao(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}qu.prototype[t]=n(),qu.prototype[t+"Form"]=n(!0)});const su=qu;class iy{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},t(function(s,o,a){r.reason||(r.reason=new kc(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new iy(function(i){t=i}),cancel:t}}}const RF=iy;function CF(e){return function(n){return e.apply(null,n)}}function xF(e){return U.isObject(e)&&e.isAxiosError===!0}const lm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lm).forEach(([e,t])=>{lm[t]=e});const TF=lm;function Ox(e){const t=new su(e),n=mx(su.prototype.request,t);return U.extend(n,su.prototype,t,{allOwnKeys:!0}),U.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return Ox(Ao(e,i))},n}const Ct=Ox(ny);Ct.Axios=su;Ct.CanceledError=kc;Ct.CancelToken=RF;Ct.isCancel=Dx;Ct.VERSION=Lx;Ct.toFormData=Md;Ct.AxiosError=ke;Ct.Cancel=Ct.CanceledError;Ct.all=function(t){return Promise.all(t)};Ct.spread=CF;Ct.isAxiosError=xF;Ct.mergeConfig=Ao;Ct.AxiosHeaders=Lr;Ct.formToJSON=e=>kx(U.isHTMLForm(e)?new FormData(e):e);Ct.HttpStatusCode=TF;Ct.default=Ct;const EF=Ct,PF=Ye.div`
  position: fixed;
  display: flex;
  top: 40px;
  right: 40px;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`,kF=Ye.img`
  width: 100px;
  height: 100px;
  border-radius: 50%;
  border: 5px solid white;
  margin-bottom: 10px;
`,DF=Ye.div`
  font-size: 14px;
  color: #fff;
`;function AF({user:e}){return k.jsx(k.Fragment,{children:e==null?null:k.jsxs(PF,{children:[k.jsx(kF,{src:e.profile_image_url,alt:e.nickname}),k.jsx(DF,{children:e.nickname})]})})}const LF=T.memo(AF),OF=Ye.div`
  flex-direction: column;
  display: flex;
  height: 100%;
  width: 100vw;
`,MF=Ye.div`
  justify-content: center;
  align-items: center;
  height: 100vh;
  width: 100vw;
`,Mx=[{name:"Home",path:"home",components:k.jsx(z2,{})},{name:"RoomList",path:"roomlist",components:k.jsx(j2,{})},{name:"Ranking",path:"ranking",components:k.jsx(F2,{})},{name:"Tutorial",path:"tutorial",components:k.jsx(lN,{})}];function IF(){const[e,t]=T.useState({userId:0}),n=ls();function r(){EF.get("http://localhost:4000/profile",{withCredentials:!0}).then(({data:i})=>{console.log(i),t({userId:1,nickname:i.properties.nickname,profile_image_url:i.properties.profile_image})}).catch(i=>{console.log(i),t({userId:1,nickname:"최광민",profile_image_url:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBw0NDg0NDQ8PDQ0NDw0NDg0NDQ8NDg4NFREWFhQdExMYHCghGBolGxUTITEhJSkrLi4wFx8zODMsNygtLisBCgoKDg0OGhAQGC4dICU3KystKysrLS0rLS0tLSstLS0tLS0tLS0rLS0rLS0tLSstLS0tKy0tKzcrKysrKy0rN//AABEIAOAA4QMBIgACEQEDEQH/xAAaAAEBAQADAQAAAAAAAAAAAAAAAQUCAwQG/8QAMBABAAIAAggDBwUBAAAAAAAAAAECAwQFERIhMUFRcTJSYSKBkaGxweETM3KS0UL/xAAZAQEBAQEBAQAAAAAAAAAAAAAAAQMCBAX/xAAeEQEBAQEAAwADAQAAAAAAAAAAAQIRAzFBEiFRE//aAAwDAQACEQMRAD8A+rBX0XzUFQUFQQFAQUBBQEFAQUBBQEFAQVABUABQQAAABUUAABFAAAAAAAAAAAAAAAAAAAAAAAQAAAVRAFEUAAQAAAAAAAAAAAAEBVEAUQBRAAAQAFAAFRQABAAAAAcqUtbdWJntGt31yGLPKI7zCdkWS15h6p0fi9IntaHRiYN6eKsx66t3xOw5Y4AKgACACgAAAAAAAgAKAAKigACAAER0aOV0fHHE/r/rno7K7MbdvFPD0h7WWt/I2zj7UrWIjVEao6QoM2gADx5nIVtvp7Nun/M/4y71mszExqmOT6B5s7loxK648ccPX0d53/WesfYxwGzFABQAAAAAAAQAFAAFRQABB3ZPC271jlxntDpaGia+O3aHOryOsztaIDB6AAAAAAGRpLC2b644X3+/m8rU0rXXSJ6W+Ustvi9jDc5UAdOQAAAAAAAAAAABUUAAQaeifDfvH0Zj3aKvqtavmjXHeHO/TvHtpgMG4AAAAADy6T/bnvVkNLS191a9Z2ma2x6Yb9oA7cgAAAAAAAgAKAAKigACDlhYk1tFo4xOtxBW/h3i0RaOExrcmPks1+nOqd9J4+ktetomImJ1xPCYYazxvnXVAcugAAmdW+eEcRl5/N7XsU8POev4WTrnV5HnzWN+pebcuEdnUDdggCgAAAAAAAIACgACooAAgAA7cDMXw59md3Os8JdQitXC0jSfFE1n4w9FcxhzwvX4wwkc3EdzyVvzjUjjav8AaHRi5/Drwnan0/1jqn+cL5K9GYzd8Td4a+WPu84O5OOLegCogAoAAAAAAAIACgACooAAgO7L5a2Jw3RztPBp4GTpTfq2rdZ+zm6kdzNrMwspiX4V1R1ndD14ejPNb3Vj7y0Bnd1pMR5a6Pwo5TPeZ+znGTwvJHzd457XX4x0zlMLyR83C2Qwp5THaZekO0/GM/E0ZH/NvdaHlxcniU4xrjrXe2h1N1zcR88NrHylL8Y1T5o3SzMzlbYfHfXzR92k1KzuLHnAdOQAAAAAAAQAFAAFRQHryWT2/atup052/Djkct+pOufBXj6z0bERqZ71z9R3jPf3UrERGqI1RHKFBk2AAAAAAAACY17p4SAMvPZHZ13p4eden4eF9GyNIZXYnar4Z4x5Za418rLWfseMBozAAAAABAAUAAcqUm0xWOMzqhxe/RWFrmbzy3R35pbyLJ2tDBw4pWKxy+cuYPO9AAAAAAAAAAAACuOJSLRNZ4TulyBHz+PhTS01nl84cGnpbC3ReOW6e3JmN83sYanKAOkAAABAAUAAbeRps4dfWNqfexIh9FWNURHSNTPyNPH7AGTUAAAAAAAAAAABQBHXj02qWr1ifiwH0b5/MV1XvHS0/Vp46z24ANWYAAAIACgAOWF4q/yj6voHz+F4q/yr9X0LLyNfGgDNoAAAAAAAAAAAAoAgw89+7fu3GHnv3b9/s78ftxv06AGzIAAAB//Z"})})}return T.useEffect(()=>(r(),gp.loop=!0,gp.play(),()=>{gp.pause()}),[]),k.jsxs(k.Fragment,{children:[k.jsx(rx,{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:k.jsx("source",{src:"/back.mp4",type:"video/mp4"})}),k.jsxs(OF,{children:[k.jsx(LF,{user:e}),k.jsx(MF,{children:k.jsx(M2,{mode:"wait",children:k.jsxs(F1,{location:n,children:[Mx.map((i,s)=>k.jsx(xr,{path:`/${i.path}`,element:k.jsx(uN,{children:i.components})},s)),k.jsx(xr,{path:"*",element:k.jsx("div",{children:k.jsx("h2",{children:"404 Page not found"})})}),k.jsx(xr,{path:"/",element:k.jsx(N1,{to:"home"})})]},n.pathname)})})]})]})}const jF=[{name:"Login",path:"login"}];function NF(){const e=async()=>{const n=await(await fetch("http://localhost:4000/authorize",{method:"GET"})).json();window.location.href=n.redirectUrl};return k.jsxs(k.Fragment,{children:[k.jsx(rx,{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:k.jsx("source",{src:"/back.mp4",type:"video/mp4"})}),k.jsx(nx,{items:jF}),k.jsxs(V2,{children:[k.jsx("header",{children:k.jsx(ix,{children:"Hands Up!"})}),k.jsx("button",{onClick:e,children:"카카오 로그인"}),k.jsx(Fo,{to:"/main",onClick:Tc,children:k.jsx("img",{alt:"카카오 로그인",src:"/kakao_login_medium.png"})})]})]})}var Ix={},um={exports:{}},Rp,S_;function FF(){if(S_)return Rp;S_=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*7,s=r*365.25;Rp=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return o(d);if(p==="number"&&isFinite(d))return f.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function o(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),g=(f[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return p*s;case"weeks":case"week":case"w":return p*i;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var f=Math.abs(d);return f>=r?l(d,f,r,"day"):f>=n?l(d,f,n,"hour"):f>=t?l(d,f,t,"minute"):f>=e?l(d,f,e,"second"):d+" ms"}function l(d,f,p,g){var h=f>=p*1.5;return Math.round(d/p)+" "+g+(h?"s":"")}return Rp}function BF(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=o,n.humanize=FF(),n.destroy=l,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function t(d){let f=0;for(let p=0;p<d.length;p++)f=(f<<5)-f+d.charCodeAt(p),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=t;function n(d){let f,p=null,g,h;function y(...S){if(!y.enabled)return;const w=y,_=Number(new Date),b=_-(f||_);w.diff=b,w.prev=f,w.curr=_,f=_,S[0]=n.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let C=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(j,O)=>{if(j==="%%")return"%";C++;const F=n.formatters[O];if(typeof F=="function"){const Y=S[C];j=F.call(w,Y),S.splice(C,1),C--}return j}),n.formatArgs.call(w,S),(w.log||n.log).apply(w,S)}return y.namespace=d,y.useColors=n.useColors(),y.color=n.selectColor(d),y.extend=r,y.destroy=n.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(g!==n.namespaces&&(g=n.namespaces,h=n.enabled(d)),h),set:S=>{p=S}}),typeof n.init=="function"&&n.init(y),y}function r(d,f){const p=n(this.namespace+(typeof f>"u"?":":f)+d);return p.log=this.log,p}function i(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];let f;const p=(typeof d=="string"?d:"").split(/[\s,]+/),g=p.length;for(f=0;f<g;f++)p[f]&&(d=p[f].replace(/\*/g,".*?"),d[0]==="-"?n.skips.push(new RegExp("^"+d.slice(1)+"$")):n.names.push(new RegExp("^"+d+"$")))}function s(){const d=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),d}function o(d){if(d[d.length-1]==="*")return!0;let f,p;for(f=0,p=n.skips.length;f<p;f++)if(n.skips[f].test(d))return!1;for(f=0,p=n.names.length;f<p;f++)if(n.names[f].test(d))return!0;return!1}function a(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var $F=BF;(function(e,t){t.formatArgs=r,t.save=i,t.load=s,t.useColors=n,t.storage=o(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;c.splice(1,0,l,"color: inherit");let d=0,f=0;c[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(f=d))}),c.splice(f,0,l)}t.log=console.debug||console.log||(()=>{});function i(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function s(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}function o(){try{return localStorage}catch{}}e.exports=$F(t);const{formatters:a}=e.exports;a.j=function(c){try{return JSON.stringify(c)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}})(um,um.exports);var Nd=um.exports,ss={},dm={exports:{}};(function(e,t){(function(n,r){var i="1.0.35",s="",o="?",a="function",c="undefined",l="object",d="string",f="major",p="model",g="name",h="type",y="vendor",S="version",w="architecture",_="console",b="mobile",C="tablet",L="smarttv",j="wearable",O="embedded",F=350,Y="Amazon",D="Apple",I="ASUS",G="BlackBerry",K="Browser",te="Chrome",se="Edge",V="Firefox",Q="Google",M="Huawei",$="LG",H="Microsoft",X="Motorola",ne="Opera",ge="Samsung",Se="Sharp",Oe="Sony",Te="Xiaomi",We="Zebra",Ut="Facebook",at="Chromium OS",Ve="Mac OS",ct=function(Z,ye){var le={};for(var $e in Z)ye[$e]&&ye[$e].length%2===0?le[$e]=ye[$e].concat(Z[$e]):le[$e]=Z[$e];return le},qt=function(Z){for(var ye={},le=0;le<Z.length;le++)ye[Z[le].toUpperCase()]=Z[le];return ye},Me=function(Z,ye){return typeof Z===d?Ne(ye).indexOf(Ne(Z))!==-1:!1},Ne=function(Z){return Z.toLowerCase()},Be=function(Z){return typeof Z===d?Z.replace(/[^\d\.]/g,s).split(".")[0]:r},zn=function(Z,ye){if(typeof Z===d)return Z=Z.replace(/^\s\s*/,s),typeof ye===c?Z:Z.substring(0,F)},Yt=function(Z,ye){for(var le=0,$e,Dn,yn,Ee,fe,It;le<ye.length&&!fe;){var Di=ye[le],Ko=ye[le+1];for($e=Dn=0;$e<Di.length&&!fe&&Di[$e];)if(fe=Di[$e++].exec(Z),fe)for(yn=0;yn<Ko.length;yn++)It=fe[++Dn],Ee=Ko[yn],typeof Ee===l&&Ee.length>0?Ee.length===2?typeof Ee[1]==a?this[Ee[0]]=Ee[1].call(this,It):this[Ee[0]]=Ee[1]:Ee.length===3?typeof Ee[1]===a&&!(Ee[1].exec&&Ee[1].test)?this[Ee[0]]=It?Ee[1].call(this,It,Ee[2]):r:this[Ee[0]]=It?It.replace(Ee[1],Ee[2]):r:Ee.length===4&&(this[Ee[0]]=It?Ee[3].call(this,It.replace(Ee[1],Ee[2])):r):this[Ee]=It||r;le+=2}},Ur=function(Z,ye){for(var le in ye)if(typeof ye[le]===l&&ye[le].length>0){for(var $e=0;$e<ye[le].length;$e++)if(Me(ye[le][$e],Z))return le===o?r:le}else if(Me(ye[le],Z))return le===o?r:le;return Z},hs={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Pi={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ki={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[S,[g,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[S,[g,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[g,S],[/opios[\/ ]+([\w\.]+)/i],[S,[g,ne+" Mini"]],[/\bopr\/([\w\.]+)/i],[S,[g,ne]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[g,S],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[S,[g,"UC"+K]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[S,[g,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[S,[g,"WeChat"]],[/konqueror\/([\w\.]+)/i],[S,[g,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[S,[g,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[S,[g,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[g,/(.+)/,"$1 Secure "+K],S],[/\bfocus\/([\w\.]+)/i],[S,[g,V+" Focus"]],[/\bopt\/([\w\.]+)/i],[S,[g,ne+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[S,[g,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[S,[g,"Dolphin"]],[/coast\/([\w\.]+)/i],[S,[g,ne+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[S,[g,"MIUI "+K]],[/fxios\/([-\w\.]+)/i],[S,[g,V]],[/\bqihu|(qi?ho?o?|360)browser/i],[[g,"360 "+K]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[g,/(.+)/,"$1 "+K],S],[/(comodo_dragon)\/([\w\.]+)/i],[[g,/_/g," "],S],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[g,S],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[g],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[g,Ut],S],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[g,S],[/\bgsa\/([\w\.]+) .*safari\//i],[S,[g,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[S,[g,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[S,[g,te+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[g,te+" WebView"],S],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[S,[g,"Android "+K]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[g,S],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[S,[g,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[S,g],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[g,[S,Ur,hs]],[/(webkit|khtml)\/([\w\.]+)/i],[g,S],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[g,"Netscape"],S],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[S,[g,V+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[g,S],[/(cobalt)\/([\w\.]+)/i],[g,[S,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[w,"amd64"]],[/(ia32(?=;))/i],[[w,Ne]],[/((?:i[346]|x)86)[;\)]/i],[[w,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[w,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[w,"armhf"]],[/windows (ce|mobile); ppc;/i],[[w,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[w,/ower/,s,Ne]],[/(sun4\w)[;\)]/i],[[w,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[w,Ne]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[y,ge],[h,C]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[y,ge],[h,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[p,[y,D],[h,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[y,D],[h,C]],[/(macintosh);/i],[p,[y,D]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[y,Se],[h,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[y,M],[h,C]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[y,M],[h,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[y,Te],[h,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[y,Te],[h,C]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[y,"OPPO"],[h,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[y,"Vivo"],[h,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[p,[y,"Realme"],[h,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[y,X],[h,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[y,X],[h,C]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[y,$],[h,C]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[y,$],[h,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[y,"Lenovo"],[h,C]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[y,"Nokia"],[h,b]],[/(pixel c)\b/i],[p,[y,Q],[h,C]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[y,Q],[h,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[y,Oe],[h,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[y,Oe],[h,C]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[y,"OnePlus"],[h,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[y,Y],[h,C]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[y,Y],[h,b]],[/(playbook);[-\w\),; ]+(rim)/i],[p,y,[h,C]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[y,G],[h,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[y,I],[h,C]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[y,I],[h,b]],[/(nexus 9)/i],[p,[y,"HTC"],[h,C]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[y,[p,/_/g," "],[h,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[y,"Acer"],[h,C]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[y,"Meizu"],[h,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[y,p,[h,b]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[y,p,[h,C]],[/(surface duo)/i],[p,[y,H],[h,C]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[y,"Fairphone"],[h,b]],[/(u304aa)/i],[p,[y,"AT&T"],[h,b]],[/\bsie-(\w*)/i],[p,[y,"Siemens"],[h,b]],[/\b(rct\w+) b/i],[p,[y,"RCA"],[h,C]],[/\b(venue[\d ]{2,7}) b/i],[p,[y,"Dell"],[h,C]],[/\b(q(?:mv|ta)\w+) b/i],[p,[y,"Verizon"],[h,C]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[y,"Barnes & Noble"],[h,C]],[/\b(tm\d{3}\w+) b/i],[p,[y,"NuVision"],[h,C]],[/\b(k88) b/i],[p,[y,"ZTE"],[h,C]],[/\b(nx\d{3}j) b/i],[p,[y,"ZTE"],[h,b]],[/\b(gen\d{3}) b.+49h/i],[p,[y,"Swiss"],[h,b]],[/\b(zur\d{3}) b/i],[p,[y,"Swiss"],[h,C]],[/\b((zeki)?tb.*\b) b/i],[p,[y,"Zeki"],[h,C]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[y,"Dragon Touch"],p,[h,C]],[/\b(ns-?\w{0,9}) b/i],[p,[y,"Insignia"],[h,C]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[y,"NextBook"],[h,C]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[y,"Voice"],p,[h,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[y,"LvTel"],p,[h,b]],[/\b(ph-1) /i],[p,[y,"Essential"],[h,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[y,"Envizen"],[h,C]],[/\b(trio[-\w\. ]+) b/i],[p,[y,"MachSpeed"],[h,C]],[/\btu_(1491) b/i],[p,[y,"Rotor"],[h,C]],[/(shield[\w ]+) b/i],[p,[y,"Nvidia"],[h,C]],[/(sprint) (\w+)/i],[y,p,[h,b]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[y,H],[h,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[y,We],[h,C]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[y,We],[h,b]],[/smart-tv.+(samsung)/i],[y,[h,L]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[y,ge],[h,L]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[y,$],[h,L]],[/(apple) ?tv/i],[y,[p,D+" TV"],[h,L]],[/crkey/i],[[p,te+"cast"],[y,Q],[h,L]],[/droid.+aft(\w)( bui|\))/i],[p,[y,Y],[h,L]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[y,Se],[h,L]],[/(bravia[\w ]+)( bui|\))/i],[p,[y,Oe],[h,L]],[/(mitv-\w{5}) bui/i],[p,[y,Te],[h,L]],[/Hbbtv.*(technisat) (.*);/i],[y,p,[h,L]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[y,zn],[p,zn],[h,L]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,L]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[y,p,[h,_]],[/droid.+; (shield) bui/i],[p,[y,"Nvidia"],[h,_]],[/(playstation [345portablevi]+)/i],[p,[y,Oe],[h,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[y,H],[h,_]],[/((pebble))app/i],[y,p,[h,j]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[p,[y,D],[h,j]],[/droid.+; (glass) \d/i],[p,[y,Q],[h,j]],[/droid.+; (wt63?0{2,3})\)/i],[p,[y,We],[h,j]],[/(quest( 2| pro)?)/i],[p,[y,Ut],[h,j]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[y,[h,O]],[/(aeobc)\b/i],[p,[y,Y],[h,O]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[p,[h,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[h,C]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,C]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,b]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[y,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[S,[g,se+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[S,[g,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[g,S],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[S,g]],os:[[/microsoft (windows) (vista|xp)/i],[g,S],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[g,[S,Ur,Pi]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,"Windows"],[S,Ur,Pi]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[S,/_/g,"."],[g,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[g,Ve],[S,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[S,g],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[g,S],[/\(bb(10);/i],[S,[g,G]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[S,[g,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[S,[g,V+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[S,[g,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[S,[g,"watchOS"]],[/crkey\/([\d\.]+)/i],[S,[g,te+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[g,at],S],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[g,S],[/(sunos) ?([\w\.\d]*)/i],[[g,"Solaris"],S],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[g,S]]},kt=function(Z,ye){if(typeof Z===l&&(ye=Z,Z=r),!(this instanceof kt))return new kt(Z,ye).getResult();var le=typeof n!==c&&n.navigator?n.navigator:r,$e=Z||(le&&le.userAgent?le.userAgent:s),Dn=le&&le.userAgentData?le.userAgentData:r,yn=ye?ct(ki,ye):ki,Ee=le&&le.userAgent==$e;return this.getBrowser=function(){var fe={};return fe[g]=r,fe[S]=r,Yt.call(fe,$e,yn.browser),fe[f]=Be(fe[S]),Ee&&le&&le.brave&&typeof le.brave.isBrave==a&&(fe[g]="Brave"),fe},this.getCPU=function(){var fe={};return fe[w]=r,Yt.call(fe,$e,yn.cpu),fe},this.getDevice=function(){var fe={};return fe[y]=r,fe[p]=r,fe[h]=r,Yt.call(fe,$e,yn.device),Ee&&!fe[h]&&Dn&&Dn.mobile&&(fe[h]=b),Ee&&fe[p]=="Macintosh"&&le&&typeof le.standalone!==c&&le.maxTouchPoints&&le.maxTouchPoints>2&&(fe[p]="iPad",fe[h]=C),fe},this.getEngine=function(){var fe={};return fe[g]=r,fe[S]=r,Yt.call(fe,$e,yn.engine),fe},this.getOS=function(){var fe={};return fe[g]=r,fe[S]=r,Yt.call(fe,$e,yn.os),Ee&&!fe[g]&&Dn&&Dn.platform!="Unknown"&&(fe[g]=Dn.platform.replace(/chrome os/i,at).replace(/macos/i,Ve)),fe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return $e},this.setUA=function(fe){return $e=typeof fe===d&&fe.length>F?zn(fe,F):fe,this},this.setUA($e),this};kt.VERSION=i,kt.BROWSER=qt([g,S,f]),kt.CPU=qt([w]),kt.DEVICE=qt([p,y,h,_,b,L,C,j,O]),kt.ENGINE=kt.OS=qt([g,S]),e.exports&&(t=e.exports=kt),t.UAParser=kt;var gn=typeof n!==c&&(n.jQuery||n.Zepto);if(gn&&!gn.ua){var Xt=new kt;gn.ua=Xt.getResult(),gn.ua.get=function(){return Xt.getUA()},gn.ua.set=function(Z){Xt.setUA(Z);var ye=Xt.getResult();for(var le in ye)gn.ua[le]=ye[le]}}})(typeof window=="object"?window:B)})(dm,dm.exports);var UF=dm.exports,ot={},VF=B&&B.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ot,"__esModule",{value:!0});ot.Logger=void 0;const Rs=VF(Nd),Cs="mediasoup-client";let zF=class{constructor(t){t?(this._debug=(0,Rs.default)(`${Cs}:${t}`),this._warn=(0,Rs.default)(`${Cs}:WARN:${t}`),this._error=(0,Rs.default)(`${Cs}:ERROR:${t}`)):(this._debug=(0,Rs.default)(Cs),this._warn=(0,Rs.default)(`${Cs}:WARN`),this._error=(0,Rs.default)(`${Cs}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};ot.Logger=zF;var vr={},sy={exports:{}},fo=typeof Reflect=="object"?Reflect:null,b_=fo&&typeof fo.apply=="function"?fo.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},ou;fo&&typeof fo.ownKeys=="function"?ou=fo.ownKeys:Object.getOwnPropertySymbols?ou=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:ou=function(t){return Object.getOwnPropertyNames(t)};function HF(e){console&&console.warn&&console.warn(e)}var jx=Number.isNaN||function(t){return t!==t};function Ue(){Ue.init.call(this)}sy.exports=Ue;sy.exports.once=QF;Ue.EventEmitter=Ue;Ue.prototype._events=void 0;Ue.prototype._eventsCount=0;Ue.prototype._maxListeners=void 0;var R_=10;function Fd(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ue,"defaultMaxListeners",{enumerable:!0,get:function(){return R_},set:function(e){if(typeof e!="number"||e<0||jx(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");R_=e}});Ue.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ue.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||jx(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Nx(e){return e._maxListeners===void 0?Ue.defaultMaxListeners:e._maxListeners}Ue.prototype.getMaxListeners=function(){return Nx(this)};Ue.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[t];if(c===void 0)return!1;if(typeof c=="function")b_(c,this,n);else for(var l=c.length,d=Vx(c,l),r=0;r<l;++r)b_(d[r],this,n);return!0};function Fx(e,t,n,r){var i,s,o;if(Fd(n),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),o===void 0)o=s[t]=n,++e._eventsCount;else if(typeof o=="function"?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=Nx(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,HF(a)}return e}Ue.prototype.addListener=function(t,n){return Fx(this,t,n,!1)};Ue.prototype.on=Ue.prototype.addListener;Ue.prototype.prependListener=function(t,n){return Fx(this,t,n,!0)};function WF(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Bx(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=WF.bind(r);return i.listener=n,r.wrapFn=i,i}Ue.prototype.once=function(t,n){return Fd(n),this.on(t,Bx(this,t,n)),this};Ue.prototype.prependOnceListener=function(t,n){return Fd(n),this.prependListener(t,Bx(this,t,n)),this};Ue.prototype.removeListener=function(t,n){var r,i,s,o,a;if(Fd(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():GF(r,s),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this};Ue.prototype.off=Ue.prototype.removeListener;Ue.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function $x(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?KF(i):Vx(i,i.length)}Ue.prototype.listeners=function(t){return $x(this,t,!0)};Ue.prototype.rawListeners=function(t){return $x(this,t,!1)};Ue.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Ux.call(e,t)};Ue.prototype.listenerCount=Ux;function Ux(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Ue.prototype.eventNames=function(){return this._eventsCount>0?ou(this._events):[]};function Vx(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function GF(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function KF(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function QF(e,t){return new Promise(function(n,r){function i(o){e.removeListener(t,s),r(o)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}zx(e,t,s,{once:!0}),t!=="error"&&qF(e,i,{once:!0})})}function qF(e,t,n){typeof e.on=="function"&&zx(e,"error",t,n)}function zx(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(s){r.once&&e.removeEventListener(t,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var YF=sy.exports;Object.defineProperty(vr,"__esModule",{value:!0});vr.EnhancedEventEmitter=void 0;const XF=YF,JF=ot,ZF=new JF.Logger("EnhancedEventEmitter");class e3 extends XF.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}emit(t,...n){return super.emit(t,...n)}safeEmit(t,...n){const r=super.listenerCount(t);try{return super.emit(t,...n)}catch(i){return ZF.error("safeEmit() | event listener threw an error [eventName:%s]:%o",t,i),!!r}}on(t,n){return super.on(t,n),this}off(t,n){return super.off(t,n),this}addListener(t,n){return super.on(t,n),this}prependListener(t,n){return super.prependListener(t,n),this}once(t,n){return super.once(t,n),this}prependOnceListener(t,n){return super.prependOnceListener(t,n),this}removeListener(t,n){return super.off(t,n),this}removeAllListeners(t){return super.removeAllListeners(t),this}listenerCount(t){return super.listenerCount(t)}listeners(t){return super.listeners(t)}rawListeners(t){return super.rawListeners(t)}}vr.EnhancedEventEmitter=e3;var xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.InvalidStateError=xt.UnsupportedError=void 0;class oy extends Error{constructor(t){super(t),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,oy):this.stack=new Error(t).stack}}xt.UnsupportedError=oy;class ay extends Error{constructor(t){super(t),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,ay):this.stack=new Error(t).stack}}xt.InvalidStateError=ay;var ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.generateRandomNumber=ft.clone=void 0;function t3(e,t){return typeof e>"u"?t:JSON.parse(JSON.stringify(e))}ft.clone=t3;function n3(){return Math.round(Math.random()*1e7)}ft.generateRandomNumber=n3;var ie={},Hx={};(function(e){const t=Nd("h264-profile-level-id");t.log=console.info.bind(console);const n=1,r=2,i=3,s=4,o=5;e.ProfileConstrainedBaseline=n,e.ProfileBaseline=r,e.ProfileMain=i,e.ProfileConstrainedHigh=s,e.ProfileHigh=o;const a=0,c=10,l=11,d=12,f=13,p=20,g=21,h=22,y=30,S=31,w=32,_=40,b=41,C=42,L=50,j=51,O=52;e.Level1_b=a,e.Level1=c,e.Level1_1=l,e.Level1_2=d,e.Level1_3=f,e.Level2=p,e.Level2_1=g,e.Level2_2=h,e.Level3=y,e.Level3_1=S,e.Level3_2=w,e.Level4=_,e.Level4_1=b,e.Level4_2=C,e.Level5=L,e.Level5_1=j,e.Level5_2=O;class F{constructor($,H){this.profile=$,this.level=H}}e.ProfileLevelId=F;const Y=new F(n,S),D=16;class I{constructor($){this._mask=~te("x",$),this._maskedValue=te("1",$)}isMatch($){return this._maskedValue===($&this._mask)}}class G{constructor($,H,X){this.profile_idc=$,this.profile_iop=H,this.profile=X}}const K=[new G(66,new I("x1xx0000"),n),new G(77,new I("1xxx0000"),n),new G(88,new I("11xx0000"),n),new G(66,new I("x0xx0000"),r),new G(88,new I("10xx0000"),r),new G(77,new I("0x0x0000"),i),new G(100,new I("00000000"),o),new G(100,new I("00001100"),s)];e.parseProfileLevelId=function(M){if(typeof M!="string"||M.length!==6)return null;const $=parseInt(M,16);if($===0)return null;const H=$&255,X=$>>8&255,ne=$>>16&255;let ge;switch(H){case l:{ge=X&D?a:l;break}case c:case d:case f:case p:case g:case h:case y:case S:case w:case _:case b:case C:case L:case j:case O:{ge=H;break}default:return t("parseProfileLevelId() | unrecognized level_idc:%s",H),null}for(const Se of K)if(ne===Se.profile_idc&&Se.profile_iop.isMatch(X))return new F(Se.profile,ge);return t("parseProfileLevelId() | unrecognized profile_idc/profile_iop combination"),null},e.profileLevelIdToString=function(M){if(M.level==a)switch(M.profile){case n:return"42f00b";case r:return"42100b";case i:return"4d100b";default:return t("profileLevelIdToString() | Level 1_b not is allowed for profile:%s",M.profile),null}let $;switch(M.profile){case n:{$="42e0";break}case r:{$="4200";break}case i:{$="4d00";break}case s:{$="640c";break}case o:{$="6400";break}default:return t("profileLevelIdToString() | unrecognized profile:%s",M.profile),null}let H=M.level.toString(16);return H.length===1&&(H=`0${H}`),`${$}${H}`},e.parseSdpProfileLevelId=function(M={}){const $=M["profile-level-id"];return $?e.parseProfileLevelId($):Y},e.isSameProfile=function(M={},$={}){const H=e.parseSdpProfileLevelId(M),X=e.parseSdpProfileLevelId($);return!!(H&&X&&H.profile===X.profile)},e.generateProfileLevelIdForAnswer=function(M={},$={}){if(!M["profile-level-id"]&&!$["profile-level-id"])return t("generateProfileLevelIdForAnswer() | no profile-level-id in local and remote params"),null;const H=e.parseSdpProfileLevelId(M),X=e.parseSdpProfileLevelId($);if(!H)throw new TypeError("invalid local_profile_level_id");if(!X)throw new TypeError("invalid remote_profile_level_id");if(H.profile!==X.profile)throw new TypeError("H264 Profile mismatch");const ne=Q(M)&&Q($),ge=H.level,Se=X.level,Oe=V(ge,Se),Te=ne?ge:Oe;return t("generateProfileLevelIdForAnswer() | result: [profile:%s, level:%s]",H.profile,Te),e.profileLevelIdToString(new F(H.profile,Te))};function te(M,$){return($[0]===M)<<7|($[1]===M)<<6|($[2]===M)<<5|($[3]===M)<<4|($[4]===M)<<3|($[5]===M)<<2|($[6]===M)<<1|($[7]===M)<<0}function se(M,$){return M===a?$!==c&&$!==a:$===a?M!==c:M<$}function V(M,$){return se(M,$)?M:$}function Q(M={}){const $=M["level-asymmetry-allowed"];return $===1||$==="1"}})(Hx);var r3=B&&B.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),i3=B&&B.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Wx=B&&B.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&r3(t,e,n);return i3(t,e),t};Object.defineProperty(ie,"__esModule",{value:!0});ie.canReceive=ie.canSend=ie.generateProbatorRtpParameters=ie.reduceCodecs=ie.getSendingRemoteRtpParameters=ie.getSendingRtpParameters=ie.getRecvRtpCapabilities=ie.getExtendedRtpCapabilities=ie.validateSctpStreamParameters=ie.validateSctpParameters=ie.validateNumSctpStreams=ie.validateSctpCapabilities=ie.validateRtcpParameters=ie.validateRtpEncodingParameters=ie.validateRtpHeaderExtensionParameters=ie.validateRtpCodecParameters=ie.validateRtpParameters=ie.validateRtpHeaderExtension=ie.validateRtcpFeedback=ie.validateRtpCodecCapability=ie.validateRtpCapabilities=void 0;const C_=Wx(Hx),s3=Wx(ft),o3="probator",a3=1234,c3=127;function l3(e){if(typeof e!="object")throw new TypeError("caps is not an object");if(e.codecs&&!Array.isArray(e.codecs))throw new TypeError("caps.codecs is not an array");e.codecs||(e.codecs=[]);for(const t of e.codecs)Gx(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)Kx(t)}ie.validateRtpCapabilities=l3;function Gx(e){const t=new RegExp("^(audio|video)/(.+)","i");if(typeof e!="object")throw new TypeError("codec is not an object");if(!e.mimeType||typeof e.mimeType!="string")throw new TypeError("missing codec.mimeType");const n=t.exec(e.mimeType);if(!n)throw new TypeError("invalid codec.mimeType");if(e.kind=n[1].toLowerCase(),e.preferredPayloadType&&typeof e.preferredPayloadType!="number")throw new TypeError("invalid codec.preferredPayloadType");if(typeof e.clockRate!="number")throw new TypeError("missing codec.clockRate");e.kind==="audio"?typeof e.channels!="number"&&(e.channels=1):delete e.channels,(!e.parameters||typeof e.parameters!="object")&&(e.parameters={});for(const r of Object.keys(e.parameters)){let i=e.parameters[r];if(i===void 0&&(e.parameters[r]="",i=""),typeof i!="string"&&typeof i!="number")throw new TypeError(`invalid codec parameter [key:${r}s, value:${i}]`);if(r==="apt"&&typeof i!="number")throw new TypeError("invalid codec apt parameter")}(!e.rtcpFeedback||!Array.isArray(e.rtcpFeedback))&&(e.rtcpFeedback=[]);for(const r of e.rtcpFeedback)cy(r)}ie.validateRtpCodecCapability=Gx;function cy(e){if(typeof e!="object")throw new TypeError("fb is not an object");if(!e.type||typeof e.type!="string")throw new TypeError("missing fb.type");(!e.parameter||typeof e.parameter!="string")&&(e.parameter="")}ie.validateRtcpFeedback=cy;function Kx(e){if(typeof e!="object")throw new TypeError("ext is not an object");if(e.kind!=="audio"&&e.kind!=="video")throw new TypeError("invalid ext.kind");if(!e.uri||typeof e.uri!="string")throw new TypeError("missing ext.uri");if(typeof e.preferredId!="number")throw new TypeError("missing ext.preferredId");if(e.preferredEncrypt&&typeof e.preferredEncrypt!="boolean")throw new TypeError("invalid ext.preferredEncrypt");if(e.preferredEncrypt||(e.preferredEncrypt=!1),e.direction&&typeof e.direction!="string")throw new TypeError("invalid ext.direction");e.direction||(e.direction="sendrecv")}ie.validateRtpHeaderExtension=Kx;function ly(e){if(typeof e!="object")throw new TypeError("params is not an object");if(e.mid&&typeof e.mid!="string")throw new TypeError("params.mid is not a string");if(!Array.isArray(e.codecs))throw new TypeError("missing params.codecs");for(const t of e.codecs)Qx(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("params.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)qx(t);if(e.encodings&&!Array.isArray(e.encodings))throw new TypeError("params.encodings is not an array");e.encodings||(e.encodings=[]);for(const t of e.encodings)Yx(t);if(e.rtcp&&typeof e.rtcp!="object")throw new TypeError("params.rtcp is not an object");e.rtcp||(e.rtcp={}),Xx(e.rtcp)}ie.validateRtpParameters=ly;function Qx(e){const t=new RegExp("^(audio|video)/(.+)","i");if(typeof e!="object")throw new TypeError("codec is not an object");if(!e.mimeType||typeof e.mimeType!="string")throw new TypeError("missing codec.mimeType");const n=t.exec(e.mimeType);if(!n)throw new TypeError("invalid codec.mimeType");if(typeof e.payloadType!="number")throw new TypeError("missing codec.payloadType");if(typeof e.clockRate!="number")throw new TypeError("missing codec.clockRate");n[1].toLowerCase()==="audio"?typeof e.channels!="number"&&(e.channels=1):delete e.channels,(!e.parameters||typeof e.parameters!="object")&&(e.parameters={});for(const i of Object.keys(e.parameters)){let s=e.parameters[i];if(s===void 0&&(e.parameters[i]="",s=""),typeof s!="string"&&typeof s!="number")throw new TypeError(`invalid codec parameter [key:${i}s, value:${s}]`);if(i==="apt"&&typeof s!="number")throw new TypeError("invalid codec apt parameter")}(!e.rtcpFeedback||!Array.isArray(e.rtcpFeedback))&&(e.rtcpFeedback=[]);for(const i of e.rtcpFeedback)cy(i)}ie.validateRtpCodecParameters=Qx;function qx(e){if(typeof e!="object")throw new TypeError("ext is not an object");if(!e.uri||typeof e.uri!="string")throw new TypeError("missing ext.uri");if(typeof e.id!="number")throw new TypeError("missing ext.id");if(e.encrypt&&typeof e.encrypt!="boolean")throw new TypeError("invalid ext.encrypt");e.encrypt||(e.encrypt=!1),(!e.parameters||typeof e.parameters!="object")&&(e.parameters={});for(const t of Object.keys(e.parameters)){let n=e.parameters[t];if(n===void 0&&(e.parameters[t]="",n=""),typeof n!="string"&&typeof n!="number")throw new TypeError("invalid header extension parameter")}}ie.validateRtpHeaderExtensionParameters=qx;function Yx(e){if(typeof e!="object")throw new TypeError("encoding is not an object");if(e.ssrc&&typeof e.ssrc!="number")throw new TypeError("invalid encoding.ssrc");if(e.rid&&typeof e.rid!="string")throw new TypeError("invalid encoding.rid");if(e.rtx&&typeof e.rtx!="object")throw new TypeError("invalid encoding.rtx");if(e.rtx&&typeof e.rtx.ssrc!="number")throw new TypeError("missing encoding.rtx.ssrc");if((!e.dtx||typeof e.dtx!="boolean")&&(e.dtx=!1),e.scalabilityMode&&typeof e.scalabilityMode!="string")throw new TypeError("invalid encoding.scalabilityMode")}ie.validateRtpEncodingParameters=Yx;function Xx(e){if(typeof e!="object")throw new TypeError("rtcp is not an object");if(e.cname&&typeof e.cname!="string")throw new TypeError("invalid rtcp.cname");(!e.reducedSize||typeof e.reducedSize!="boolean")&&(e.reducedSize=!0)}ie.validateRtcpParameters=Xx;function u3(e){if(typeof e!="object")throw new TypeError("caps is not an object");if(!e.numStreams||typeof e.numStreams!="object")throw new TypeError("missing caps.numStreams");Jx(e.numStreams)}ie.validateSctpCapabilities=u3;function Jx(e){if(typeof e!="object")throw new TypeError("numStreams is not an object");if(typeof e.OS!="number")throw new TypeError("missing numStreams.OS");if(typeof e.MIS!="number")throw new TypeError("missing numStreams.MIS")}ie.validateNumSctpStreams=Jx;function d3(e){if(typeof e!="object")throw new TypeError("params is not an object");if(typeof e.port!="number")throw new TypeError("missing params.port");if(typeof e.OS!="number")throw new TypeError("missing params.OS");if(typeof e.MIS!="number")throw new TypeError("missing params.MIS");if(typeof e.maxMessageSize!="number")throw new TypeError("missing params.maxMessageSize")}ie.validateSctpParameters=d3;function f3(e){if(typeof e!="object")throw new TypeError("params is not an object");if(typeof e.streamId!="number")throw new TypeError("missing params.streamId");let t=!1;if(typeof e.ordered=="boolean"?t=!0:e.ordered=!0,e.maxPacketLifeTime&&typeof e.maxPacketLifeTime!="number")throw new TypeError("invalid params.maxPacketLifeTime");if(e.maxRetransmits&&typeof e.maxRetransmits!="number")throw new TypeError("invalid params.maxRetransmits");if(e.maxPacketLifeTime&&e.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(t&&e.ordered&&(e.maxPacketLifeTime||e.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(!t&&(e.maxPacketLifeTime||e.maxRetransmits)&&(e.ordered=!1),e.label&&typeof e.label!="string")throw new TypeError("invalid params.label");if(e.protocol&&typeof e.protocol!="string")throw new TypeError("invalid params.protocol")}ie.validateSctpStreamParameters=f3;function p3(e,t){const n={codecs:[],headerExtensions:[]};for(const r of t.codecs||[]){if($a(r))continue;const i=(e.codecs||[]).find(o=>Zx(o,r,{strict:!0,modify:!0}));if(!i)continue;const s={mimeType:i.mimeType,kind:i.kind,clockRate:i.clockRate,channels:i.channels,localPayloadType:i.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:r.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:i.parameters,remoteParameters:r.parameters,rtcpFeedback:b3(i,r)};n.codecs.push(s)}for(const r of n.codecs){const i=e.codecs.find(o=>$a(o)&&o.parameters.apt===r.localPayloadType),s=t.codecs.find(o=>$a(o)&&o.parameters.apt===r.remotePayloadType);i&&s&&(r.localRtxPayloadType=i.preferredPayloadType,r.remoteRtxPayloadType=s.preferredPayloadType)}for(const r of t.headerExtensions){const i=e.headerExtensions.find(o=>S3(o,r));if(!i)continue;const s={kind:r.kind,uri:r.uri,sendId:i.preferredId,recvId:r.preferredId,encrypt:i.preferredEncrypt,direction:"sendrecv"};switch(r.direction){case"sendrecv":s.direction="sendrecv";break;case"recvonly":s.direction="sendonly";break;case"sendonly":s.direction="recvonly";break;case"inactive":s.direction="inactive";break}n.headerExtensions.push(s)}return n}ie.getExtendedRtpCapabilities=p3;function h3(e){const t={codecs:[],headerExtensions:[]};for(const n of e.codecs){const r={mimeType:n.mimeType,kind:n.kind,preferredPayloadType:n.remotePayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.localParameters,rtcpFeedback:n.rtcpFeedback};if(t.codecs.push(r),!n.remoteRtxPayloadType)continue;const i={mimeType:`${n.kind}/rtx`,kind:n.kind,preferredPayloadType:n.remoteRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.remotePayloadType},rtcpFeedback:[]};t.codecs.push(i)}for(const n of e.headerExtensions){if(n.direction!=="sendrecv"&&n.direction!=="recvonly")continue;const r={kind:n.kind,uri:n.uri,preferredId:n.recvId,preferredEncrypt:n.encrypt,direction:n.direction};t.headerExtensions.push(r)}return t}ie.getRecvRtpCapabilities=h3;function m3(e,t){const n={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const r of t.codecs){if(r.kind!==e)continue;const i={mimeType:r.mimeType,payloadType:r.localPayloadType,clockRate:r.clockRate,channels:r.channels,parameters:r.localParameters,rtcpFeedback:r.rtcpFeedback};if(n.codecs.push(i),r.localRtxPayloadType){const s={mimeType:`${r.kind}/rtx`,payloadType:r.localRtxPayloadType,clockRate:r.clockRate,parameters:{apt:r.localPayloadType},rtcpFeedback:[]};n.codecs.push(s)}}for(const r of t.headerExtensions){if(r.kind&&r.kind!==e||r.direction!=="sendrecv"&&r.direction!=="sendonly")continue;const i={uri:r.uri,id:r.sendId,encrypt:r.encrypt,parameters:{}};n.headerExtensions.push(i)}return n}ie.getSendingRtpParameters=m3;function g3(e,t){const n={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const r of t.codecs){if(r.kind!==e)continue;const i={mimeType:r.mimeType,payloadType:r.localPayloadType,clockRate:r.clockRate,channels:r.channels,parameters:r.remoteParameters,rtcpFeedback:r.rtcpFeedback};if(n.codecs.push(i),r.localRtxPayloadType){const s={mimeType:`${r.kind}/rtx`,payloadType:r.localRtxPayloadType,clockRate:r.clockRate,parameters:{apt:r.localPayloadType},rtcpFeedback:[]};n.codecs.push(s)}}for(const r of t.headerExtensions){if(r.kind&&r.kind!==e||r.direction!=="sendrecv"&&r.direction!=="sendonly")continue;const i={uri:r.uri,id:r.sendId,encrypt:r.encrypt,parameters:{}};n.headerExtensions.push(i)}if(n.headerExtensions.some(r=>r.uri==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"))for(const r of n.codecs)r.rtcpFeedback=(r.rtcpFeedback||[]).filter(i=>i.type!=="goog-remb");else if(n.headerExtensions.some(r=>r.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"))for(const r of n.codecs)r.rtcpFeedback=(r.rtcpFeedback||[]).filter(i=>i.type!=="transport-cc");else for(const r of n.codecs)r.rtcpFeedback=(r.rtcpFeedback||[]).filter(i=>i.type!=="transport-cc"&&i.type!=="goog-remb");return n}ie.getSendingRemoteRtpParameters=g3;function y3(e,t){const n=[];if(!t)n.push(e[0]),$a(e[1])&&n.push(e[1]);else{for(let r=0;r<e.length;++r)if(Zx(e[r],t)){n.push(e[r]),$a(e[r+1])&&n.push(e[r+1]);break}if(n.length===0)throw new TypeError("no matching codec found")}return n}ie.reduceCodecs=y3;function v3(e){e=s3.clone(e,{}),ly(e);const t={mid:o3,codecs:[],headerExtensions:[],encodings:[{ssrc:a3}],rtcp:{cname:"probator"}};return t.codecs.push(e.codecs[0]),t.codecs[0].payloadType=c3,t.headerExtensions=e.headerExtensions,t}ie.generateProbatorRtpParameters=v3;function w3(e,t){return t.codecs.some(n=>n.kind===e)}ie.canSend=w3;function _3(e,t){if(ly(e),e.codecs.length===0)return!1;const n=e.codecs[0];return t.codecs.some(r=>r.remotePayloadType===n.payloadType)}ie.canReceive=_3;function $a(e){return e?/.+\/rtx$/i.test(e.mimeType):!1}function Zx(e,t,{strict:n=!1,modify:r=!1}={}){const i=e.mimeType.toLowerCase(),s=t.mimeType.toLowerCase();if(i!==s||e.clockRate!==t.clockRate||e.channels!==t.channels)return!1;switch(i){case"video/h264":{if(n){const o=e.parameters["packetization-mode"]||0,a=t.parameters["packetization-mode"]||0;if(o!==a||!C_.isSameProfile(e.parameters,t.parameters))return!1;let c;try{c=C_.generateProfileLevelIdForAnswer(e.parameters,t.parameters)}catch{return!1}r&&(c?(e.parameters["profile-level-id"]=c,t.parameters["profile-level-id"]=c):(delete e.parameters["profile-level-id"],delete t.parameters["profile-level-id"]))}break}case"video/vp9":{if(n){const o=e.parameters["profile-id"]||0,a=t.parameters["profile-id"]||0;if(o!==a)return!1}break}}return!0}function S3(e,t){return!(e.kind&&t.kind&&e.kind!==t.kind||e.uri!==t.uri)}function b3(e,t){const n=[];for(const r of e.rtcpFeedback||[]){const i=(t.rtcpFeedback||[]).find(s=>s.type===r.type&&(s.parameter===r.parameter||!s.parameter&&!r.parameter));i&&n.push(i)}return n}var Dc={},vi={},Bd={},R3=B&&B.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bd,"__esModule",{value:!0});Bd.Logger=void 0;const xs=R3(Nd),Ts="awaitqueue";class C3{constructor(t){t?(this._debug=(0,xs.default)(`${Ts}:${t}`),this._warn=(0,xs.default)(`${Ts}:WARN:${t}`),this._error=(0,xs.default)(`${Ts}:ERROR:${t}`)):(this._debug=(0,xs.default)(Ts),this._warn=(0,xs.default)(`${Ts}:WARN`),this._error=(0,xs.default)(`${Ts}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}Bd.Logger=C3;Object.defineProperty(vi,"__esModule",{value:!0});vi.AwaitQueue=vi.AwaitQueueRemovedTaskError=vi.AwaitQueueStoppedError=void 0;const x3=Bd,Wr=new x3.Logger;class $d extends Error{constructor(t){super(t??"AwaitQueue stopped"),this.name="AwaitQueueStoppedError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,$d)}}vi.AwaitQueueStoppedError=$d;class Ud extends Error{constructor(t){super(t??"AwaitQueue task removed"),this.name="AwaitQueueRemovedTaskError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ud)}}vi.AwaitQueueRemovedTaskError=Ud;class T3{constructor(){this.pendingTasks=new Map,this.nextTaskId=0,this.stopping=!1}get size(){return this.pendingTasks.size}async push(t,n){if(n=n??t.name,Wr.debug(`push() [name:${n}]`),typeof t!="function")throw new TypeError("given task is not a function");if(n)try{Object.defineProperty(t,"name",{value:n})}catch{}return new Promise((r,i)=>{const s={id:this.nextTaskId++,task:t,name:n,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:o=>{if(s.completed)return;s.completed=!0,this.pendingTasks.delete(s.id),Wr.debug(`resolving task [name:${s.name}]`),r(o);const[a]=this.pendingTasks.values();a&&!a.executedAt&&this.execute(a)},reject:o=>{if(!s.completed&&(s.completed=!0,this.pendingTasks.delete(s.id),Wr.debug(`rejecting task [name:${s.name}]: %s`,String(o)),i(o),!this.stopping)){const[a]=this.pendingTasks.values();a&&!a.executedAt&&this.execute(a)}}};this.pendingTasks.set(s.id,s),this.pendingTasks.size===1&&this.execute(s)})}stop(){Wr.debug("stop()"),this.stopping=!0;for(const t of this.pendingTasks.values())Wr.debug(`stop() | stopping task [name:${t.name}]`),t.reject(new $d);this.stopping=!1}remove(t){Wr.debug(`remove() [taskIdx:${t}]`);const n=Array.from(this.pendingTasks.values())[t];if(!n){Wr.debug(`stop() | no task with given idx [taskIdx:${t}]`);return}n.reject(new Ud)}dump(){const t=Date.now();let n=0;return Array.from(this.pendingTasks.values()).map(r=>({idx:n++,task:r.task,name:r.name,enqueuedTime:r.executedAt?r.executedAt-r.enqueuedAt:t-r.enqueuedAt,executionTime:r.executedAt?t-r.executedAt:0}))}async execute(t){if(Wr.debug(`execute() [name:${t.name}]`),t.executedAt)throw new Error("task already being executed");t.executedAt=Date.now();try{const n=await t.task();t.resolve(n)}catch(n){t.reject(n)}}}vi.AwaitQueue=T3;/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let x_;var E3=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:B):e=>(x_||(x_=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0)),Ac={};Object.defineProperty(Ac,"__esModule",{value:!0});Ac.Producer=void 0;const P3=ot,T_=vr,Es=xt,qn=new P3.Logger("Producer");class k3 extends T_.EnhancedEventEmitter{constructor({id:t,localId:n,rtpSender:r,track:i,rtpParameters:s,stopTracks:o,disableTrackOnPause:a,zeroRtpOnPause:c,appData:l}){super(),this._closed=!1,this._observer=new T_.EnhancedEventEmitter,qn.debug("constructor()"),this._id=t,this._localId=n,this._rtpSender=r,this._track=i,this._kind=i.kind,this._rtpParameters=s,this._paused=a?!i.enabled:!1,this._maxSpatialLayer=void 0,this._stopTracks=o,this._disableTrackOnPause=a,this._zeroRtpOnPause=c,this._appData=l||{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(qn.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(qn.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new Es.InvalidStateError("closed");return new Promise((t,n)=>{this.safeEmit("@getstats",t,n)})}pause(){if(qn.debug("pause()"),this._closed){qn.error("pause() | Producer closed");return}this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((t,n)=>{this.safeEmit("@pause",t,n)}).catch(()=>{}),this._observer.safeEmit("pause")}resume(){if(qn.debug("resume()"),this._closed){qn.error("resume() | Producer closed");return}this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((t,n)=>{this.safeEmit("@resume",t,n)}).catch(()=>{}),this._observer.safeEmit("resume")}async replaceTrack({track:t}){if(qn.debug("replaceTrack() [track:%o]",t),this._closed){if(t&&this._stopTracks)try{t.stop()}catch{}throw new Es.InvalidStateError("closed")}else if(t&&t.readyState==="ended")throw new Es.InvalidStateError("track ended");if(t===this._track){qn.debug("replaceTrack() | same track, ignored");return}await new Promise((n,r)=>{this.safeEmit("@replacetrack",t,n,r)}),this.destroyTrack(),this._track=t,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()}async setMaxSpatialLayer(t){if(this._closed)throw new Es.InvalidStateError("closed");if(this._kind!=="video")throw new Es.UnsupportedError("not a video Producer");if(typeof t!="number")throw new TypeError("invalid spatialLayer");t!==this._maxSpatialLayer&&(await new Promise((n,r)=>{this.safeEmit("@setmaxspatiallayer",t,n,r)}).catch(()=>{}),this._maxSpatialLayer=t)}async setRtpEncodingParameters(t){if(this._closed)throw new Es.InvalidStateError("closed");if(typeof t!="object")throw new TypeError("invalid params");await new Promise((n,r)=>{this.safeEmit("@setrtpencodingparameters",t,n,r)})}onTrackEnded(){qn.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch{}}}Ac.Producer=k3;var Lc={};Object.defineProperty(Lc,"__esModule",{value:!0});Lc.Consumer=void 0;const D3=ot,E_=vr,A3=xt,Yn=new D3.Logger("Consumer");class L3 extends E_.EnhancedEventEmitter{constructor({id:t,localId:n,producerId:r,rtpReceiver:i,track:s,rtpParameters:o,appData:a}){super(),this._closed=!1,this._observer=new E_.EnhancedEventEmitter,Yn.debug("constructor()"),this._id=t,this._localId=n,this._producerId=r,this._rtpReceiver=i,this._track=s,this._rtpParameters=o,this._paused=!s.enabled,this._appData=a||{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(Yn.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(Yn.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new A3.InvalidStateError("closed");return new Promise((t,n)=>{this.safeEmit("@getstats",t,n)})}pause(){if(Yn.debug("pause()"),this._closed){Yn.error("pause() | Consumer closed");return}if(this._paused){Yn.debug("pause() | Consumer is already paused");return}this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause")}resume(){if(Yn.debug("resume()"),this._closed){Yn.error("resume() | Consumer closed");return}if(!this._paused){Yn.debug("resume() | Consumer is already resumed");return}this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")}onTrackEnded(){Yn.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch{}}}Lc.Consumer=L3;var Oc={};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.DataProducer=void 0;const O3=ot,P_=vr,M3=xt,Sr=new O3.Logger("DataProducer");class I3 extends P_.EnhancedEventEmitter{constructor({id:t,dataChannel:n,sctpStreamParameters:r,appData:i}){super(),this._closed=!1,this._observer=new P_.EnhancedEventEmitter,Sr.debug("constructor()"),this._id=t,this._dataChannel=n,this._sctpStreamParameters=r,this._appData=i||{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(t){this._dataChannel.bufferedAmountLowThreshold=t}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(Sr.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(Sr.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(t){if(Sr.debug("send()"),this._closed)throw new M3.InvalidStateError("closed");this._dataChannel.send(t)}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(Sr.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",t=>{if(this._closed)return;let{error:n}=t;n||(n=new Error("unknown DataChannel error")),n.errorDetail==="sctp-failure"?Sr.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",n.sctpCauseCode,n.message):Sr.error('DataChannel "error" event: %o',n),this.safeEmit("error",n)}),this._dataChannel.addEventListener("close",()=>{this._closed||(Sr.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||Sr.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}}Oc.DataProducer=I3;var Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});Mc.DataConsumer=void 0;const j3=ot,k_=vr,Ii=new j3.Logger("DataConsumer");class N3 extends k_.EnhancedEventEmitter{constructor({id:t,dataProducerId:n,dataChannel:r,sctpStreamParameters:i,appData:s}){super(),this._closed=!1,this._observer=new k_.EnhancedEventEmitter,Ii.debug("constructor()"),this._id=t,this._dataProducerId=n,this._dataChannel=r,this._sctpStreamParameters=i,this._appData=s||{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(t){this._dataChannel.binaryType=t}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(Ii.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(Ii.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(Ii.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",t=>{if(this._closed)return;let{error:n}=t;n||(n=new Error("unknown DataChannel error")),n.errorDetail==="sctp-failure"?Ii.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",n.sctpCauseCode,n.message):Ii.error('DataChannel "error" event: %o',n),this.safeEmit("error",n)}),this._dataChannel.addEventListener("close",()=>{this._closed||(Ii.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",t=>{this._closed||this.safeEmit("message",t.data)})}}Mc.DataConsumer=N3;var F3=B&&B.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),B3=B&&B.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),eT=B&&B.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&F3(t,e,n);return B3(t,e),t},$3=B&&B.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dc,"__esModule",{value:!0});Dc.Transport=void 0;const U3=vi,Cp=$3(E3),V3=ot,D_=vr,wt=xt,xp=eT(ft),da=eT(ie),z3=Ac,H3=Lc,W3=Oc,G3=Mc,ht=new V3.Logger("Transport");class K3{constructor(t){this.consumerOptions=t,this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}}let Q3=class extends D_.EnhancedEventEmitter{constructor({direction:t,id:n,iceParameters:r,iceCandidates:i,dtlsParameters:s,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,appData:f,handlerFactory:p,extendedRtpCapabilities:g,canProduceByKind:h}){super(),this._closed=!1,this._iceGatheringState="new",this._connectionState="new",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new U3.AwaitQueue,this._pendingConsumerTasks=[],this._consumerCreationInProgress=!1,this._pendingPauseConsumers=new Map,this._consumerPauseInProgress=!1,this._pendingResumeConsumers=new Map,this._consumerResumeInProgress=!1,this._pendingCloseConsumers=new Map,this._consumerCloseInProgress=!1,this._observer=new D_.EnhancedEventEmitter,ht.debug("constructor() [id:%s, direction:%s]",n,t),this._id=n,this._direction=t,this._extendedRtpCapabilities=g,this._canProduceByKind=h,this._maxSctpMessageSize=o?o.maxMessageSize:null,l=xp.clone(l,{}),delete l.iceServers,delete l.iceTransportPolicy,delete l.bundlePolicy,delete l.rtcpMuxPolicy,delete l.sdpSemantics,this._handler=p(),this._handler.run({direction:t,iceParameters:r,iceCandidates:i,dtlsParameters:s,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,extendedRtpCapabilities:g}),this._appData=f||{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){if(!this._closed){ht.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const t of this._producers.values())t.transportClosed();this._producers.clear();for(const t of this._consumers.values())t.transportClosed();this._consumers.clear();for(const t of this._dataProducers.values())t.transportClosed();this._dataProducers.clear();for(const t of this._dataConsumers.values())t.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new wt.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:t}){if(ht.debug("restartIce()"),this._closed)throw new wt.InvalidStateError("closed");if(!t)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>await this._handler.restartIce(t),"transport.restartIce()")}async updateIceServers({iceServers:t}={}){if(ht.debug("updateIceServers()"),this._closed)throw new wt.InvalidStateError("closed");if(!Array.isArray(t))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(t),"transport.updateIceServers()")}async produce({track:t,encodings:n,codecOptions:r,codec:i,stopTracks:s=!0,disableTrackOnPause:o=!0,zeroRtpOnPause:a=!1,appData:c={}}={}){if(ht.debug("produce() [track:%o]",t),this._closed)throw new wt.InvalidStateError("closed");if(t){if(this._direction!=="send")throw new wt.UnsupportedError("not a sending Transport");if(this._canProduceByKind[t.kind]){if(t.readyState==="ended")throw new wt.InvalidStateError("track ended");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("produce")===0)throw new TypeError('no "produce" listener set into this transport');if(c&&typeof c!="object")throw new TypeError("if given, appData must be an object")}else throw new wt.UnsupportedError(`cannot produce ${t.kind}`)}else throw new TypeError("missing track");return this._awaitQueue.push(async()=>{let l;if(n&&!Array.isArray(n))throw TypeError("encodings must be an array");n&&n.length===0?l=void 0:n&&(l=n.map(g=>{const h={active:!0};return g.active===!1&&(h.active=!1),typeof g.dtx=="boolean"&&(h.dtx=g.dtx),typeof g.scalabilityMode=="string"&&(h.scalabilityMode=g.scalabilityMode),typeof g.scaleResolutionDownBy=="number"&&(h.scaleResolutionDownBy=g.scaleResolutionDownBy),typeof g.maxBitrate=="number"&&(h.maxBitrate=g.maxBitrate),typeof g.maxFramerate=="number"&&(h.maxFramerate=g.maxFramerate),typeof g.adaptivePtime=="boolean"&&(h.adaptivePtime=g.adaptivePtime),typeof g.priority=="string"&&(h.priority=g.priority),typeof g.networkPriority=="string"&&(h.networkPriority=g.networkPriority),h}));const{localId:d,rtpParameters:f,rtpSender:p}=await this._handler.send({track:t,encodings:l,codecOptions:r,codec:i});try{da.validateRtpParameters(f);const{id:g}=await new Promise((y,S)=>{this.safeEmit("produce",{kind:t.kind,rtpParameters:f,appData:c},y,S)}),h=new z3.Producer({id:g,localId:d,rtpSender:p,track:t,rtpParameters:f,stopTracks:s,disableTrackOnPause:o,zeroRtpOnPause:a,appData:c});return this._producers.set(h.id,h),this.handleProducer(h),this._observer.safeEmit("newproducer",h),h}catch(g){throw this._handler.stopSending(d).catch(()=>{}),g}},"transport.produce()").catch(l=>{if(s)try{t.stop()}catch{}throw l})}async consume({id:t,producerId:n,kind:r,rtpParameters:i,streamId:s,appData:o={}}){if(ht.debug("consume()"),i=xp.clone(i,void 0),this._closed)throw new wt.InvalidStateError("closed");if(this._direction!=="recv")throw new wt.UnsupportedError("not a receiving Transport");if(typeof t!="string")throw new TypeError("missing id");if(typeof n!="string")throw new TypeError("missing producerId");if(r!=="audio"&&r!=="video")throw new TypeError(`invalid kind '${r}'`);if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(o&&typeof o!="object")throw new TypeError("if given, appData must be an object");if(!da.canReceive(i,this._extendedRtpCapabilities))throw new wt.UnsupportedError("cannot consume this Producer");const c=new K3({id:t,producerId:n,kind:r,rtpParameters:i,streamId:s,appData:o});return this._pendingConsumerTasks.push(c),(0,Cp.default)(()=>{this._closed||this._consumerCreationInProgress===!1&&this.createPendingConsumers()}),c.promise}async produceData({ordered:t=!0,maxPacketLifeTime:n,maxRetransmits:r,label:i="",protocol:s="",appData:o={}}={}){if(ht.debug("produceData()"),this._closed)throw new wt.InvalidStateError("closed");if(this._direction!=="send")throw new wt.UnsupportedError("not a sending Transport");if(this._maxSctpMessageSize){if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("producedata")===0)throw new TypeError('no "producedata" listener set into this transport');if(o&&typeof o!="object")throw new TypeError("if given, appData must be an object")}else throw new wt.UnsupportedError("SCTP not enabled by remote Transport");return(n||r)&&(t=!1),this._awaitQueue.push(async()=>{const{dataChannel:a,sctpStreamParameters:c}=await this._handler.sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:s});da.validateSctpStreamParameters(c);const{id:l}=await new Promise((f,p)=>{this.safeEmit("producedata",{sctpStreamParameters:c,label:i,protocol:s,appData:o},f,p)}),d=new W3.DataProducer({id:l,dataChannel:a,sctpStreamParameters:c,appData:o});return this._dataProducers.set(d.id,d),this.handleDataProducer(d),this._observer.safeEmit("newdataproducer",d),d},"transport.produceData()")}async consumeData({id:t,dataProducerId:n,sctpStreamParameters:r,label:i="",protocol:s="",appData:o={}}){if(ht.debug("consumeData()"),r=xp.clone(r,void 0),this._closed)throw new wt.InvalidStateError("closed");if(this._direction!=="recv")throw new wt.UnsupportedError("not a receiving Transport");if(this._maxSctpMessageSize){if(typeof t!="string")throw new TypeError("missing id");if(typeof n!="string")throw new TypeError("missing dataProducerId");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(o&&typeof o!="object")throw new TypeError("if given, appData must be an object")}else throw new wt.UnsupportedError("SCTP not enabled by remote Transport");return da.validateSctpStreamParameters(r),this._awaitQueue.push(async()=>{const{dataChannel:a}=await this._handler.receiveDataChannel({sctpStreamParameters:r,label:i,protocol:s}),c=new G3.DataConsumer({id:t,dataProducerId:n,dataChannel:a,sctpStreamParameters:r,appData:o});return this._dataConsumers.set(c.id,c),this.handleDataConsumer(c),this._observer.safeEmit("newdataconsumer",c),c},"transport.consumeData()")}async createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingConsumerTasks.length===0){ht.debug("createPendingConsumers() | there is no Consumer to be created");return}const t=[...this._pendingConsumerTasks];this._pendingConsumerTasks=[];let n;const r=[];for(const i of t){const{id:s,kind:o,rtpParameters:a,streamId:c}=i.consumerOptions;r.push({trackId:s,kind:o,rtpParameters:a,streamId:c})}try{const i=await this._handler.receive(r);for(let s=0;s<i.length;++s){const o=t[s],a=i[s],{id:c,producerId:l,kind:d,rtpParameters:f,appData:p}=o.consumerOptions,{localId:g,rtpReceiver:h,track:y}=a,S=new H3.Consumer({id:c,localId:g,producerId:l,rtpReceiver:h,track:y,rtpParameters:f,appData:p});this._consumers.set(S.id,S),this.handleConsumer(S),!this._probatorConsumerCreated&&!n&&d==="video"&&(n=S),this._observer.safeEmit("newconsumer",S),o.resolve(S)}}catch(i){for(const s of t)s.reject(i)}if(n)try{const i=da.generateProbatorRtpParameters(n.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:i}]),ht.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(i){ht.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",i)}},"transport.createPendingConsumers()").then(()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()}).catch(()=>{})}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingPauseConsumers.size===0){ht.debug("pausePendingConsumers() | there is no Consumer to be paused");return}const t=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const n=t.map(r=>r.localId);await this._handler.pauseReceiving(n)}catch(n){ht.error("pausePendingConsumers() | failed to pause Consumers:",n)}},"transport.pausePendingConsumers").then(()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()}).catch(()=>{})}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingResumeConsumers.size===0){ht.debug("resumePendingConsumers() | there is no Consumer to be resumed");return}const t=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const n=t.map(r=>r.localId);await this._handler.resumeReceiving(n)}catch(n){ht.error("resumePendingConsumers() | failed to resume Consumers:",n)}},"transport.resumePendingConsumers").then(()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()}).catch(()=>{})}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingCloseConsumers.size===0){ht.debug("closePendingConsumers() | there is no Consumer to be closed");return}const t=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(t.map(n=>n.localId))}catch(n){ht.error("closePendingConsumers() | failed to close Consumers:",n)}},"transport.closePendingConsumers").then(()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()}).catch(()=>{})}handleHandler(){const t=this._handler;t.on("@connect",({dtlsParameters:n},r,i)=>{if(this._closed){i(new wt.InvalidStateError("closed"));return}this.safeEmit("connect",{dtlsParameters:n},r,i)}),t.on("@icegatheringstatechange",n=>{n!==this._iceGatheringState&&(ht.debug("ICE gathering state changed to %s",n),this._iceGatheringState=n,this._closed||this.safeEmit("icegatheringstatechange",n))}),t.on("@connectionstatechange",n=>{n!==this._connectionState&&(ht.debug("connection state changed to %s",n),this._connectionState=n,this._closed||this.safeEmit("connectionstatechange",n))})}handleProducer(t){t.on("@close",()=>{this._producers.delete(t.id),!this._closed&&this._awaitQueue.push(async()=>await this._handler.stopSending(t.localId),"producer @close event").catch(n=>ht.warn("producer.close() failed:%o",n))}),t.on("@pause",(n,r)=>{this._awaitQueue.push(async()=>await this._handler.pauseSending(t.localId),"producer @pause event").then(n).catch(r)}),t.on("@resume",(n,r)=>{this._awaitQueue.push(async()=>await this._handler.resumeSending(t.localId),"producer @resume event").then(n).catch(r)}),t.on("@replacetrack",(n,r,i)=>{this._awaitQueue.push(async()=>await this._handler.replaceTrack(t.localId,n),"producer @replacetrack event").then(r).catch(i)}),t.on("@setmaxspatiallayer",(n,r,i)=>{this._awaitQueue.push(async()=>await this._handler.setMaxSpatialLayer(t.localId,n),"producer @setmaxspatiallayer event").then(r).catch(i)}),t.on("@setrtpencodingparameters",(n,r,i)=>{this._awaitQueue.push(async()=>await this._handler.setRtpEncodingParameters(t.localId,n),"producer @setrtpencodingparameters event").then(r).catch(i)}),t.on("@getstats",(n,r)=>{if(this._closed)return r(new wt.InvalidStateError("closed"));this._handler.getSenderStats(t.localId).then(n).catch(r)})}handleConsumer(t){t.on("@close",()=>{this._consumers.delete(t.id),this._pendingPauseConsumers.delete(t.id),this._pendingResumeConsumers.delete(t.id),!this._closed&&(this._pendingCloseConsumers.set(t.id,t),this._consumerCloseInProgress===!1&&this.closePendingConsumers())}),t.on("@pause",()=>{this._pendingResumeConsumers.has(t.id)&&this._pendingResumeConsumers.delete(t.id),this._pendingPauseConsumers.set(t.id,t),(0,Cp.default)(()=>{this._closed||this._consumerPauseInProgress===!1&&this.pausePendingConsumers()})}),t.on("@resume",()=>{this._pendingPauseConsumers.has(t.id)&&this._pendingPauseConsumers.delete(t.id),this._pendingResumeConsumers.set(t.id,t),(0,Cp.default)(()=>{this._closed||this._consumerResumeInProgress===!1&&this.resumePendingConsumers()})}),t.on("@getstats",(n,r)=>{if(this._closed)return r(new wt.InvalidStateError("closed"));this._handler.getReceiverStats(t.localId).then(n).catch(r)})}handleDataProducer(t){t.on("@close",()=>{this._dataProducers.delete(t.id)})}handleDataConsumer(t){t.on("@close",()=>{this._dataConsumers.delete(t.id)})}};Dc.Transport=Q3;var Vd={},pt={},tT={},nT={exports:{}},A_=nT.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return e.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return e.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return e.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=e.raddr!=null?" raddr %s rport %d":"%v%v",t+=e.tcptype!=null?" tcptype %s":"%v",e.generation!=null&&(t+=" generation %d"),t+=e["network-id"]!=null?" network-id %d":"%v",t+=e["network-cost"]!=null?" network-cost %d":"%v",t}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return e.attribute!=null&&(t+=" %s",e.value!=null&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return e.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(e.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=e.id!=null?"id=%s %s":"%v%s",t+=e.mediaClockValue!=null?"=%s":"",t+=e.rateNumerator!=null?" rate=%s":"",t+=e.rateDenominator!=null?"/%s":"",t}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(A_).forEach(function(e){var t=A_[e];t.forEach(function(n){n.reg||(n.reg=/(.*)/),n.format||(n.format="%s")})});var rT=nT.exports;(function(e){var t=function(a){return String(Number(a))===a?Number(a):a},n=function(a,c,l,d){if(d&&!l)c[d]=t(a[1]);else for(var f=0;f<l.length;f+=1)a[f+1]!=null&&(c[l[f]]=t(a[f+1]))},r=function(a,c,l){var d=a.name&&a.names;a.push&&!c[a.push]?c[a.push]=[]:d&&!c[a.name]&&(c[a.name]={});var f=a.push?{}:d?c[a.name]:c;n(l.match(a.reg),f,a.names,a.name),a.push&&c[a.push].push(f)},i=rT,s=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(a){var c={},l=[],d=c;return a.split(/(\r\n|\r|\n)/).filter(s).forEach(function(f){var p=f[0],g=f.slice(2);p==="m"&&(l.push({rtp:[],fmtp:[]}),d=l[l.length-1]);for(var h=0;h<(i[p]||[]).length;h+=1){var y=i[p][h];if(y.reg.test(g))return r(y,d,g)}}),c.media=l,c};var o=function(a,c){var l=c.split(/=(.+)/,2);return l.length===2?a[l[0]]=t(l[1]):l.length===1&&c.length>1&&(a[l[0]]=void 0),a};e.parseParams=function(a){return a.split(/;\s?/).reduce(o,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(a){return a.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(a){for(var c=[],l=a.split(" ").map(t),d=0;d<l.length;d+=3)c.push({component:l[d],ip:l[d+1],port:l[d+2]});return c},e.parseImageAttributes=function(a){return a.split(" ").map(function(c){return c.substring(1,c.length-1).split(",").reduce(o,{})})},e.parseSimulcastStreamList=function(a){return a.split(";").map(function(c){return c.split(",").map(function(l){var d,f=!1;return l[0]!=="~"?d=t(l):(d=t(l.substring(1,l.length)),f=!0),{scid:d,paused:f}})})}})(tT);var Tp=rT,q3=/%[sdv%]/g,Y3=function(e){var t=1,n=arguments,r=n.length;return e.replace(q3,function(i){if(t>=r)return i;var s=n[t];switch(t+=1,i){case"%%":return"%";case"%s":return String(s);case"%d":return Number(s);case"%v":return""}})},fa=function(e,t,n){var r=t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format,i=[e+"="+r];if(t.names)for(var s=0;s<t.names.length;s+=1){var o=t.names[s];t.name?i.push(n[t.name][o]):i.push(n[t.names[s]])}else i.push(n[t.name]);return Y3.apply(null,i)},X3=["v","o","s","i","u","e","p","c","b","t","r","z","a"],J3=["i","c","b","a"],Z3=function(e,t){t=t||{},e.version==null&&(e.version=0),e.name==null&&(e.name=" "),e.media.forEach(function(s){s.payloads==null&&(s.payloads="")});var n=t.outerOrder||X3,r=t.innerOrder||J3,i=[];return n.forEach(function(s){Tp[s].forEach(function(o){o.name in e&&e[o.name]!=null?i.push(fa(s,o,e)):o.push in e&&e[o.push]!=null&&e[o.push].forEach(function(a){i.push(fa(s,o,a))})})}),e.media.forEach(function(s){i.push(fa("m",Tp.m[0],s)),r.forEach(function(o){Tp[o].forEach(function(a){a.name in s&&s[a.name]!=null?i.push(fa(o,a,s)):a.push in s&&s[a.push]!=null&&s[a.push].forEach(function(c){i.push(fa(o,a,c))})})})}),i.join(`\r
`)+`\r
`},fs=tT,eB=Z3;pt.write=eB;pt.parse=fs.parse;pt.parseParams=fs.parseParams;pt.parseFmtpConfig=fs.parseFmtpConfig;pt.parsePayloads=fs.parsePayloads;pt.parseRemoteCandidates=fs.parseRemoteCandidates;pt.parseImageAttributes=fs.parseImageAttributes;pt.parseSimulcastStreamList=fs.parseSimulcastStreamList;var Rt={},tB=B&&B.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),nB=B&&B.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),rB=B&&B.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&tB(t,e,n);return nB(t,e),t};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.applyCodecParameters=Rt.getCname=Rt.extractDtlsParameters=Rt.extractRtpCapabilities=void 0;const iT=rB(pt);function iB({sdpObject:e}){const t=new Map,n=[];let r=!1,i=!1;for(const o of e.media){const a=o.type;switch(a){case"audio":{if(r)continue;r=!0;break}case"video":{if(i)continue;i=!0;break}default:continue}for(const c of o.rtp){const l={kind:a,mimeType:`${a}/${c.codec}`,preferredPayloadType:c.payload,clockRate:c.rate,channels:c.encoding,parameters:{},rtcpFeedback:[]};t.set(l.preferredPayloadType,l)}for(const c of o.fmtp||[]){const l=iT.parseParams(c.config),d=t.get(c.payload);d&&(l&&l.hasOwnProperty("profile-level-id")&&(l["profile-level-id"]=String(l["profile-level-id"])),d.parameters=l)}for(const c of o.rtcpFb||[]){const l={type:c.type,parameter:c.subtype};if(l.parameter||delete l.parameter,c.payload!=="*"){const d=t.get(c.payload);if(!d)continue;d.rtcpFeedback.push(l)}else for(const d of t.values())d.kind===a&&!/.+\/rtx$/i.test(d.mimeType)&&d.rtcpFeedback.push(l)}for(const c of o.ext||[]){if(c["encrypt-uri"])continue;const l={kind:a,uri:c.uri,preferredId:c.value};n.push(l)}}return{codecs:Array.from(t.values()),headerExtensions:n}}Rt.extractRtpCapabilities=iB;function sB({sdpObject:e}){const t=(e.media||[]).find(s=>s.iceUfrag&&s.port!==0);if(!t)throw new Error("no active media section found");const n=t.fingerprint||e.fingerprint;let r;switch(t.setup){case"active":r="client";break;case"passive":r="server";break;case"actpass":r="auto";break}return{role:r,fingerprints:[{algorithm:n.type,value:n.hash}]}}Rt.extractDtlsParameters=sB;function oB({offerMediaObject:e}){const t=(e.ssrcs||[]).find(n=>n.attribute==="cname");return t?t.value:""}Rt.getCname=oB;function aB({offerRtpParameters:e,answerMediaObject:t}){for(const n of e.codecs){const r=n.mimeType.toLowerCase();if(r!=="audio/opus"||!(t.rtp||[]).find(a=>a.payload===n.payloadType))continue;t.fmtp=t.fmtp||[];let s=t.fmtp.find(a=>a.payload===n.payloadType);s||(s={payload:n.payloadType,config:""},t.fmtp.push(s));const o=iT.parseParams(s.config);switch(r){case"audio/opus":{const a=n.parameters["sprop-stereo"];a!==void 0&&(o.stereo=a?1:0);break}}s.config="";for(const a of Object.keys(o))s.config&&(s.config+=";"),s.config+=`${a}=${o[a]}`}}Rt.applyCodecParameters=aB;var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.addLegacySimulcast=Vn.getRtpEncodings=void 0;function cB({offerMediaObject:e}){const t=new Set;for(const i of e.ssrcs||[]){const s=i.id;t.add(s)}if(t.size===0)throw new Error("no a=ssrc lines found");const n=new Map;for(const i of e.ssrcGroups||[]){if(i.semantics!=="FID")continue;let[s,o]=i.ssrcs.split(/\s+/);s=Number(s),o=Number(o),t.has(s)&&(t.delete(s),t.delete(o),n.set(s,o))}for(const i of t)n.set(i,null);const r=[];for(const[i,s]of n){const o={ssrc:i};s&&(o.rtx={ssrc:s}),r.push(o)}return r}Vn.getRtpEncodings=cB;function lB({offerMediaObject:e,numStreams:t}){if(t<=1)throw new TypeError("numStreams must be greater than 1");const n=(e.ssrcs||[]).find(f=>f.attribute==="msid");if(!n)throw new Error("a=ssrc line with msid information not found");const[r,i]=n.value.split(" "),s=n.id;let o;(e.ssrcGroups||[]).some(f=>{if(f.semantics!=="FID")return!1;const p=f.ssrcs.split(/\s+/);return Number(p[0])===s?(o=Number(p[1]),!0):!1});const a=e.ssrcs.find(f=>f.attribute==="cname");if(!a)throw new Error("a=ssrc line with cname information not found");const c=a.value,l=[],d=[];for(let f=0;f<t;++f)l.push(s+f),o&&d.push(o+f);e.ssrcGroups=[],e.ssrcs=[],e.ssrcGroups.push({semantics:"SIM",ssrcs:l.join(" ")});for(let f=0;f<l.length;++f){const p=l[f];e.ssrcs.push({id:p,attribute:"cname",value:c}),e.ssrcs.push({id:p,attribute:"msid",value:`${r} ${i}`})}for(let f=0;f<d.length;++f){const p=l[f],g=d[f];e.ssrcs.push({id:g,attribute:"cname",value:c}),e.ssrcs.push({id:g,attribute:"msid",value:`${r} ${i}`}),e.ssrcGroups.push({semantics:"FID",ssrcs:`${p} ${g}`})}}Vn.addLegacySimulcast=lB;var ps={};Object.defineProperty(ps,"__esModule",{value:!0});ps.addNackSuppportForOpus=void 0;function uB(e){var t;for(const n of e.codecs||[])(n.mimeType.toLowerCase()==="audio/opus"||n.mimeType.toLowerCase()==="audio/multiopus")&&!((t=n.rtcpFeedback)!=null&&t.some(r=>r.type==="nack"&&!r.parameter))&&(n.rtcpFeedback||(n.rtcpFeedback=[]),n.rtcpFeedback.push({type:"nack"}))}ps.addNackSuppportForOpus=uB;var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.HandlerInterface=void 0;const dB=vr;class fB extends dB.EnhancedEventEmitter{constructor(){super()}}Qt.HandlerInterface=fB;var mn={},wi={},pB=B&&B.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),hB=B&&B.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),sT=B&&B.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&pB(t,e,n);return hB(t,e),t};Object.defineProperty(wi,"__esModule",{value:!0});wi.OfferMediaSection=wi.AnswerMediaSection=wi.MediaSection=void 0;const mB=sT(pt),L_=sT(ft);class uy{constructor({iceParameters:t,iceCandidates:n,dtlsParameters:r,planB:i=!1}){if(this._mediaObject={},this._planB=i,t&&this.setIceParameters(t),n){this._mediaObject.candidates=[];for(const s of n){const o={};o.component=1,o.foundation=s.foundation,o.ip=s.ip,o.port=s.port,o.priority=s.priority,o.transport=s.protocol,o.type=s.type,s.tcpType&&(o.tcptype=s.tcpType),this._mediaObject.candidates.push(o)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}r&&this.setDtlsRole(r.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return this._mediaObject.port===0}getObject(){return this._mediaObject}setIceParameters(t){this._mediaObject.iceUfrag=t.usernameFragment,this._mediaObject.icePwd=t.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}close(){this.disable(),this._mediaObject.port=0}}wi.MediaSection=uy;class gB extends uy{constructor({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,plainRtpParameters:s,planB:o=!1,offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:d,extmapAllowMixed:f=!1}){switch(super({iceParameters:t,iceCandidates:n,dtlsParameters:r,planB:o}),this._mediaObject.mid=String(a.mid),this._mediaObject.type=a.type,this._mediaObject.protocol=a.protocol,s?(this._mediaObject.connection={ip:s.ip,version:s.ipVersion},this._mediaObject.port=s.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),a.type){case"audio":case"video":{this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const p of l.codecs){const g={payload:p.payloadType,codec:fm(p),rate:p.clockRate};p.channels>1&&(g.encoding=p.channels),this._mediaObject.rtp.push(g);const h=L_.clone(p.parameters,{});let y=L_.clone(p.rtcpFeedback,[]);if(d){const{opusStereo:w,opusFec:_,opusDtx:b,opusMaxPlaybackRate:C,opusMaxAverageBitrate:L,opusPtime:j,opusNack:O,videoGoogleStartBitrate:F,videoGoogleMaxBitrate:Y,videoGoogleMinBitrate:D}=d,I=c.codecs.find(G=>G.payloadType===p.payloadType);switch(p.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":{w!==void 0&&(I.parameters["sprop-stereo"]=w?1:0,h.stereo=w?1:0),_!==void 0&&(I.parameters.useinbandfec=_?1:0,h.useinbandfec=_?1:0),b!==void 0&&(I.parameters.usedtx=b?1:0,h.usedtx=b?1:0),C!==void 0&&(h.maxplaybackrate=C),L!==void 0&&(h.maxaveragebitrate=L),j!==void 0&&(I.parameters.ptime=j,h.ptime=j),O||(I.rtcpFeedback=I.rtcpFeedback.filter(G=>G.type!=="nack"||G.parameter),y=y.filter(G=>G.type!=="nack"||G.parameter));break}case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":{F!==void 0&&(h["x-google-start-bitrate"]=F),Y!==void 0&&(h["x-google-max-bitrate"]=Y),D!==void 0&&(h["x-google-min-bitrate"]=D);break}}}const S={payload:p.payloadType,config:""};for(const w of Object.keys(h))S.config&&(S.config+=";"),S.config+=`${w}=${h[w]}`;S.config&&this._mediaObject.fmtp.push(S);for(const w of y)this._mediaObject.rtcpFb.push({payload:p.payloadType,type:w.type,subtype:w.parameter})}this._mediaObject.payloads=l.codecs.map(p=>p.payloadType).join(" "),this._mediaObject.ext=[];for(const p of l.headerExtensions)(a.ext||[]).some(h=>h.uri===p.uri)&&this._mediaObject.ext.push({uri:p.uri,value:p.id});if(f&&a.extmapAllowMixed==="extmap-allow-mixed"&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),a.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:a.simulcast.list1},this._mediaObject.rids=[];for(const p of a.rids||[])p.direction==="send"&&this._mediaObject.rids.push({id:p.id,direction:"recv"})}else if(a.simulcast_03){this._mediaObject.simulcast_03={value:a.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const p of a.rids||[])p.direction==="send"&&this._mediaObject.rids.push({id:p.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&this._mediaObject.type==="video"&&(this._mediaObject.xGoogleFlag="conference");break}case"application":{typeof a.sctpPort=="number"?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=i.port,this._mediaObject.maxMessageSize=i.maxMessageSize):a.sctpmap&&(this._mediaObject.payloads=i.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:i.port,maxMessageSize:i.maxMessageSize});break}}}setDtlsRole(t){switch(t){case"client":this._mediaObject.setup="active";break;case"server":this._mediaObject.setup="passive";break;case"auto":this._mediaObject.setup="actpass";break}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(t){var s;if(!this._mediaObject.simulcast||!this._mediaObject.simulcast.list1)return;const n={};for(const o of t)o.rid&&(n[o.rid]=o);const r=this._mediaObject.simulcast.list1,i=mB.parseSimulcastStreamList(r);for(const o of i)for(const a of o)a.paused=!((s=n[a.scid])!=null&&s.active);this._mediaObject.simulcast.list1=i.map(o=>o.map(a=>`${a.paused?"~":""}${a.scid}`).join(",")).join(";")}}wi.AnswerMediaSection=gB;class yB extends uy{constructor({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,plainRtpParameters:s,planB:o=!1,mid:a,kind:c,offerRtpParameters:l,streamId:d,trackId:f,oldDataChannelSpec:p=!1}){switch(super({iceParameters:t,iceCandidates:n,dtlsParameters:r,planB:o}),this._mediaObject.mid=String(a),this._mediaObject.type=c,s?(this._mediaObject.connection={ip:s.ip,version:s.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=s.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},i?this._mediaObject.protocol="UDP/DTLS/SCTP":this._mediaObject.protocol="UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),c){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${d||"-"} ${f}`);for(const S of l.codecs){const w={payload:S.payloadType,codec:fm(S),rate:S.clockRate};S.channels>1&&(w.encoding=S.channels),this._mediaObject.rtp.push(w);const _={payload:S.payloadType,config:""};for(const b of Object.keys(S.parameters))_.config&&(_.config+=";"),_.config+=`${b}=${S.parameters[b]}`;_.config&&this._mediaObject.fmtp.push(_);for(const b of S.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:S.payloadType,type:b.type,subtype:b.parameter})}this._mediaObject.payloads=l.codecs.map(S=>S.payloadType).join(" "),this._mediaObject.ext=[];for(const S of l.headerExtensions)this._mediaObject.ext.push({uri:S.uri,value:S.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const g=l.encodings[0],h=g.ssrc,y=g.rtx&&g.rtx.ssrc?g.rtx.ssrc:void 0;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],l.rtcp.cname&&this._mediaObject.ssrcs.push({id:h,attribute:"cname",value:l.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:h,attribute:"msid",value:`${d||"-"} ${f}`}),y&&(l.rtcp.cname&&this._mediaObject.ssrcs.push({id:y,attribute:"cname",value:l.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:y,attribute:"msid",value:`${d||"-"} ${f}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${h} ${y}`}));break}case"application":{p?(this._mediaObject.payloads=i.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:i.port,maxMessageSize:i.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=i.port,this._mediaObject.maxMessageSize=i.maxMessageSize);break}}}setDtlsRole(t){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}planBReceive({offerRtpParameters:t,streamId:n,trackId:r}){const i=t.encodings[0],s=i.ssrc,o=i.rtx&&i.rtx.ssrc?i.rtx.ssrc:void 0,a=this._mediaObject.payloads.split(" ");for(const c of t.codecs){if(a.includes(String(c.payloadType)))continue;const l={payload:c.payloadType,codec:fm(c),rate:c.clockRate};c.channels>1&&(l.encoding=c.channels),this._mediaObject.rtp.push(l);const d={payload:c.payloadType,config:""};for(const f of Object.keys(c.parameters))d.config&&(d.config+=";"),d.config+=`${f}=${c.parameters[f]}`;d.config&&this._mediaObject.fmtp.push(d);for(const f of c.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:c.payloadType,type:f.type,subtype:f.parameter})}this._mediaObject.payloads+=` ${t.codecs.filter(c=>!this._mediaObject.payloads.includes(c.payloadType)).map(c=>c.payloadType).join(" ")}`,this._mediaObject.payloads=this._mediaObject.payloads.trim(),t.rtcp.cname&&this._mediaObject.ssrcs.push({id:s,attribute:"cname",value:t.rtcp.cname}),this._mediaObject.ssrcs.push({id:s,attribute:"msid",value:`${n||"-"} ${r}`}),o&&(t.rtcp.cname&&this._mediaObject.ssrcs.push({id:o,attribute:"cname",value:t.rtcp.cname}),this._mediaObject.ssrcs.push({id:o,attribute:"msid",value:`${n||"-"} ${r}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${s} ${o}`}))}planBStopReceiving({offerRtpParameters:t}){const n=t.encodings[0],r=n.ssrc,i=n.rtx&&n.rtx.ssrc?n.rtx.ssrc:void 0;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter(s=>s.id!==r&&s.id!==i),i&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter(s=>s.ssrcs!==`${r} ${i}`))}}wi.OfferMediaSection=yB;function fm(e){const n=new RegExp("^(audio|video)/(.+)","i").exec(e.mimeType);if(!n)throw new TypeError("invalid codec.mimeType");return n[2]}var vB=B&&B.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),wB=B&&B.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_B=B&&B.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&vB(t,e,n);return wB(t,e),t};Object.defineProperty(mn,"__esModule",{value:!0});mn.RemoteSdp=void 0;const SB=_B(pt),bB=ot,Rl=wi,Ep=new bB.Logger("RemoteSdp");class RB{constructor({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,plainRtpParameters:s,planB:o=!1}){if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=t,this._iceCandidates=n,this._dtlsParameters=r,this._sctpParameters=i,this._plainRtpParameters=s,this._planB=o,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},t&&t.iceLite&&(this._sdpObject.icelite="ice-lite"),r){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const a=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:r.fingerprints[a-1].algorithm,hash:r.fingerprints[a-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}s&&(this._sdpObject.origin.address=s.ip,this._sdpObject.origin.ipVer=s.ipVersion)}updateIceParameters(t){Ep.debug("updateIceParameters() [iceParameters:%o]",t),this._iceParameters=t,this._sdpObject.icelite=t.iceLite?"ice-lite":void 0;for(const n of this._mediaSections)n.setIceParameters(t)}updateDtlsRole(t){Ep.debug("updateDtlsRole() [role:%s]",t),this._dtlsParameters.role=t;for(const n of this._mediaSections)n.setDtlsRole(t)}getNextMediaSectionIdx(){for(let t=0;t<this._mediaSections.length;++t){const n=this._mediaSections[t];if(n.closed)return{idx:t,reuseMid:n.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:t,reuseMid:n,offerRtpParameters:r,answerRtpParameters:i,codecOptions:s,extmapAllowMixed:o=!1}){const a=new Rl.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:t,offerRtpParameters:r,answerRtpParameters:i,codecOptions:s,extmapAllowMixed:o});n?this._replaceMediaSection(a,n):this._midToIndex.has(a.mid)?this._replaceMediaSection(a):this._addMediaSection(a)}receive({mid:t,kind:n,offerRtpParameters:r,streamId:i,trackId:s}){const o=this._midToIndex.get(t);let a;if(o!==void 0&&(a=this._mediaSections[o]),a)a.planBReceive({offerRtpParameters:r,streamId:i,trackId:s}),this._replaceMediaSection(a);else{a=new Rl.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:t,kind:n,offerRtpParameters:r,streamId:i,trackId:s});const c=this._mediaSections.find(l=>l.closed);c?this._replaceMediaSection(a,c.mid):this._addMediaSection(a)}}pauseMediaSection(t){this._findMediaSection(t).pause()}resumeSendingMediaSection(t){this._findMediaSection(t).resume()}resumeReceivingMediaSection(t){this._findMediaSection(t).resume()}disableMediaSection(t){this._findMediaSection(t).disable()}closeMediaSection(t){const n=this._findMediaSection(t);return t===this._firstMid?(Ep.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",t),this.disableMediaSection(t),!1):(n.close(),this._regenerateBundleMids(),!0)}muxMediaSectionSimulcast(t,n){const r=this._findMediaSection(t);r.muxSimulcastStreams(n),this._replaceMediaSection(r)}planBStopReceiving({mid:t,offerRtpParameters:n}){const r=this._findMediaSection(t);r.planBStopReceiving({offerRtpParameters:n}),this._replaceMediaSection(r)}sendSctpAssociation({offerMediaObject:t}){const n=new Rl.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:t});this._addMediaSection(n)}receiveSctpAssociation({oldDataChannelSpec:t=!1}={}){const n=new Rl.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:t});this._addMediaSection(n)}getSdp(){return this._sdpObject.origin.sessionVersion++,SB.write(this._sdpObject)}_addMediaSection(t){this._firstMid||(this._firstMid=t.mid),this._mediaSections.push(t),this._midToIndex.set(t.mid,this._mediaSections.length-1),this._sdpObject.media.push(t.getObject()),this._regenerateBundleMids()}_replaceMediaSection(t,n){if(typeof n=="string"){const r=this._midToIndex.get(n);if(r===void 0)throw new Error(`no media section found for reuseMid '${n}'`);const i=this._mediaSections[r];this._mediaSections[r]=t,this._midToIndex.delete(i.mid),this._midToIndex.set(t.mid,r),this._sdpObject.media[r]=t.getObject(),this._regenerateBundleMids()}else{const r=this._midToIndex.get(t.mid);if(r===void 0)throw new Error(`no media section found with mid '${t.mid}'`);this._mediaSections[r]=t,this._sdpObject.media[r]=t.getObject()}}_findMediaSection(t){const n=this._midToIndex.get(t);if(n===void 0)throw new Error(`no media section found with mid '${t}'`);return this._mediaSections[n]}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(t=>!t.closed).map(t=>t.mid).join(" "))}}mn.RemoteSdp=RB;var wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.parse=void 0;const CB=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");function xB(e){const t=CB.exec(e||"");return t?{spatialLayers:Number(t[1]),temporalLayers:Number(t[2])}:{spatialLayers:1,temporalLayers:1}}wr.parse=xB;var TB=B&&B.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),EB=B&&B.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Vo=B&&B.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&TB(t,e,n);return EB(t,e),t};Object.defineProperty(Vd,"__esModule",{value:!0});Vd.Chrome111=void 0;const Gr=Vo(pt),PB=ot,O_=Vo(ft),Ps=Vo(ie),Cl=Vo(Rt),M_=Vo(Vn),kB=Vo(ps),DB=xt,AB=Qt,LB=mn,OB=wr,ue=new PB.Logger("Chrome111"),I_={OS:1024,MIS:1024};class dy extends AB.HandlerInterface{static createFactory(){return()=>new dy}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome111"}close(){if(ue.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){ue.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const n=await t.createOffer();try{t.close()}catch{}const r=Gr.parse(n.sdp),i=Cl.extractRtpCapabilities({sdpObject:r});return kB.addNackSuppportForOpus(i),i}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return ue.debug("getNativeSctpCapabilities()"),{numStreams:I_}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){this.assertNotClosed(),ue.debug("run()"),this._direction=t,this._remoteSdp=new LB.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s}),this._sendingRtpParametersByKind={audio:Ps.getSendingRtpParameters("audio",d),video:Ps.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Ps.getSendingRemoteRtpParameters("audio",d),video:Ps.getSendingRemoteRtpParameters("video",d)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(ue.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}}))}async updateIceServers(t){this.assertNotClosed(),ue.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(this.assertNotClosed(),ue.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});ue.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};ue.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();ue.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){if(this.assertNotClosed(),this.assertSendDirection(),ue.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),n&&n.length>1){n.forEach((S,w)=>{S.rid=`r${w}`});let h=1,y=1;for(const S of n){const w=S.scalabilityMode?(0,OB.parse)(S.scalabilityMode).temporalLayers:3;w>y&&(y=w)}for(const S of n)S.rid=`r${h++}`,S.scalabilityMode=`L1T${y}`}const s=O_.clone(this._sendingRtpParametersByKind[t.kind],{});s.codecs=Ps.reduceCodecs(s.codecs,i);const o=O_.clone(this._sendingRemoteRtpParametersByKind[t.kind],{});o.codecs=Ps.reduceCodecs(o.codecs,i);const a=this._remoteSdp.getNextMediaSectionIdx(),c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:n}),l=await this._pc.createOffer();let d=Gr.parse(l.sdp);this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),ue.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l);const f=c.mid;s.mid=f,d=Gr.parse(this._pc.localDescription.sdp);const p=d.media[a.idx];if(s.rtcp.cname=Cl.getCname({offerMediaObject:p}),!n)s.encodings=M_.getRtpEncodings({offerMediaObject:p});else if(n.length===1){const h=M_.getRtpEncodings({offerMediaObject:p});Object.assign(h[0],n[0]),s.encodings=h}else s.encodings=n;this._remoteSdp.send({offerMediaObject:p,reuseMid:a.reuseMid,offerRtpParameters:s,answerRtpParameters:o,codecOptions:r,extmapAllowMixed:!0});const g={type:"answer",sdp:this._remoteSdp.getSdp()};return ue.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g),this._mapMidTransceiver.set(f,c),{localId:f,rtpParameters:s,rtpSender:c.sender}}async stopSending(t){if(this.assertSendDirection(),ue.debug("stopSending() [localId:%s]",t),this._closed)return;const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");if(n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.closeMediaSection(n.mid))try{n.stop()}catch{}const i=await this._pc.createOffer();ue.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),ue.debug("pauseSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="inactive",this._remoteSdp.pauseMediaSection(t);const r=await this._pc.createOffer();ue.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),ue.debug("resumeSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(this._remoteSdp.resumeSendingMediaSection(t),!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="sendonly";const r=await this._pc.createOffer();ue.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(t,n){this.assertNotClosed(),this.assertSendDirection(),n?ue.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):ue.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(n)}async setMaxSpatialLayer(t,n){this.assertNotClosed(),this.assertSendDirection(),ue.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((a,c)=>{c<=n?a.active=!0:a.active=!1}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();ue.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,n){this.assertNotClosed(),this.assertSendDirection(),ue.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((a,c)=>{i.encodings[c]={...a,...n}}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();ue.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:s}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmits:r,protocol:s};ue.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%I_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=Gr.parse(l.sdp),f=d.media.find(g=>g.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),ue.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:f});const p={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const n=[],r=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d,streamId:f}=a;ue.debug("receive() [trackId:%s, kind:%s]",c,l);const p=d.mid||String(this._mapMidTransceiver.size);r.set(c,p),this._remoteSdp.receive({mid:p,kind:l,offerRtpParameters:d,streamId:f||d.rtcp.cname,trackId:c})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};ue.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let s=await this._pc.createAnswer();const o=Gr.parse(s.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,d=r.get(c),f=o.media.find(p=>String(p.mid)===d);Cl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:f})}s={type:"answer",sdp:Gr.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),ue.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const a of t){const{trackId:c}=a,l=r.get(c),d=this._pc.getTransceivers().find(f=>f.mid===l);if(d)this._mapMidTransceiver.set(l,d),n.push({localId:l,track:d.receiver.track,rtpReceiver:d.receiver});else throw new Error("new RTCRtpTransceiver not found")}return n}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const i of t){ue.debug("stopReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(s.mid)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};ue.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();ue.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const i of t)this._mapMidTransceiver.delete(i)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){ue.debug("pauseReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");s.direction="inactive",this._remoteSdp.pauseMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};ue.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();ue.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){ue.debug("resumeReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");s.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};ue.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();ue.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a,protocol:r};ue.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(n,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const d={type:"offer",sdp:this._remoteSdp.getSdp()};ue.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const f=await this._pc.createAnswer();if(!this._transportReady){const p=Gr.parse(f.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p})}ue.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setLocalDescription(f),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=Gr.parse(this._pc.localDescription.sdp));const r=Cl.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,s)=>{this.safeEmit("@connect",{dtlsParameters:r},i,s)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new DB.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Vd.Chrome111=dy;var zd={},MB=B&&B.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),IB=B&&B.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),zo=B&&B.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&MB(t,e,n);return IB(t,e),t};Object.defineProperty(zd,"__esModule",{value:!0});zd.Chrome74=void 0;const Xn=zo(pt),jB=ot,j_=zo(ft),ks=zo(ie),xl=zo(Rt),Pp=zo(Vn),NB=zo(ps),FB=xt,BB=Qt,$B=mn,UB=wr,ae=new jB.Logger("Chrome74"),N_={OS:1024,MIS:1024};class fy extends BB.HandlerInterface{static createFactory(){return()=>new fy}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome74"}close(){if(ae.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){ae.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const n=await t.createOffer();try{t.close()}catch{}const r=Xn.parse(n.sdp),i=xl.extractRtpCapabilities({sdpObject:r});return NB.addNackSuppportForOpus(i),i}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return ae.debug("getNativeSctpCapabilities()"),{numStreams:N_}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){ae.debug("run()"),this._direction=t,this._remoteSdp=new $B.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s}),this._sendingRtpParametersByKind={audio:ks.getSendingRtpParameters("audio",d),video:ks.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:ks.getSendingRemoteRtpParameters("audio",d),video:ks.getSendingRemoteRtpParameters("video",d)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(ae.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}}))}async updateIceServers(t){this.assertNotClosed(),ae.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(this.assertNotClosed(),ae.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});ae.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};ae.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};ae.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();ae.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertNotClosed(),this.assertSendDirection(),ae.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),n&&n.length>1&&n.forEach((S,w)=>{S.rid=`r${w}`});const s=j_.clone(this._sendingRtpParametersByKind[t.kind],{});s.codecs=ks.reduceCodecs(s.codecs,i);const o=j_.clone(this._sendingRemoteRtpParametersByKind[t.kind],{});o.codecs=ks.reduceCodecs(o.codecs,i);const a=this._remoteSdp.getNextMediaSectionIdx(),c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:n});let l=await this._pc.createOffer(),d=Xn.parse(l.sdp),f;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d});let p=!1;const g=(0,UB.parse)((n||[{}])[0].scalabilityMode);n&&n.length===1&&g.spatialLayers>1&&s.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(ae.debug("send() | enabling legacy simulcast for VP9 SVC"),p=!0,d=Xn.parse(l.sdp),f=d.media[a.idx],Pp.addLegacySimulcast({offerMediaObject:f,numStreams:g.spatialLayers}),l={type:"offer",sdp:Xn.write(d)}),ae.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l);const h=c.mid;if(s.mid=h,d=Xn.parse(this._pc.localDescription.sdp),f=d.media[a.idx],s.rtcp.cname=xl.getCname({offerMediaObject:f}),!n)s.encodings=Pp.getRtpEncodings({offerMediaObject:f});else if(n.length===1){let S=Pp.getRtpEncodings({offerMediaObject:f});Object.assign(S[0],n[0]),p&&(S=[S[0]]),s.encodings=S}else s.encodings=n;if(s.encodings.length>1&&(s.codecs[0].mimeType.toLowerCase()==="video/vp8"||s.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const S of s.encodings)S.scalabilityMode?S.scalabilityMode=`L1T${g.temporalLayers}`:S.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:f,reuseMid:a.reuseMid,offerRtpParameters:s,answerRtpParameters:o,codecOptions:r,extmapAllowMixed:!0});const y={type:"answer",sdp:this._remoteSdp.getSdp()};return ae.debug("send() | calling pc.setRemoteDescription() [answer:%o]",y),await this._pc.setRemoteDescription(y),this._mapMidTransceiver.set(h,c),{localId:h,rtpParameters:s,rtpSender:c.sender}}async stopSending(t){if(this.assertSendDirection(),ae.debug("stopSending() [localId:%s]",t),this._closed)return;const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");if(n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.closeMediaSection(n.mid))try{n.stop()}catch{}const i=await this._pc.createOffer();ae.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};ae.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),ae.debug("pauseSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="inactive",this._remoteSdp.pauseMediaSection(t);const r=await this._pc.createOffer();ae.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};ae.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),ae.debug("resumeSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(this._remoteSdp.resumeSendingMediaSection(t),!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="sendonly";const r=await this._pc.createOffer();ae.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};ae.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(t,n){this.assertNotClosed(),this.assertSendDirection(),n?ae.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):ae.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(n)}async setMaxSpatialLayer(t,n){this.assertNotClosed(),this.assertSendDirection(),ae.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((a,c)=>{c<=n?a.active=!0:a.active=!1}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();ae.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};ae.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,n){this.assertNotClosed(),this.assertSendDirection(),ae.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((a,c)=>{i.encodings[c]={...a,...n}}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();ae.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};ae.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:s}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmits:r,protocol:s};ae.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%N_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=Xn.parse(l.sdp),f=d.media.find(g=>g.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),ae.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:f});const p={type:"answer",sdp:this._remoteSdp.getSdp()};ae.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const n=[],r=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d,streamId:f}=a;ae.debug("receive() [trackId:%s, kind:%s]",c,l);const p=d.mid||String(this._mapMidTransceiver.size);r.set(c,p),this._remoteSdp.receive({mid:p,kind:l,offerRtpParameters:d,streamId:f||d.rtcp.cname,trackId:c})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};ae.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let s=await this._pc.createAnswer();const o=Xn.parse(s.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,d=r.get(c),f=o.media.find(p=>String(p.mid)===d);xl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:f})}s={type:"answer",sdp:Xn.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),ae.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const a of t){const{trackId:c}=a,l=r.get(c),d=this._pc.getTransceivers().find(f=>f.mid===l);if(d)this._mapMidTransceiver.set(l,d),n.push({localId:l,track:d.receiver.track,rtpReceiver:d.receiver});else throw new Error("new RTCRtpTransceiver not found")}return n}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const i of t){ae.debug("stopReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(s.mid)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};ae.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();ae.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const i of t)this._mapMidTransceiver.delete(i)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){ae.debug("pauseReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");s.direction="inactive",this._remoteSdp.pauseMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};ae.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();ae.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){ae.debug("resumeReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");s.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};ae.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();ae.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a,protocol:r};ae.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(n,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const d={type:"offer",sdp:this._remoteSdp.getSdp()};ae.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const f=await this._pc.createAnswer();if(!this._transportReady){const p=Xn.parse(f.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p})}ae.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setLocalDescription(f),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=Xn.parse(this._pc.localDescription.sdp));const r=xl.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,s)=>{this.safeEmit("@connect",{dtlsParameters:r},i,s)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new FB.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}zd.Chrome74=fy;var Hd={},VB=B&&B.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),zB=B&&B.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ic=B&&B.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&VB(t,e,n);return zB(t,e),t};Object.defineProperty(Hd,"__esModule",{value:!0});Hd.Chrome70=void 0;const _n=Ic(pt),HB=ot,F_=Ic(ft),Ds=Ic(ie),Tl=Ic(Rt),kp=Ic(Vn),WB=Qt,GB=mn,KB=wr,ve=new HB.Logger("Chrome70"),B_={OS:1024,MIS:1024};class py extends WB.HandlerInterface{static createFactory(){return()=>new py}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome70"}close(){if(ve.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){ve.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const n=await t.createOffer();try{t.close()}catch{}const r=_n.parse(n.sdp);return Tl.extractRtpCapabilities({sdpObject:r})}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return ve.debug("getNativeSctpCapabilities()"),{numStreams:B_}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){ve.debug("run()"),this._direction=t,this._remoteSdp=new GB.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s}),this._sendingRtpParametersByKind={audio:Ds.getSendingRtpParameters("audio",d),video:Ds.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Ds.getSendingRemoteRtpParameters("audio",d),video:Ds.getSendingRemoteRtpParameters("video",d)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(ve.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(t){ve.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(ve.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});ve.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};ve.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};ve.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();ve.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertSendDirection(),ve.debug("send() [kind:%s, track.id:%s]",t.kind,t.id);const s=F_.clone(this._sendingRtpParametersByKind[t.kind],{});s.codecs=Ds.reduceCodecs(s.codecs,i);const o=F_.clone(this._sendingRemoteRtpParametersByKind[t.kind],{});o.codecs=Ds.reduceCodecs(o.codecs,i);const a=this._remoteSdp.getNextMediaSectionIdx(),c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});let l=await this._pc.createOffer(),d=_n.parse(l.sdp),f;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),n&&n.length>1&&(ve.debug("send() | enabling legacy simulcast"),d=_n.parse(l.sdp),f=d.media[a.idx],kp.addLegacySimulcast({offerMediaObject:f,numStreams:n.length}),l={type:"offer",sdp:_n.write(d)});let p=!1;const g=(0,KB.parse)((n||[{}])[0].scalabilityMode);if(n&&n.length===1&&g.spatialLayers>1&&s.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(ve.debug("send() | enabling legacy simulcast for VP9 SVC"),p=!0,d=_n.parse(l.sdp),f=d.media[a.idx],kp.addLegacySimulcast({offerMediaObject:f,numStreams:g.spatialLayers}),l={type:"offer",sdp:_n.write(d)}),ve.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),n){ve.debug("send() | applying given encodings");const S=c.sender.getParameters();for(let w=0;w<(S.encodings||[]).length;++w){const _=S.encodings[w],b=n[w];if(!b)break;S.encodings[w]=Object.assign(_,b)}await c.sender.setParameters(S)}const h=c.mid;if(s.mid=h,d=_n.parse(this._pc.localDescription.sdp),f=d.media[a.idx],s.rtcp.cname=Tl.getCname({offerMediaObject:f}),s.encodings=kp.getRtpEncodings({offerMediaObject:f}),n)for(let S=0;S<s.encodings.length;++S)n[S]&&Object.assign(s.encodings[S],n[S]);if(p&&(s.encodings=[s.encodings[0]]),s.encodings.length>1&&(s.codecs[0].mimeType.toLowerCase()==="video/vp8"||s.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const S of s.encodings)S.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:f,reuseMid:a.reuseMid,offerRtpParameters:s,answerRtpParameters:o,codecOptions:r});const y={type:"answer",sdp:this._remoteSdp.getSdp()};return ve.debug("send() | calling pc.setRemoteDescription() [answer:%o]",y),await this._pc.setRemoteDescription(y),this._mapMidTransceiver.set(h,c),{localId:h,rtpParameters:s,rtpSender:c.sender}}async stopSending(t){this.assertSendDirection(),ve.debug("stopSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");if(n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.closeMediaSection(n.mid))try{n.stop()}catch{}const i=await this._pc.createOffer();ve.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};ve.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(t)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,n){this.assertSendDirection(),n?ve.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):ve.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(n)}async setMaxSpatialLayer(t,n){this.assertSendDirection(),ve.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((a,c)=>{c<=n?a.active=!0:a.active=!1}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();ve.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};ve.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,n){this.assertSendDirection(),ve.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((a,c)=>{i.encodings[c]={...a,...n}}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();ve.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};ve.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertSendDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:s}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmitTime:n,maxRetransmits:r,protocol:s};ve.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%B_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=_n.parse(l.sdp),f=d.media.find(g=>g.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),ve.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:f});const p={type:"answer",sdp:this._remoteSdp.getSdp()};ve.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const n=[],r=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d,streamId:f}=a;ve.debug("receive() [trackId:%s, kind:%s]",c,l);const p=d.mid||String(this._mapMidTransceiver.size);r.set(c,p),this._remoteSdp.receive({mid:p,kind:l,offerRtpParameters:d,streamId:f||d.rtcp.cname,trackId:c})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};ve.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let s=await this._pc.createAnswer();const o=_n.parse(s.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,d=r.get(c),f=o.media.find(p=>String(p.mid)===d);Tl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:f})}s={type:"answer",sdp:_n.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),ve.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const a of t){const{trackId:c}=a,l=r.get(c),d=this._pc.getTransceivers().find(f=>f.mid===l);if(!d)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,d),n.push({localId:l,track:d.receiver.track,rtpReceiver:d.receiver})}return n}async stopReceiving(t){this.assertRecvDirection();for(const i of t){ve.debug("stopReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(s.mid)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};ve.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();ve.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const i of t)this._mapMidTransceiver.delete(i)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){this.assertRecvDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:r};ve.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(n,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const d={type:"offer",sdp:this._remoteSdp.getSdp()};ve.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const f=await this._pc.createAnswer();if(!this._transportReady){const p=_n.parse(f.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p})}ve.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setLocalDescription(f),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=_n.parse(this._pc.localDescription.sdp));const r=Tl.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,s)=>{this.safeEmit("@connect",{dtlsParameters:r},i,s)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Hd.Chrome70=py;var Wd={},Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.addLegacySimulcast=Fr.getRtpEncodings=void 0;function QB({offerMediaObject:e,track:t}){const n=new Set;for(const s of e.ssrcs||[]){if(s.attribute!=="msid")continue;if(s.value.split(" ")[1]===t.id){const a=s.id;n.add(a)}}if(n.size===0)throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);const r=new Map;for(const s of e.ssrcGroups||[]){if(s.semantics!=="FID")continue;let[o,a]=s.ssrcs.split(/\s+/);o=Number(o),a=Number(a),n.has(o)&&(n.delete(o),n.delete(a),r.set(o,a))}for(const s of n)r.set(s,null);const i=[];for(const[s,o]of r){const a={ssrc:s};o&&(a.rtx={ssrc:o}),i.push(a)}return i}Fr.getRtpEncodings=QB;function qB({offerMediaObject:e,track:t,numStreams:n}){if(n<=1)throw new TypeError("numStreams must be greater than 1");let r,i,s;if(!(e.ssrcs||[]).find(f=>f.attribute!=="msid"?!1:f.value.split(" ")[1]===t.id?(r=f.id,s=f.value.split(" ")[0],!0):!1))throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);(e.ssrcGroups||[]).some(f=>{if(f.semantics!=="FID")return!1;const p=f.ssrcs.split(/\s+/);return Number(p[0])===r?(i=Number(p[1]),!0):!1});const a=e.ssrcs.find(f=>f.attribute==="cname"&&f.id===r);if(!a)throw new Error(`a=ssrc line with cname information not found [track.id:${t.id}]`);const c=a.value,l=[],d=[];for(let f=0;f<n;++f)l.push(r+f),i&&d.push(i+f);e.ssrcGroups=e.ssrcGroups||[],e.ssrcs=e.ssrcs||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:l.join(" ")});for(let f=0;f<l.length;++f){const p=l[f];e.ssrcs.push({id:p,attribute:"cname",value:c}),e.ssrcs.push({id:p,attribute:"msid",value:`${s} ${t.id}`})}for(let f=0;f<d.length;++f){const p=l[f],g=d[f];e.ssrcs.push({id:g,attribute:"cname",value:c}),e.ssrcs.push({id:g,attribute:"msid",value:`${s} ${t.id}`}),e.ssrcGroups.push({semantics:"FID",ssrcs:`${p} ${g}`})}}Fr.addLegacySimulcast=qB;var YB=B&&B.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),XB=B&&B.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),jc=B&&B.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&YB(t,e,n);return XB(t,e),t};Object.defineProperty(Wd,"__esModule",{value:!0});Wd.Chrome67=void 0;const Jn=jc(pt),JB=ot,$_=jc(ft),As=jc(ie),El=jc(Rt),U_=jc(Fr),ZB=Qt,e4=mn,be=new JB.Logger("Chrome67"),V_={OS:1024,MIS:1024};class hy extends ZB.HandlerInterface{static createFactory(){return()=>new hy}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome67"}close(){if(be.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){be.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const n=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const r=Jn.parse(n.sdp);return El.extractRtpCapabilities({sdpObject:r})}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return be.debug("getNativeSctpCapabilities()"),{numStreams:V_}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){be.debug("run()"),this._direction=t,this._remoteSdp=new e4.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:As.getSendingRtpParameters("audio",d),video:As.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:As.getSendingRemoteRtpParameters("audio",d),video:As.getSendingRemoteRtpParameters("video",d)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(be.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(t){be.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(be.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});be.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};be.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};be.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();be.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertSendDirection(),be.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),i&&be.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addTrack(t,this._sendStream);let s=await this._pc.createOffer(),o=Jn.parse(s.sdp),a;const c=$_.clone(this._sendingRtpParametersByKind[t.kind],{});c.codecs=As.reduceCodecs(c.codecs);const l=$_.clone(this._sendingRemoteRtpParametersByKind[t.kind],{});if(l.codecs=As.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&n&&n.length>1&&(be.debug("send() | enabling simulcast"),o=Jn.parse(s.sdp),a=o.media.find(g=>g.type==="video"),U_.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:n.length}),s={type:"offer",sdp:Jn.write(o)}),be.debug("send() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s),o=Jn.parse(this._pc.localDescription.sdp),a=o.media.find(g=>g.type===t.kind),c.rtcp.cname=El.getCname({offerMediaObject:a}),c.encodings=U_.getRtpEncodings({offerMediaObject:a,track:t}),n)for(let g=0;g<c.encodings.length;++g)n[g]&&Object.assign(c.encodings[g],n[g]);if(c.encodings.length>1&&c.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const g of c.encodings)g.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:r});const d={type:"answer",sdp:this._remoteSdp.getSdp()};be.debug("send() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d);const f=String(this._nextSendLocalId);this._nextSendLocalId++;const p=this._pc.getSenders().find(g=>g.track===t);return this._mapSendLocalIdRtpSender.set(f,p),{localId:f,rtpParameters:c,rtpSender:p}}async stopSending(t){this.assertSendDirection(),be.debug("stopSending() [localId:%s]",t);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(n),n.track&&this._sendStream.removeTrack(n.track),this._mapSendLocalIdRtpSender.delete(t);const r=await this._pc.createOffer();be.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(s){if(this._sendStream.getTracks().length===0){be.warn("stopSending() | ignoring expected error due no sending tracks: %s",s.toString());return}throw s}if(this._pc.signalingState==="stable")return;const i={type:"answer",sdp:this._remoteSdp.getSdp()};be.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,n){this.assertSendDirection(),n?be.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):be.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");const i=r.track;await r.replaceTrack(n),i&&this._sendStream.removeTrack(i),n&&this._sendStream.addTrack(n)}async setMaxSpatialLayer(t,n){this.assertSendDirection(),be.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");const i=r.getParameters();i.encodings.forEach((s,o)=>{o<=n?s.active=!0:s.active=!1}),await r.setParameters(i)}async setRtpEncodingParameters(t,n){this.assertSendDirection(),be.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");const i=r.getParameters();i.encodings.forEach((s,o)=>{i.encodings[o]={...s,...n}}),await r.setParameters(i)}async getSenderStats(t){this.assertSendDirection();const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");return n.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:s}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmitTime:n,maxRetransmits:r,protocol:s};be.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%V_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=Jn.parse(l.sdp),f=d.media.find(g=>g.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),be.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:f});const p={type:"answer",sdp:this._remoteSdp.getSdp()};be.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const n=[];for(const o of t){const{trackId:a,kind:c,rtpParameters:l,streamId:d}=o;be.debug("receive() [trackId:%s, kind:%s]",a,c);const f=c;this._remoteSdp.receive({mid:f,kind:c,offerRtpParameters:l,streamId:d||l.rtcp.cname,trackId:a})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};be.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let i=await this._pc.createAnswer();const s=Jn.parse(i.sdp);for(const o of t){const{kind:a,rtpParameters:c}=o,l=a,d=s.media.find(f=>String(f.mid)===l);El.applyCodecParameters({offerRtpParameters:c,answerMediaObject:d})}i={type:"answer",sdp:Jn.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:s}),be.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const o of t){const{kind:a,trackId:c,rtpParameters:l}=o,d=c,f=a,p=this._pc.getReceivers().find(g=>g.track&&g.track.id===d);if(!p)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(d,{mid:f,rtpParameters:l,rtpReceiver:p}),n.push({localId:d,track:p.track,rtpReceiver:p})}return n}async stopReceiving(t){this.assertRecvDirection();for(const i of t){be.debug("stopReceiving() [localId:%s]",i);const{mid:s,rtpParameters:o}=this._mapRecvLocalIdInfo.get(i)||{};this._mapRecvLocalIdInfo.delete(i),this._remoteSdp.planBStopReceiving({mid:s,offerRtpParameters:o})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};be.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();be.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){this.assertRecvDirection();const{rtpReceiver:n}=this._mapRecvLocalIdInfo.get(t)||{};if(!n)throw new Error("associated RTCRtpReceiver not found");return n.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:r};be.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(n,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const d={type:"offer",sdp:this._remoteSdp.getSdp()};be.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const f=await this._pc.createAnswer();if(!this._transportReady){const p=Jn.parse(f.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p})}be.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setLocalDescription(f),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=Jn.parse(this._pc.localDescription.sdp));const r=El.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,s)=>{this.safeEmit("@connect",{dtlsParameters:r},i,s)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Wd.Chrome67=hy;var Gd={},t4=B&&B.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),n4=B&&B.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Nc=B&&B.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&t4(t,e,n);return n4(t,e),t};Object.defineProperty(Gd,"__esModule",{value:!0});Gd.Chrome55=void 0;const Zn=Nc(pt),r4=ot,pa=xt,z_=Nc(ft),Ls=Nc(ie),Pl=Nc(Rt),H_=Nc(Fr),i4=Qt,s4=mn,Le=new r4.Logger("Chrome55"),W_={OS:1024,MIS:1024};class my extends i4.HandlerInterface{static createFactory(){return()=>new my}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome55"}close(){if(Le.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){Le.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const n=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const r=Zn.parse(n.sdp);return Pl.extractRtpCapabilities({sdpObject:r})}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return Le.debug("getNativeSctpCapabilities()"),{numStreams:W_}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){Le.debug("run()"),this._direction=t,this._remoteSdp=new s4.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:Ls.getSendingRtpParameters("audio",d),video:Ls.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Ls.getSendingRemoteRtpParameters("audio",d),video:Ls.getSendingRemoteRtpParameters("video",d)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(Le.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(t){Le.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(Le.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});Le.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};Le.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};Le.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Le.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertSendDirection(),Le.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),i&&Le.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addStream(this._sendStream);let s=await this._pc.createOffer(),o=Zn.parse(s.sdp),a;const c=z_.clone(this._sendingRtpParametersByKind[t.kind],{});c.codecs=Ls.reduceCodecs(c.codecs);const l=z_.clone(this._sendingRemoteRtpParametersByKind[t.kind],{});if(l.codecs=Ls.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&n&&n.length>1&&(Le.debug("send() | enabling simulcast"),o=Zn.parse(s.sdp),a=o.media.find(p=>p.type==="video"),H_.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:n.length}),s={type:"offer",sdp:Zn.write(o)}),Le.debug("send() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s),o=Zn.parse(this._pc.localDescription.sdp),a=o.media.find(p=>p.type===t.kind),c.rtcp.cname=Pl.getCname({offerMediaObject:a}),c.encodings=H_.getRtpEncodings({offerMediaObject:a,track:t}),n)for(let p=0;p<c.encodings.length;++p)n[p]&&Object.assign(c.encodings[p],n[p]);if(c.encodings.length>1&&c.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const p of c.encodings)p.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:r});const d={type:"answer",sdp:this._remoteSdp.getSdp()};Le.debug("send() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d);const f=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(f,t),{localId:f,rtpParameters:c}}async stopSending(t){this.assertSendDirection(),Le.debug("stopSending() [localId:%s]",t);const n=this._mapSendLocalIdTrack.get(t);if(!n)throw new Error("track not found");this._mapSendLocalIdTrack.delete(t),this._sendStream.removeTrack(n),this._pc.addStream(this._sendStream);const r=await this._pc.createOffer();Le.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(s){if(this._sendStream.getTracks().length===0){Le.warn("stopSending() | ignoring expected error due no sending tracks: %s",s.toString());return}throw s}if(this._pc.signalingState==="stable")return;const i={type:"answer",sdp:this._remoteSdp.getSdp()};Le.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,n){throw new pa.UnsupportedError("not implemented")}async setMaxSpatialLayer(t,n){throw new pa.UnsupportedError(" not implemented")}async setRtpEncodingParameters(t,n){throw new pa.UnsupportedError("not supported")}async getSenderStats(t){throw new pa.UnsupportedError("not implemented")}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:s}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmitTime:n,maxRetransmits:r,protocol:s};Le.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%W_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=Zn.parse(l.sdp),f=d.media.find(g=>g.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),Le.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:f});const p={type:"answer",sdp:this._remoteSdp.getSdp()};Le.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const n=[];for(const o of t){const{trackId:a,kind:c,rtpParameters:l,streamId:d}=o;Le.debug("receive() [trackId:%s, kind:%s]",a,c);const f=c;this._remoteSdp.receive({mid:f,kind:c,offerRtpParameters:l,streamId:d||l.rtcp.cname,trackId:a})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Le.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let i=await this._pc.createAnswer();const s=Zn.parse(i.sdp);for(const o of t){const{kind:a,rtpParameters:c}=o,l=a,d=s.media.find(f=>String(f.mid)===l);Pl.applyCodecParameters({offerRtpParameters:c,answerMediaObject:d})}i={type:"answer",sdp:Zn.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:s}),Le.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const o of t){const{kind:a,trackId:c,rtpParameters:l}=o,d=a,f=c,p=o.streamId||l.rtcp.cname,h=this._pc.getRemoteStreams().find(y=>y.id===p).getTrackById(f);if(!h)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(f,{mid:d,rtpParameters:l}),n.push({localId:f,track:h})}return n}async stopReceiving(t){this.assertRecvDirection();for(const i of t){Le.debug("stopReceiving() [localId:%s]",i);const{mid:s,rtpParameters:o}=this._mapRecvLocalIdInfo.get(i)||{};this._mapRecvLocalIdInfo.delete(i),this._remoteSdp.planBStopReceiving({mid:s,offerRtpParameters:o})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};Le.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Le.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){throw new pa.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:r};Le.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(n,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const d={type:"offer",sdp:this._remoteSdp.getSdp()};Le.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const f=await this._pc.createAnswer();if(!this._transportReady){const p=Zn.parse(f.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p})}Le.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setLocalDescription(f),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=Zn.parse(this._pc.localDescription.sdp));const r=Pl.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,s)=>{this.safeEmit("@connect",{dtlsParameters:r},i,s)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Gd.Chrome55=my;var Kd={},o4=B&&B.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),a4=B&&B.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Fc=B&&B.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&o4(t,e,n);return a4(t,e),t};Object.defineProperty(Kd,"__esModule",{value:!0});Kd.Firefox60=void 0;const Kr=Fc(pt),c4=ot,G_=xt,Dp=Fc(ft),Os=Fc(ie),kl=Fc(Rt),K_=Fc(Vn),l4=Qt,u4=mn,d4=wr,me=new c4.Logger("Firefox60"),Q_={OS:16,MIS:2048};class gy extends l4.HandlerInterface{static createFactory(){return()=>new gy}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Firefox60"}close(){if(me.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){me.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),n=document.createElement("canvas");n.getContext("2d");const i=n.captureStream().getVideoTracks()[0];try{t.addTransceiver("audio",{direction:"sendrecv"});const s=t.addTransceiver(i,{direction:"sendrecv"}),o=s.sender.getParameters(),a=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}];o.encodings=a,await s.sender.setParameters(o);const c=await t.createOffer();try{n.remove()}catch{}try{i.stop()}catch{}try{t.close()}catch{}const l=Kr.parse(c.sdp);return kl.extractRtpCapabilities({sdpObject:l})}catch(s){try{n.remove()}catch{}try{i.stop()}catch{}try{t.close()}catch{}throw s}}async getNativeSctpCapabilities(){return me.debug("getNativeSctpCapabilities()"),{numStreams:Q_}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){this.assertNotClosed(),me.debug("run()"),this._direction=t,this._remoteSdp=new u4.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s}),this._sendingRtpParametersByKind={audio:Os.getSendingRtpParameters("audio",d),video:Os.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Os.getSendingRemoteRtpParameters("audio",d),video:Os.getSendingRemoteRtpParameters("video",d)},this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(me.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(t){throw this.assertNotClosed(),new G_.UnsupportedError("not supported")}async restartIce(t){if(this.assertNotClosed(),me.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});me.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};me.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};me.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();me.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertNotClosed(),this.assertSendDirection(),me.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),n&&(n=Dp.clone(n,[]),n.length>1&&(n.forEach((h,y)=>{h.rid=`r${y}`}),n.reverse()));const s=Dp.clone(this._sendingRtpParametersByKind[t.kind],{});s.codecs=Os.reduceCodecs(s.codecs,i);const o=Dp.clone(this._sendingRemoteRtpParametersByKind[t.kind],{});o.codecs=Os.reduceCodecs(o.codecs,i);const a=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});if(n){const h=a.sender.getParameters();h.encodings=n,await a.sender.setParameters(h)}const c=await this._pc.createOffer();let l=Kr.parse(c.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:l});const d=(0,d4.parse)((n||[{}])[0].scalabilityMode);me.debug("send() | calling pc.setLocalDescription() [offer:%o]",c),await this._pc.setLocalDescription(c);const f=a.mid;s.mid=f,l=Kr.parse(this._pc.localDescription.sdp);const p=l.media[l.media.length-1];if(s.rtcp.cname=kl.getCname({offerMediaObject:p}),!n)s.encodings=K_.getRtpEncodings({offerMediaObject:p});else if(n.length===1){const h=K_.getRtpEncodings({offerMediaObject:p});Object.assign(h[0],n[0]),s.encodings=h}else s.encodings=n.reverse();if(s.encodings.length>1&&(s.codecs[0].mimeType.toLowerCase()==="video/vp8"||s.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const h of s.encodings)h.scalabilityMode?h.scalabilityMode=`L1T${d.temporalLayers}`:h.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:p,offerRtpParameters:s,answerRtpParameters:o,codecOptions:r,extmapAllowMixed:!0});const g={type:"answer",sdp:this._remoteSdp.getSdp()};return me.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g),this._mapMidTransceiver.set(f,a),{localId:f,rtpParameters:s,rtpSender:a.sender}}async stopSending(t){if(this.assertSendDirection(),me.debug("stopSending() [localId:%s]",t),this._closed)return;const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated transceiver not found");n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.disableMediaSection(n.mid);const r=await this._pc.createOffer();me.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};me.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),me.debug("pauseSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="inactive",this._remoteSdp.pauseMediaSection(t);const r=await this._pc.createOffer();me.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};me.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),me.debug("resumeSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(t);const r=await this._pc.createOffer();me.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};me.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(t,n){this.assertNotClosed(),this.assertSendDirection(),n?me.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):me.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(n)}async setMaxSpatialLayer(t,n){this.assertNotClosed(),this.assertSendDirection(),me.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated transceiver not found");const i=r.sender.getParameters();n=i.encodings.length-1-n,i.encodings.forEach((a,c)=>{c>=n?a.active=!0:a.active=!1}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();me.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};me.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,n){this.assertNotClosed(),this.assertSendDirection(),me.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((a,c)=>{i.encodings[c]={...a,...n}}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();me.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};me.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:s}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmits:r,protocol:s};me.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%Q_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=Kr.parse(l.sdp),f=d.media.find(g=>g.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:d}),me.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:f});const p={type:"answer",sdp:this._remoteSdp.getSdp()};me.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const n=[],r=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d,streamId:f}=a;me.debug("receive() [trackId:%s, kind:%s]",c,l);const p=d.mid||String(this._mapMidTransceiver.size);r.set(c,p),this._remoteSdp.receive({mid:p,kind:l,offerRtpParameters:d,streamId:f||d.rtcp.cname,trackId:c})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};me.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let s=await this._pc.createAnswer();const o=Kr.parse(s.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,d=r.get(c),f=o.media.find(p=>String(p.mid)===d);kl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:f}),s={type:"answer",sdp:Kr.write(o)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:o}),me.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const a of t){const{trackId:c}=a,l=r.get(c),d=this._pc.getTransceivers().find(f=>f.mid===l);if(!d)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,d),n.push({localId:l,track:d.receiver.track,rtpReceiver:d.receiver})}return n}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const i of t){me.debug("stopReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(s.mid)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};me.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();me.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const i of t)this._mapMidTransceiver.delete(i)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){me.debug("pauseReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");s.direction="inactive",this._remoteSdp.pauseMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};me.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();me.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){me.debug("resumeReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");s.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};me.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();me.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(t){this.assertRecvDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a,protocol:r};me.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(n,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const d={type:"offer",sdp:this._remoteSdp.getSdp()};me.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const f=await this._pc.createAnswer();if(!this._transportReady){const p=Kr.parse(f.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:p})}me.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setLocalDescription(f),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=Kr.parse(this._pc.localDescription.sdp));const r=kl.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,s)=>{this.safeEmit("@connect",{dtlsParameters:r},i,s)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new G_.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Kd.Firefox60=gy;var Qd={},f4=B&&B.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),p4=B&&B.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ho=B&&B.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&f4(t,e,n);return p4(t,e),t};Object.defineProperty(Qd,"__esModule",{value:!0});Qd.Safari12=void 0;const er=Ho(pt),h4=ot,q_=Ho(ft),Ms=Ho(ie),Dl=Ho(Rt),Y_=Ho(Vn),m4=Ho(ps),g4=xt,y4=Qt,v4=mn,w4=wr,ce=new h4.Logger("Safari12"),X_={OS:1024,MIS:1024};class yy extends y4.HandlerInterface{static createFactory(){return()=>new yy}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Safari12"}close(){if(ce.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){ce.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{t.addTransceiver("audio"),t.addTransceiver("video");const n=await t.createOffer();try{t.close()}catch{}const r=er.parse(n.sdp),i=Dl.extractRtpCapabilities({sdpObject:r});return m4.addNackSuppportForOpus(i),i}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return ce.debug("getNativeSctpCapabilities()"),{numStreams:X_}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){this.assertNotClosed(),ce.debug("run()"),this._direction=t,this._remoteSdp=new v4.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s}),this._sendingRtpParametersByKind={audio:Ms.getSendingRtpParameters("audio",d),video:Ms.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Ms.getSendingRemoteRtpParameters("audio",d),video:Ms.getSendingRemoteRtpParameters("video",d)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(ce.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(t){this.assertNotClosed(),ce.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(this.assertNotClosed(),ce.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});ce.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};ce.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};ce.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();ce.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertNotClosed(),this.assertSendDirection(),ce.debug("send() [kind:%s, track.id:%s]",t.kind,t.id);const s=q_.clone(this._sendingRtpParametersByKind[t.kind],{});s.codecs=Ms.reduceCodecs(s.codecs,i);const o=q_.clone(this._sendingRemoteRtpParametersByKind[t.kind],{});o.codecs=Ms.reduceCodecs(o.codecs,i);const a=this._remoteSdp.getNextMediaSectionIdx(),c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});let l=await this._pc.createOffer(),d=er.parse(l.sdp),f;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d});const p=(0,w4.parse)((n||[{}])[0].scalabilityMode);n&&n.length>1&&(ce.debug("send() | enabling legacy simulcast"),d=er.parse(l.sdp),f=d.media[a.idx],Y_.addLegacySimulcast({offerMediaObject:f,numStreams:n.length}),l={type:"offer",sdp:er.write(d)}),ce.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l);const g=c.mid;if(s.mid=g,d=er.parse(this._pc.localDescription.sdp),f=d.media[a.idx],s.rtcp.cname=Dl.getCname({offerMediaObject:f}),s.encodings=Y_.getRtpEncodings({offerMediaObject:f}),n)for(let y=0;y<s.encodings.length;++y)n[y]&&Object.assign(s.encodings[y],n[y]);if(s.encodings.length>1&&(s.codecs[0].mimeType.toLowerCase()==="video/vp8"||s.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const y of s.encodings)y.scalabilityMode?y.scalabilityMode=`L1T${p.temporalLayers}`:y.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:f,reuseMid:a.reuseMid,offerRtpParameters:s,answerRtpParameters:o,codecOptions:r});const h={type:"answer",sdp:this._remoteSdp.getSdp()};return ce.debug("send() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h),this._mapMidTransceiver.set(g,c),{localId:g,rtpParameters:s,rtpSender:c.sender}}async stopSending(t){if(this.assertSendDirection(),this._closed)return;ce.debug("stopSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");if(n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.closeMediaSection(n.mid))try{n.stop()}catch{}const i=await this._pc.createOffer();ce.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};ce.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),ce.debug("pauseSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="inactive",this._remoteSdp.pauseMediaSection(t);const r=await this._pc.createOffer();ce.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};ce.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),ce.debug("resumeSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(t);const r=await this._pc.createOffer();ce.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};ce.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(t,n){this.assertNotClosed(),this.assertSendDirection(),n?ce.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):ce.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(n)}async setMaxSpatialLayer(t,n){this.assertNotClosed(),this.assertSendDirection(),ce.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((a,c)=>{c<=n?a.active=!0:a.active=!1}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();ce.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};ce.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,n){this.assertNotClosed(),this.assertSendDirection(),ce.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((a,c)=>{i.encodings[c]={...a,...n}}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();ce.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};ce.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:s}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmits:r,protocol:s};ce.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%X_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=er.parse(l.sdp),f=d.media.find(g=>g.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),ce.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:f});const p={type:"answer",sdp:this._remoteSdp.getSdp()};ce.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const n=[],r=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d,streamId:f}=a;ce.debug("receive() [trackId:%s, kind:%s]",c,l);const p=d.mid||String(this._mapMidTransceiver.size);r.set(c,p),this._remoteSdp.receive({mid:p,kind:l,offerRtpParameters:d,streamId:f||d.rtcp.cname,trackId:c})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};ce.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let s=await this._pc.createAnswer();const o=er.parse(s.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,d=r.get(c),f=o.media.find(p=>String(p.mid)===d);Dl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:f})}s={type:"answer",sdp:er.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),ce.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const a of t){const{trackId:c}=a,l=r.get(c),d=this._pc.getTransceivers().find(f=>f.mid===l);if(!d)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,d),n.push({localId:l,track:d.receiver.track,rtpReceiver:d.receiver})}return n}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const i of t){ce.debug("stopReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(s.mid)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};ce.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();ce.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const i of t)this._mapMidTransceiver.delete(i)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){ce.debug("pauseReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");s.direction="inactive",this._remoteSdp.pauseMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};ce.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();ce.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){ce.debug("resumeReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");s.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};ce.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();ce.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a,protocol:r};ce.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(n,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const d={type:"offer",sdp:this._remoteSdp.getSdp()};ce.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const f=await this._pc.createAnswer();if(!this._transportReady){const p=er.parse(f.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p})}ce.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setLocalDescription(f),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=er.parse(this._pc.localDescription.sdp));const r=Dl.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,s)=>{this.safeEmit("@connect",{dtlsParameters:r},i,s)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new g4.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Qd.Safari12=yy;var qd={},_4=B&&B.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),S4=B&&B.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Bc=B&&B.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&_4(t,e,n);return S4(t,e),t};Object.defineProperty(qd,"__esModule",{value:!0});qd.Safari11=void 0;const tr=Bc(pt),b4=ot,J_=Bc(ft),Is=Bc(ie),Al=Bc(Rt),Z_=Bc(Fr),R4=Qt,C4=mn,Ce=new b4.Logger("Safari11"),eS={OS:1024,MIS:1024};class vy extends R4.HandlerInterface{static createFactory(){return()=>new vy}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Safari11"}close(){if(Ce.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){Ce.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const n=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const r=tr.parse(n.sdp);return Al.extractRtpCapabilities({sdpObject:r})}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return Ce.debug("getNativeSctpCapabilities()"),{numStreams:eS}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){Ce.debug("run()"),this._direction=t,this._remoteSdp=new C4.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:Is.getSendingRtpParameters("audio",d),video:Is.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Is.getSendingRemoteRtpParameters("audio",d),video:Is.getSendingRemoteRtpParameters("video",d)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(Ce.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(t){Ce.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(Ce.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});Ce.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};Ce.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};Ce.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Ce.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertSendDirection(),Ce.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),i&&Ce.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addTrack(t,this._sendStream);let s=await this._pc.createOffer(),o=tr.parse(s.sdp),a;const c=J_.clone(this._sendingRtpParametersByKind[t.kind],{});c.codecs=Is.reduceCodecs(c.codecs);const l=J_.clone(this._sendingRemoteRtpParametersByKind[t.kind],{});if(l.codecs=Is.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&n&&n.length>1&&(Ce.debug("send() | enabling simulcast"),o=tr.parse(s.sdp),a=o.media.find(g=>g.type==="video"),Z_.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:n.length}),s={type:"offer",sdp:tr.write(o)}),Ce.debug("send() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s),o=tr.parse(this._pc.localDescription.sdp),a=o.media.find(g=>g.type===t.kind),c.rtcp.cname=Al.getCname({offerMediaObject:a}),c.encodings=Z_.getRtpEncodings({offerMediaObject:a,track:t}),n)for(let g=0;g<c.encodings.length;++g)n[g]&&Object.assign(c.encodings[g],n[g]);if(c.encodings.length>1&&c.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const g of c.encodings)g.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:r});const d={type:"answer",sdp:this._remoteSdp.getSdp()};Ce.debug("send() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d);const f=String(this._nextSendLocalId);this._nextSendLocalId++;const p=this._pc.getSenders().find(g=>g.track===t);return this._mapSendLocalIdRtpSender.set(f,p),{localId:f,rtpParameters:c,rtpSender:p}}async stopSending(t){this.assertSendDirection();const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");n.track&&this._sendStream.removeTrack(n.track),this._mapSendLocalIdRtpSender.delete(t);const r=await this._pc.createOffer();Ce.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(s){if(this._sendStream.getTracks().length===0){Ce.warn("stopSending() | ignoring expected error due no sending tracks: %s",s.toString());return}throw s}if(this._pc.signalingState==="stable")return;const i={type:"answer",sdp:this._remoteSdp.getSdp()};Ce.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,n){this.assertSendDirection(),n?Ce.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):Ce.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");const i=r.track;await r.replaceTrack(n),i&&this._sendStream.removeTrack(i),n&&this._sendStream.addTrack(n)}async setMaxSpatialLayer(t,n){this.assertSendDirection(),Ce.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");const i=r.getParameters();i.encodings.forEach((s,o)=>{o<=n?s.active=!0:s.active=!1}),await r.setParameters(i)}async setRtpEncodingParameters(t,n){this.assertSendDirection(),Ce.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");const i=r.getParameters();i.encodings.forEach((s,o)=>{i.encodings[o]={...s,...n}}),await r.setParameters(i)}async getSenderStats(t){this.assertSendDirection();const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");return n.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:s}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmits:r,protocol:s};Ce.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%eS.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=tr.parse(l.sdp),f=d.media.find(g=>g.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),Ce.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:f});const p={type:"answer",sdp:this._remoteSdp.getSdp()};Ce.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const n=[];for(const o of t){const{trackId:a,kind:c,rtpParameters:l,streamId:d}=o;Ce.debug("receive() [trackId:%s, kind:%s]",a,c);const f=c;this._remoteSdp.receive({mid:f,kind:c,offerRtpParameters:l,streamId:d||l.rtcp.cname,trackId:a})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Ce.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let i=await this._pc.createAnswer();const s=tr.parse(i.sdp);for(const o of t){const{kind:a,rtpParameters:c}=o,l=a,d=s.media.find(f=>String(f.mid)===l);Al.applyCodecParameters({offerRtpParameters:c,answerMediaObject:d})}i={type:"answer",sdp:tr.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:s}),Ce.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const o of t){const{kind:a,trackId:c,rtpParameters:l}=o,d=a,f=c,p=this._pc.getReceivers().find(g=>g.track&&g.track.id===f);if(!p)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(f,{mid:d,rtpParameters:l,rtpReceiver:p}),n.push({localId:f,track:p.track,rtpReceiver:p})}return n}async stopReceiving(t){this.assertRecvDirection();for(const i of t){Ce.debug("stopReceiving() [localId:%s]",i);const{mid:s,rtpParameters:o}=this._mapRecvLocalIdInfo.get(i)||{};this._mapRecvLocalIdInfo.delete(i),this._remoteSdp.planBStopReceiving({mid:s,offerRtpParameters:o})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};Ce.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Ce.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(t){this.assertRecvDirection();const{rtpReceiver:n}=this._mapRecvLocalIdInfo.get(t)||{};if(!n)throw new Error("associated RTCRtpReceiver not found");return n.getStats()}async pauseReceiving(t){}async resumeReceiving(t){}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a,protocol:r};Ce.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(n,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const d={type:"offer",sdp:this._remoteSdp.getSdp()};Ce.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const f=await this._pc.createAnswer();if(!this._transportReady){const p=tr.parse(f.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p})}Ce.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setLocalDescription(f),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=tr.parse(this._pc.localDescription.sdp));const r=Al.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,s)=>{this.safeEmit("@connect",{dtlsParameters:r},i,s)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}qd.Safari11=vy;var Yd={},Lo={},x4=B&&B.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),T4=B&&B.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),E4=B&&B.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&x4(t,e,n);return T4(t,e),t};Object.defineProperty(Lo,"__esModule",{value:!0});Lo.mangleRtpParameters=Lo.getCapabilities=void 0;const oT=E4(ft);function P4(){const e=RTCRtpReceiver.getCapabilities(),t=oT.clone(e,{});for(const n of t.codecs){if(n.channels=n.numChannels,delete n.numChannels,n.mimeType=n.mimeType||`${n.kind}/${n.name}`,n.parameters){const r=n.parameters;r.apt&&(r.apt=Number(r.apt)),r["packetization-mode"]&&(r["packetization-mode"]=Number(r["packetization-mode"]))}for(const r of n.rtcpFeedback||[])r.parameter||(r.parameter="")}return t}Lo.getCapabilities=P4;function k4(e){const t=oT.clone(e,{});t.mid&&(t.muxId=t.mid,delete t.mid);for(const n of t.codecs)n.channels&&(n.numChannels=n.channels,delete n.channels),n.mimeType&&!n.name&&(n.name=n.mimeType.split("/")[1]),delete n.mimeType;return t}Lo.mangleRtpParameters=k4;var D4=B&&B.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),A4=B&&B.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wy=B&&B.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&D4(t,e,n);return A4(t,e),t};Object.defineProperty(Yd,"__esModule",{value:!0});Yd.Edge11=void 0;const L4=ot,Ap=xt,Ll=wy(ft),Lp=wy(ie),Op=wy(Lo),O4=Qt,Ie=new L4.Logger("Edge11");class _y extends O4.HandlerInterface{static createFactory(){return()=>new _y}constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}get name(){return"Edge11"}close(){Ie.debug("close()");try{this._iceGatherer.close()}catch{}try{this._iceTransport.stop()}catch{}try{this._dtlsTransport.stop()}catch{}for(const t of this._rtpSenders.values())try{t.stop()}catch{}for(const t of this._rtpReceivers.values())try{t.stop()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){return Ie.debug("getNativeRtpCapabilities()"),Op.getCapabilities()}async getNativeSctpCapabilities(){return Ie.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){Ie.debug("run()"),this._sendingRtpParametersByKind={audio:Lp.getSendingRtpParameters("audio",d),video:Lp.getSendingRtpParameters("video",d)},this._remoteIceParameters=n,this._remoteIceCandidates=r,this._remoteDtlsParameters=i,this._cname=`CNAME-${Ll.generateRandomNumber()}`,this.setIceGatherer({iceServers:o,iceTransportPolicy:a}),this.setIceTransport(),this.setDtlsTransport()}async updateIceServers(t){throw new Ap.UnsupportedError("not supported")}async restartIce(t){if(Ie.debug("restartIce()"),this._remoteIceParameters=t,!!this._transportReady){Ie.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,t,"controlling");for(const n of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(n);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){Ie.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),Ie.debug("send() | calling new RTCRtpSender()");const s=new RTCRtpSender(t,this._dtlsTransport),o=Ll.clone(this._sendingRtpParametersByKind[t.kind],{});o.codecs=Lp.reduceCodecs(o.codecs,i);const a=o.codecs.some(d=>/.+\/rtx$/i.test(d.mimeType));n||(n=[{}]);for(const d of n)d.ssrc=Ll.generateRandomNumber(),a&&(d.rtx={ssrc:Ll.generateRandomNumber()});o.encodings=n,o.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const c=Op.mangleRtpParameters(o);Ie.debug("send() | calling rtpSender.send() [params:%o]",c),await s.send(c);const l=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(l,s),{localId:l,rtpParameters:o,rtpSender:s}}async stopSending(t){Ie.debug("stopSending() [localId:%s]",t);const n=this._rtpSenders.get(t);if(!n)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(t);try{Ie.debug("stopSending() | calling rtpSender.stop()"),n.stop()}catch(r){throw Ie.warn("stopSending() | rtpSender.stop() failed:%o",r),r}}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,n){n?Ie.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):Ie.debug("replaceTrack() [localId:%s, no track]",t);const r=this._rtpSenders.get(t);if(!r)throw new Error("RTCRtpSender not found");r.setTrack(n)}async setMaxSpatialLayer(t,n){Ie.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._rtpSenders.get(t);if(!r)throw new Error("RTCRtpSender not found");const i=r.getParameters();i.encodings.forEach((s,o)=>{o<=n?s.active=!0:s.active=!1}),await r.setParameters(i)}async setRtpEncodingParameters(t,n){Ie.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._rtpSenders.get(t);if(!r)throw new Error("RTCRtpSender not found");const i=r.getParameters();i.encodings.forEach((s,o)=>{i.encodings[o]={...s,...n}}),await r.setParameters(i)}async getSenderStats(t){const n=this._rtpSenders.get(t);if(!n)throw new Error("RTCRtpSender not found");return n.getStats()}async sendDataChannel(t){throw new Ap.UnsupportedError("not implemented")}async receive(t){const n=[];for(const r of t){const{trackId:i,kind:s}=r;Ie.debug("receive() [trackId:%s, kind:%s]",i,s)}this._transportReady||await this.setupTransport({localDtlsRole:"server"});for(const r of t){const{trackId:i,kind:s,rtpParameters:o}=r;Ie.debug("receive() | calling new RTCRtpReceiver()");const a=new RTCRtpReceiver(this._dtlsTransport,s);a.addEventListener("error",d=>{Ie.error('rtpReceiver "error" event [event:%o]',d)});const c=Op.mangleRtpParameters(o);Ie.debug("receive() | calling rtpReceiver.receive() [params:%o]",c),await a.receive(c);const l=i;this._rtpReceivers.set(l,a),n.push({localId:l,track:a.track,rtpReceiver:a})}return n}async stopReceiving(t){for(const n of t){Ie.debug("stopReceiving() [localId:%s]",n);const r=this._rtpReceivers.get(n);if(!r)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(n);try{Ie.debug("stopReceiving() | calling rtpReceiver.stop()"),r.stop()}catch(i){Ie.warn("stopReceiving() | rtpReceiver.stop() failed:%o",i)}}}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){const n=this._rtpReceivers.get(t);if(!n)throw new Error("RTCRtpReceiver not found");return n.getStats()}async receiveDataChannel(t){throw new Ap.UnsupportedError("not implemented")}setIceGatherer({iceServers:t,iceTransportPolicy:n}){const r=new RTCIceGatherer({iceServers:t||[],gatherPolicy:n||"all"});r.addEventListener("error",i=>{Ie.error('iceGatherer "error" event [event:%o]',i)});try{r.gather()}catch(i){Ie.debug("setIceGatherer() | iceGatherer.gather() failed: %s",i.toString())}this._iceGatherer=r}setIceTransport(){const t=new RTCIceTransport(this._iceGatherer);t.addEventListener("statechange",()=>{switch(t.state){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}}),t.addEventListener("icestatechange",()=>{switch(t.state){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}}),t.addEventListener("candidatepairchange",n=>{Ie.debug('iceTransport "candidatepairchange" event [pair:%o]',n.pair)}),this._iceTransport=t}setDtlsTransport(){const t=new RTCDtlsTransport(this._iceTransport);t.addEventListener("statechange",()=>{Ie.debug('dtlsTransport "statechange" event [state:%s]',t.state)}),t.addEventListener("dtlsstatechange",()=>{Ie.debug('dtlsTransport "dtlsstatechange" event [state:%s]',t.state),t.state==="closed"&&this.emit("@connectionstatechange","closed")}),t.addEventListener("error",n=>{Ie.error('dtlsTransport "error" event [event:%o]',n)}),this._dtlsTransport=t}async setupTransport({localDtlsRole:t}){Ie.debug("setupTransport()");const n=this._dtlsTransport.getLocalParameters();n.role=t,await new Promise((r,i)=>{this.safeEmit("@connect",{dtlsParameters:n},r,i)}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const r of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(r);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter(r=>r.algorithm==="sha-256"||r.algorithm==="sha-384"||r.algorithm==="sha-512"),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}}Yd.Edge11=_y;var Xd={},M4=B&&B.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),I4=B&&B.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Wo=B&&B.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&M4(t,e,n);return I4(t,e),t};Object.defineProperty(Xd,"__esModule",{value:!0});Xd.ReactNativeUnifiedPlan=void 0;const nr=Wo(pt),j4=ot,tS=Wo(ft),js=Wo(ie),Ol=Wo(Rt),Mp=Wo(Vn),N4=Wo(ps),F4=xt,B4=Qt,$4=mn,U4=wr,oe=new j4.Logger("ReactNativeUnifiedPlan"),nS={OS:1024,MIS:1024};class Sy extends B4.HandlerInterface{static createFactory(){return()=>new Sy}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"ReactNativeUnifiedPlan"}close(){if(oe.debug("close()"),!this._closed){if(this._closed=!0,this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){oe.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const n=await t.createOffer();try{t.close()}catch{}const r=nr.parse(n.sdp),i=Ol.extractRtpCapabilities({sdpObject:r});return N4.addNackSuppportForOpus(i),i}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return oe.debug("getNativeSctpCapabilities()"),{numStreams:nS}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){this.assertNotClosed(),oe.debug("run()"),this._direction=t,this._remoteSdp=new $4.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s}),this._sendingRtpParametersByKind={audio:js.getSendingRtpParameters("audio",d),video:js.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:js.getSendingRemoteRtpParameters("audio",d),video:js.getSendingRemoteRtpParameters("video",d)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(oe.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(t){this.assertNotClosed(),oe.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(this.assertNotClosed(),oe.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});oe.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};oe.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};oe.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();oe.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertNotClosed(),this.assertSendDirection(),oe.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),n&&n.length>1&&n.forEach((S,w)=>{S.rid=`r${w}`});const s=tS.clone(this._sendingRtpParametersByKind[t.kind],{});s.codecs=js.reduceCodecs(s.codecs,i);const o=tS.clone(this._sendingRemoteRtpParametersByKind[t.kind],{});o.codecs=js.reduceCodecs(o.codecs,i);const a=this._remoteSdp.getNextMediaSectionIdx(),c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:n});let l=await this._pc.createOffer(),d=nr.parse(l.sdp),f;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d});let p=!1;const g=(0,U4.parse)((n||[{}])[0].scalabilityMode);n&&n.length===1&&g.spatialLayers>1&&s.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(oe.debug("send() | enabling legacy simulcast for VP9 SVC"),p=!0,d=nr.parse(l.sdp),f=d.media[a.idx],Mp.addLegacySimulcast({offerMediaObject:f,numStreams:g.spatialLayers}),l={type:"offer",sdp:nr.write(d)}),oe.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l);let h=c.mid??void 0;if(h||oe.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),s.mid=h,d=nr.parse(this._pc.localDescription.sdp),f=d.media[a.idx],s.rtcp.cname=Ol.getCname({offerMediaObject:f}),!n)s.encodings=Mp.getRtpEncodings({offerMediaObject:f});else if(n.length===1){let S=Mp.getRtpEncodings({offerMediaObject:f});Object.assign(S[0],n[0]),p&&(S=[S[0]]),s.encodings=S}else s.encodings=n;if(s.encodings.length>1&&(s.codecs[0].mimeType.toLowerCase()==="video/vp8"||s.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const S of s.encodings)S.scalabilityMode?S.scalabilityMode=`L1T${g.temporalLayers}`:S.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:f,reuseMid:a.reuseMid,offerRtpParameters:s,answerRtpParameters:o,codecOptions:r,extmapAllowMixed:!0});const y={type:"answer",sdp:this._remoteSdp.getSdp()};return oe.debug("send() | calling pc.setRemoteDescription() [answer:%o]",y),await this._pc.setRemoteDescription(y),h||(h=c.mid,s.mid=h),this._mapMidTransceiver.set(h,c),{localId:h,rtpParameters:s,rtpSender:c.sender}}async stopSending(t){if(this.assertSendDirection(),this._closed)return;oe.debug("stopSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");if(n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.closeMediaSection(n.mid))try{n.stop()}catch{}const i=await this._pc.createOffer();oe.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const s={type:"answer",sdp:this._remoteSdp.getSdp()};oe.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),oe.debug("pauseSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="inactive",this._remoteSdp.pauseMediaSection(t);const r=await this._pc.createOffer();oe.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};oe.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),oe.debug("resumeSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(this._remoteSdp.resumeSendingMediaSection(t),!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="sendonly";const r=await this._pc.createOffer();oe.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};oe.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(t,n){this.assertNotClosed(),this.assertSendDirection(),n?oe.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):oe.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(n)}async setMaxSpatialLayer(t,n){this.assertNotClosed(),this.assertSendDirection(),oe.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((a,c)=>{c<=n?a.active=!0:a.active=!1}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();oe.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};oe.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,n){this.assertNotClosed(),this.assertSendDirection(),oe.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((a,c)=>{i.encodings[c]={...a,...n}}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const s=await this._pc.createOffer();oe.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const o={type:"answer",sdp:this._remoteSdp.getSdp()};oe.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:s}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmits:r,protocol:s};oe.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%nS.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=nr.parse(l.sdp),f=d.media.find(g=>g.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),oe.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:f});const p={type:"answer",sdp:this._remoteSdp.getSdp()};oe.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const n=[],r=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d,streamId:f}=a;oe.debug("receive() [trackId:%s, kind:%s]",c,l);const p=d.mid||String(this._mapMidTransceiver.size);r.set(c,p),this._remoteSdp.receive({mid:p,kind:l,offerRtpParameters:d,streamId:f||d.rtcp.cname,trackId:c})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};oe.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let s=await this._pc.createAnswer();const o=nr.parse(s.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,d=r.get(c),f=o.media.find(p=>String(p.mid)===d);Ol.applyCodecParameters({offerRtpParameters:l,answerMediaObject:f})}s={type:"answer",sdp:nr.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),oe.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const a of t){const{trackId:c}=a,l=r.get(c),d=this._pc.getTransceivers().find(f=>f.mid===l);if(d)this._mapMidTransceiver.set(l,d),n.push({localId:l,track:d.receiver.track,rtpReceiver:d.receiver});else throw new Error("new RTCRtpTransceiver not found")}return n}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const i of t){oe.debug("stopReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(s.mid)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};oe.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();oe.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const i of t)this._mapMidTransceiver.delete(i)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){oe.debug("pauseReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");s.direction="inactive",this._remoteSdp.pauseMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};oe.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();oe.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){oe.debug("resumeReceiving() [localId:%s]",i);const s=this._mapMidTransceiver.get(i);if(!s)throw new Error("associated RTCRtpTransceiver not found");s.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};oe.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();oe.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a,protocol:r};oe.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(n,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const d={type:"offer",sdp:this._remoteSdp.getSdp()};oe.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const f=await this._pc.createAnswer();if(!this._transportReady){const p=nr.parse(f.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p})}oe.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setLocalDescription(f),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=nr.parse(this._pc.localDescription.sdp));const r=Ol.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,s)=>{this.safeEmit("@connect",{dtlsParameters:r},i,s)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new F4.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Xd.ReactNativeUnifiedPlan=Sy;var Jd={},V4=B&&B.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),z4=B&&B.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$c=B&&B.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&V4(t,e,n);return z4(t,e),t};Object.defineProperty(Jd,"__esModule",{value:!0});Jd.ReactNative=void 0;const rr=$c(pt),H4=ot,ha=xt,Ip=$c(ft),Ns=$c(ie),Ml=$c(Rt),rS=$c(Fr),W4=Qt,G4=mn,Pe=new H4.Logger("ReactNative"),iS={OS:1024,MIS:1024};class by extends W4.HandlerInterface{static createFactory(){return()=>new by}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"ReactNative"}close(){if(Pe.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){Pe.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const n=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const r=rr.parse(n.sdp);return Ml.extractRtpCapabilities({sdpObject:r})}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return Pe.debug("getNativeSctpCapabilities()"),{numStreams:iS}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){Pe.debug("run()"),this._direction=t,this._remoteSdp=new G4.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:Ns.getSendingRtpParameters("audio",d),video:Ns.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Ns.getSendingRemoteRtpParameters("audio",d),video:Ns.getSendingRemoteRtpParameters("video",d)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(Pe.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(t){Pe.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(Pe.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});Pe.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};Pe.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};Pe.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Pe.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertSendDirection(),Pe.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),i&&Pe.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addStream(this._sendStream);let s=await this._pc.createOffer(),o=rr.parse(s.sdp),a;const c=Ip.clone(this._sendingRtpParametersByKind[t.kind],{});c.codecs=Ns.reduceCodecs(c.codecs);const l=Ip.clone(this._sendingRemoteRtpParametersByKind[t.kind],{});if(l.codecs=Ns.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&n&&n.length>1&&(Pe.debug("send() | enabling simulcast"),o=rr.parse(s.sdp),a=o.media.find(p=>p.type==="video"),rS.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:n.length}),s={type:"offer",sdp:rr.write(o)}),Pe.debug("send() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s),o=rr.parse(this._pc.localDescription.sdp),a=o.media.find(p=>p.type===t.kind),c.rtcp.cname=Ml.getCname({offerMediaObject:a}),c.encodings=rS.getRtpEncodings({offerMediaObject:a,track:t}),n)for(let p=0;p<c.encodings.length;++p)n[p]&&Object.assign(c.encodings[p],n[p]);if(c.encodings.length>1&&(c.codecs[0].mimeType.toLowerCase()==="video/vp8"||c.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const p of c.encodings)p.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:r});const d={type:"answer",sdp:this._remoteSdp.getSdp()};Pe.debug("send() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d);const f=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(f,t),{localId:f,rtpParameters:c}}async stopSending(t){this.assertSendDirection(),Pe.debug("stopSending() [localId:%s]",t);const n=this._mapSendLocalIdTrack.get(t);if(!n)throw new Error("track not found");this._mapSendLocalIdTrack.delete(t),this._sendStream.removeTrack(n),this._pc.addStream(this._sendStream);const r=await this._pc.createOffer();Pe.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(s){if(this._sendStream.getTracks().length===0){Pe.warn("stopSending() | ignoring expected error due no sending tracks: %s",s.toString());return}throw s}if(this._pc.signalingState==="stable")return;const i={type:"answer",sdp:this._remoteSdp.getSdp()};Pe.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,n){throw new ha.UnsupportedError("not implemented")}async setMaxSpatialLayer(t,n){throw new ha.UnsupportedError("not implemented")}async setRtpEncodingParameters(t,n){throw new ha.UnsupportedError("not implemented")}async getSenderStats(t){throw new ha.UnsupportedError("not implemented")}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:s}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmitTime:n,maxRetransmits:r,protocol:s};Pe.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(i,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%iS.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=rr.parse(l.sdp),f=d.media.find(g=>g.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),Pe.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:f});const p={type:"answer",sdp:this._remoteSdp.getSdp()};Pe.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const n=[],r=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d}=a;Pe.debug("receive() [trackId:%s, kind:%s]",c,l);const f=l;let p=a.streamId||d.rtcp.cname;Pe.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),p+=`-hack-${Ip.generateRandomNumber()}`,r.set(c,p),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:p,trackId:c})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};Pe.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let s=await this._pc.createAnswer();const o=rr.parse(s.sdp);for(const a of t){const{kind:c,rtpParameters:l}=a,d=c,f=o.media.find(p=>String(p.mid)===d);Ml.applyCodecParameters({offerRtpParameters:l,answerMediaObject:f})}s={type:"answer",sdp:rr.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),Pe.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const a of t){const{kind:c,trackId:l,rtpParameters:d}=a,f=l,p=c,g=r.get(l),y=this._pc.getRemoteStreams().find(S=>S.id===g).getTrackById(f);if(!y)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(f,{mid:p,rtpParameters:d}),n.push({localId:f,track:y})}return n}async stopReceiving(t){this.assertRecvDirection();for(const i of t){Pe.debug("stopReceiving() [localId:%s]",i);const{mid:s,rtpParameters:o}=this._mapRecvLocalIdInfo.get(i)||{};this._mapRecvLocalIdInfo.delete(i),this._remoteSdp.planBStopReceiving({mid:s,offerRtpParameters:o})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};Pe.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Pe.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){throw new ha.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:r};Pe.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(n,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const d={type:"offer",sdp:this._remoteSdp.getSdp()};Pe.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const f=await this._pc.createAnswer();if(!this._transportReady){const p=rr.parse(f.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p})}Pe.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setLocalDescription(f),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=rr.parse(this._pc.localDescription.sdp));const r=Ml.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,s)=>{this.safeEmit("@connect",{dtlsParameters:r},i,s)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Jd.ReactNative=by;var K4=B&&B.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Q4=B&&B.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),aT=B&&B.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&K4(t,e,n);return Q4(t,e),t};Object.defineProperty(ss,"__esModule",{value:!0});ss.Device=ss.detectDevice=void 0;const q4=UF,Y4=ot,X4=vr,Fs=xt,J4=aT(ft),Qr=aT(ie),Z4=Dc,e$=Vd,t$=zd,n$=Hd,r$=Wd,i$=Gd,s$=Kd,o$=Qd,a$=qd,c$=Yd,l$=Xd,u$=Jd,_t=new Y4.Logger("Device");function cT(){var e,t,n;if(typeof navigator=="object"&&navigator.product==="ReactNative"){if(_t.debug("detectDevice() | React-Native detected"),typeof RTCPeerConnection>"u"){_t.warn("detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?");return}return typeof RTCRtpTransceiver<"u"?(_t.debug("detectDevice() | ReactNative UnifiedPlan handler chosen"),"ReactNativeUnifiedPlan"):(_t.debug("detectDevice() | ReactNative PlanB handler chosen"),"ReactNative")}else if(typeof navigator=="object"&&typeof navigator.userAgent=="string"){const r=navigator.userAgent,i=new q4.UAParser(r);_t.debug("detectDevice() | browser detected [ua:%s, parsed:%o]",r,i.getResult());const s=i.getBrowser(),o=((e=s.name)==null?void 0:e.toLowerCase())??"",a=parseInt(s.major??"0"),l=((t=i.getEngine().name)==null?void 0:t.toLowerCase())??"",d=i.getOS(),f=((n=d.name)==null?void 0:n.toLowerCase())??"",p=parseFloat(d.version??"0"),g=f==="ios",h=["chrome","chromium","mobile chrome","chrome webview","chrome headless"].includes(o),y=["firefox","mobile firefox","mobile focus"].includes(o),S=["safari","mobile safari"].includes(o),w=["edge"].includes(o);if((h||w)&&!g&&a>=111)return"Chrome111";if(h&&!g&&a>=74||w&&!g&&a>=88)return"Chrome74";if(h&&!g&&a>=70)return"Chrome70";if(h&&!g&&a>=67)return"Chrome67";if(h&&!g&&a>=55)return"Chrome55";if(y&&!g&&a>=60)return"Firefox60";if(y&&g&&p>=14.3)return"Safari12";if(S&&a>=12&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(S&&a>=11)return"Safari11";if(w&&!g&&a>=11&&a<=18)return"Edge11";if(l==="webkit"&&g&&p>=14.3&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(l==="blink"){const _=r.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(_){const b=Number(_[1]);return b>=111?"Chrome111":b>=74?"Chrome74":b>=70?"Chrome70":b>=67?"Chrome67":"Chrome55"}else return"Chrome111"}else{_t.warn("detectDevice() | browser not supported [name:%s, version:%s]",o,a);return}}else{_t.warn("detectDevice() | unknown device");return}}ss.detectDevice=cT;class d${constructor({handlerName:t,handlerFactory:n,Handler:r}={}){if(this._loaded=!1,this._observer=new X4.EnhancedEventEmitter,_t.debug("constructor()"),r)if(_t.warn("constructor() | Handler option is DEPRECATED, use handlerName or handlerFactory instead"),typeof r=="string")t=r;else throw new TypeError("non string Handler option no longer supported, use handlerFactory instead");if(t&&n)throw new TypeError("just one of handlerName or handlerInterface can be given");if(n)this._handlerFactory=n;else{if(t)_t.debug("constructor() | handler given: %s",t);else if(t=cT(),t)_t.debug("constructor() | detected handler: %s",t);else throw new Fs.UnsupportedError("device not supported");switch(t){case"Chrome111":this._handlerFactory=e$.Chrome111.createFactory();break;case"Chrome74":this._handlerFactory=t$.Chrome74.createFactory();break;case"Chrome70":this._handlerFactory=n$.Chrome70.createFactory();break;case"Chrome67":this._handlerFactory=r$.Chrome67.createFactory();break;case"Chrome55":this._handlerFactory=i$.Chrome55.createFactory();break;case"Firefox60":this._handlerFactory=s$.Firefox60.createFactory();break;case"Safari12":this._handlerFactory=o$.Safari12.createFactory();break;case"Safari11":this._handlerFactory=a$.Safari11.createFactory();break;case"Edge11":this._handlerFactory=c$.Edge11.createFactory();break;case"ReactNativeUnifiedPlan":this._handlerFactory=l$.ReactNativeUnifiedPlan.createFactory();break;case"ReactNative":this._handlerFactory=u$.ReactNative.createFactory();break;default:throw new TypeError(`unknown handlerName "${t}"`)}}const i=this._handlerFactory();this._handlerName=i.name,i.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new Fs.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new Fs.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:t}){_t.debug("load() [routerRtpCapabilities:%o]",t),t=J4.clone(t,void 0);let n;try{if(this._loaded)throw new Fs.InvalidStateError("already loaded");Qr.validateRtpCapabilities(t),n=this._handlerFactory();const r=await n.getNativeRtpCapabilities();_t.debug("load() | got native RTP capabilities:%o",r),Qr.validateRtpCapabilities(r),this._extendedRtpCapabilities=Qr.getExtendedRtpCapabilities(r,t),_t.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=Qr.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=Qr.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=Qr.getRecvRtpCapabilities(this._extendedRtpCapabilities),Qr.validateRtpCapabilities(this._recvRtpCapabilities),_t.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await n.getNativeSctpCapabilities(),_t.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),Qr.validateSctpCapabilities(this._sctpCapabilities),_t.debug("load() succeeded"),this._loaded=!0,n.close()}catch(r){throw n&&n.close(),r}}canProduce(t){if(this._loaded){if(t!=="audio"&&t!=="video")throw new TypeError(`invalid kind "${t}"`)}else throw new Fs.InvalidStateError("not loaded");return this._canProduceByKind[t]}createSendTransport({id:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:d}){return _t.debug("createSendTransport()"),this.createTransport({direction:"send",id:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:d})}createRecvTransport({id:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:d}){return _t.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:d})}createTransport({direction:t,id:n,iceParameters:r,iceCandidates:i,dtlsParameters:s,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,appData:f}){if(this._loaded){if(typeof n!="string")throw new TypeError("missing id");if(typeof r!="object")throw new TypeError("missing iceParameters");if(Array.isArray(i)){if(typeof s!="object")throw new TypeError("missing dtlsParameters");if(o&&typeof o!="object")throw new TypeError("wrong sctpParameters");if(f&&typeof f!="object")throw new TypeError("if given, appData must be an object")}else throw new TypeError("missing iceCandidates")}else throw new Fs.InvalidStateError("not loaded");const p=new Z4.Transport({direction:t,id:n,iceParameters:r,iceCandidates:i,dtlsParameters:s,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,appData:f,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",p),p}}ss.Device=d$;var lT={},uT={};Object.defineProperty(uT,"__esModule",{value:!0});var dT={};Object.defineProperty(dT,"__esModule",{value:!0});(function(e){var t=B&&B.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=B&&B.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(ss,e),n(Dc,e),n(Ac,e),n(Lc,e),n(Oc,e),n(Mc,e),n(uT,e),n(dT,e),n(Qt,e),n(xt,e)})(lT);(function(e){var t=B&&B.__createBinding||(Object.create?function(l,d,f,p){p===void 0&&(p=f);var g=Object.getOwnPropertyDescriptor(d,f);(!g||("get"in g?!d.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(l,p,g)}:function(l,d,f,p){p===void 0&&(p=f),l[p]=d[f]}),n=B&&B.__setModuleDefault||(Object.create?function(l,d){Object.defineProperty(l,"default",{enumerable:!0,value:d})}:function(l,d){l.default=d}),r=B&&B.__importStar||function(l){if(l&&l.__esModule)return l;var d={};if(l!=null)for(var f in l)f!=="default"&&Object.prototype.hasOwnProperty.call(l,f)&&t(d,l,f);return n(d,l),d},i=B&&B.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.parseScalabilityMode=e.detectDevice=e.Device=e.version=e.types=void 0;const s=i(Nd);e.debug=s.default;const o=ss;Object.defineProperty(e,"Device",{enumerable:!0,get:function(){return o.Device}}),Object.defineProperty(e,"detectDevice",{enumerable:!0,get:function(){return o.detectDevice}});const a=r(lT);e.types=a,e.version="3.6.98";var c=wr;Object.defineProperty(e,"parseScalabilityMode",{enumerable:!0,get:function(){return c.parse}})})(Ix);let po,fT,Ua,Ca=[],ji;const f$={encodings:[{rid:"r0",maxBitrate:1e5,scalabilityMode:"S1T3"},{rid:"r1",maxBitrate:3e5,scalabilityMode:"S1T3"}],codecOptions:{videoGoogleStartBitrate:1e3}};let pT;const p$=async(e,t,n)=>(pT={track:e.getVideoTracks()[0],...f$},await h$(t,n)),h$=async(e,t)=>new Promise((n,r)=>{e.emit("joinRoom",{roomName:t},async i=>{console.log("Router RTP Capabilities..."),console.log(i.rtpCapabilities),fT=i.rtpCapabilities;try{const s=await m$(e);n(s)}catch(s){console.error("Failed to create device:",s),r(s)}})}),m$=async e=>{try{return po=new Ix.Device,await po.load({routerRtpCapabilities:fT}),console.log("Device RTP Capabilities",po.rtpCapabilities),await g$(e)}catch(t){t instanceof Error?(console.log(t.message),t.name==="UnsupportedError"&&console.warn("browser not supported")):console.log("An error occurred: ",t)}return[void 0]},g$=async e=>{let t;try{return t=await new Promise((n,r)=>{e.emit("createWebRtcTransport",{consumer:!1},i=>{i.error?r(new Error(i.error)):n(i)})}),console.log(t.params),Ua=po.createSendTransport(t.params),Ua.on("connect",({dtlsParameters:n},r,i)=>{try{e.emit("transport-connect",{dtlsParameters:n}),r()}catch(s){s instanceof Error&&i(s)}}),new Promise((n,r)=>{let i=[];Ua.on("produce",(s,o,a)=>{console.log(s);try{e.emit("transport-produce",{kind:s.kind,rtpParameters:s.rtpParameters,appData:s.appData},async({id:c,producersExist:l})=>{o({id:c}),l&&(i=await v$(e),n(i))})}catch(c){c instanceof Error&&(r(c),a(c))}}),y$()})}catch(n){console.error(n)}return[void 0]},y$=async()=>{try{Ua&&(ji=await Ua.produce(pT),ji==null||ji.on("trackended",()=>{console.log("video track ended")}),ji==null||ji.on("transportclose",()=>{console.log("video transport ended")}))}catch(e){console.log(e)}},v$=async e=>await new Promise((n,r)=>{e.emit("getProducers",async i=>{console.log(i);try{const s=[];for(const o of i){const a=await hT(o,e);s.push({producerId:o,mediaStream:a})}n(s)}catch(s){r(s)}})}),sS=[],hT=(e,t)=>new Promise((n,r)=>{sS.includes(e)||(sS.push(e),t.emit("createWebRtcTransport",{consumer:!0},async({params:i})=>{console.log("PARAMS..."),console.log(i);let s;try{s=po.createRecvTransport(i)}catch(o){console.log(o);return}s.on("connect",({dtlsParameters:o},a,c)=>{try{t.emit("transport-recv-connect",{dtlsParameters:o,serverConsumerTransportId:i.id}),a()}catch(l){l instanceof Error&&c(l)}}),await w$(s,e,i.id,t).then(o=>{n(o)}).catch(o=>{r(o)})}))}),w$=async(e,t,n,r)=>{try{return await _$(e,t,n,r)}catch(i){console.error("Failed to get the media stream:",i)}},_$=(e,t,n,r)=>new Promise((i,s)=>{r.emit("consume",{rtpCapabilities:po.rtpCapabilities,remoteProducerId:t,serverConsumerTransportId:n},async({params:o})=>{console.log("Consumer Params"),console.log(o);const a=await e.consume(o);Ca.push(e),r.emit("consumer-resume",{serverConsumerId:o.serverConsumerId});try{const{track:c}=a,l=new MediaStream([c]);console.log("here 1?"),i(l)}catch(c){s(c)}})}),S$=e=>{Ca.forEach((n,r)=>{console.log(`consumerTransportList[${r}].appData:`,n.appData)});const t=Ca.find(n=>n.appData.producerId===e);if(!t){console.log(`Cannot find producer with id ${e}`);return}t.close(),Ca=Ca.filter(n=>n.appData.producerId!==e)},mr=Object.create(null);mr.open="0";mr.close="1";mr.ping="2";mr.pong="3";mr.message="4";mr.upgrade="5";mr.noop="6";const au=Object.create(null);Object.keys(mr).forEach(e=>{au[mr[e]]=e});const b$={type:"error",data:"parser error"},mT=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",gT=typeof ArrayBuffer=="function",yT=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ry=({type:e,data:t},n,r)=>mT&&t instanceof Blob?n?r(t):oS(t,r):gT&&(t instanceof ArrayBuffer||yT(t))?n?r(t):oS(new Blob([t]),r):r(mr[e]+(t||"")),oS=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function aS(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let jp;function R$(e,t){if(mT&&e.data instanceof Blob)return e.data.arrayBuffer().then(aS).then(t);if(gT&&(e.data instanceof ArrayBuffer||yT(e.data)))return t(aS(e.data));Ry(e,!1,n=>{jp||(jp=new TextEncoder),t(jp.encode(n))})}const cS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xa=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<cS.length;e++)xa[cS.charCodeAt(e)]=e;const C$=e=>{let t=e.length*.75,n=e.length,r,i=0,s,o,a,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const l=new ArrayBuffer(t),d=new Uint8Array(l);for(r=0;r<n;r+=4)s=xa[e.charCodeAt(r)],o=xa[e.charCodeAt(r+1)],a=xa[e.charCodeAt(r+2)],c=xa[e.charCodeAt(r+3)],d[i++]=s<<2|o>>4,d[i++]=(o&15)<<4|a>>2,d[i++]=(a&3)<<6|c&63;return l},x$=typeof ArrayBuffer=="function",Cy=(e,t)=>{if(typeof e!="string")return{type:"message",data:vT(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:T$(e.substring(1),t)}:au[n]?e.length>1?{type:au[n],data:e.substring(1)}:{type:au[n]}:b$},T$=(e,t)=>{if(x$){const n=C$(e);return vT(n,t)}else return{base64:!0,data:e}},vT=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},wT=String.fromCharCode(30),E$=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((s,o)=>{Ry(s,!1,a=>{r[o]=a,++i===n&&t(r.join(wT))})})},P$=(e,t)=>{const n=e.split(wT),r=[];for(let i=0;i<n.length;i++){const s=Cy(n[i],t);if(r.push(s),s.type==="error")break}return r};let Np;function k$(e,t,n){Np||(Np=new TextDecoder);const r=t||e[0]<48||e[0]>54;return Cy(r?e:Np.decode(e),n)}const _T=4;function vt(e){if(e)return D$(e)}function D$(e){for(var t in vt.prototype)e[t]=vt.prototype[t];return e}vt.prototype.on=vt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};vt.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};vt.prototype.off=vt.prototype.removeListener=vt.prototype.removeAllListeners=vt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};vt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};vt.prototype.emitReserved=vt.prototype.emit;vt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};vt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Rn=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function ST(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const A$=Rn.setTimeout,L$=Rn.clearTimeout;function Zd(e,t){t.useNativeTimers?(e.setTimeoutFn=A$.bind(Rn),e.clearTimeoutFn=L$.bind(Rn)):(e.setTimeoutFn=Rn.setTimeout.bind(Rn),e.clearTimeoutFn=Rn.clearTimeout.bind(Rn))}const O$=1.33;function M$(e){return typeof e=="string"?I$(e):Math.ceil((e.byteLength||e.size)*O$)}function I$(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function j$(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function N$(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}class F$ extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class xy extends vt{constructor(t){super(),this.writable=!1,Zd(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new F$(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Cy(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=j$(t);return n.length?"?"+n:""}}const bT="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),pm=64,B$={};let lS=0,Il=0,uS;function dS(e){let t="";do t=bT[e%pm]+t,e=Math.floor(e/pm);while(e>0);return t}function RT(){const e=dS(+new Date);return e!==uS?(lS=0,uS=e):e+"."+dS(lS++)}for(;Il<pm;Il++)B$[bT[Il]]=Il;let CT=!1;try{CT=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const $$=CT;function xT(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||$$))return new XMLHttpRequest}catch{}if(!t)try{return new Rn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function U$(){}const V$=function(){return new xT({xdomain:!1}).responseType!=null}();class z$ extends xy{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}const n=t&&t.forceBase64;this.supportsBinary=V$&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};P$(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,E$(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=RT()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new pr(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class pr extends vt{constructor(t,n){super(),Zd(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=ST(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new xT(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=pr.requestsCount++,pr.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=U$,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete pr.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}pr.requestsCount=0;pr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",fS);else if(typeof addEventListener=="function"){const e="onpagehide"in Rn?"pagehide":"unload";addEventListener(e,fS,!1)}}function fS(){for(let e in pr.requests)pr.requests.hasOwnProperty(e)&&pr.requests[e].abort()}const Ty=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),jl=Rn.WebSocket||Rn.MozWebSocket,pS=!0,H$="arraybuffer",hS=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class W$ extends xy{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=hS?{}:ST(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=pS&&!hS?n?new jl(t,n):new jl(t):new jl(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||H$,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;Ry(r,this.supportsBinary,s=>{const o={};try{pS&&this.ws.send(s)}catch{}i&&Ty(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=RT()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!jl}}function G$(e,t){return e.type==="message"&&typeof e.data!="string"&&t[0]>=48&&t[0]<=54}class K$ extends xy{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=t.readable.getReader();this.writer=t.writable.getWriter();let r;const i=()=>{n.read().then(({done:o,value:a})=>{o||(!r&&a.byteLength===1&&a[0]===54?r=!0:(this.onPacket(k$(a,r,"arraybuffer")),r=!1),i())}).catch(o=>{})};i();const s=this.query.sid?`0{"sid":"${this.query.sid}"}`:"0";this.writer.write(new TextEncoder().encode(s)).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;R$(r,s=>{G$(r,s)&&this.writer.write(Uint8Array.of(54)),this.writer.write(s).then(()=>{i&&Ty(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const Q$={websocket:W$,webtransport:K$,polling:z$},q$=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Y$=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function hm(e){const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=q$.exec(e||""),s={},o=14;for(;o--;)s[Y$[o]]=i[o]||"";return n!=-1&&r!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=X$(s,s.path),s.queryKey=J$(s,s.query),s}function X$(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function J$(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}let TT=class $s extends vt{constructor(t,n={}){super(),this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=hm(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=hm(n.host).host),Zd(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=N$(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=_T,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Q$[t](r)}open(){let t;if(this.opts.rememberUpgrade&&$s.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;$s.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;$s.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function s(){r||(r=!0,d(),n.close(),n=null)}const o=f=>{const p=new Error("probe error: "+f);p.transport=n.name,s(),this.emitReserved("upgradeError",p)};function a(){o("transport closed")}function c(){o("socket closed")}function l(f){n&&f.name!==n.name&&s()}const d=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};n.once("open",i),n.once("error",o),n.once("close",a),this.once("close",c),this.once("upgrading",l),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",$s.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=M$(i)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:t,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){$s.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const i=t.length;for(;r<i;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}};TT.protocol=_T;function Z$(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=hm(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const eU=typeof ArrayBuffer=="function",tU=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,ET=Object.prototype.toString,nU=typeof Blob=="function"||typeof Blob<"u"&&ET.call(Blob)==="[object BlobConstructor]",rU=typeof File=="function"||typeof File<"u"&&ET.call(File)==="[object FileConstructor]";function Ey(e){return eU&&(e instanceof ArrayBuffer||tU(e))||nU&&e instanceof Blob||rU&&e instanceof File}function cu(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(cu(e[n]))return!0;return!1}if(Ey(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return cu(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&cu(e[n]))return!0;return!1}function iU(e){const t=[],n=e.data,r=e;return r.data=mm(n,t),r.attachments=t.length,{packet:r,buffers:t}}function mm(e,t){if(!e)return e;if(Ey(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=mm(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=mm(e[r],t));return n}return e}function sU(e,t){return e.data=gm(e.data,t),delete e.attachments,e}function gm(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=gm(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=gm(e[n],t));return e}const oU=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],aU=5;var xe;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(xe||(xe={}));class cU{constructor(t){this.replacer=t}encode(t){return(t.type===xe.EVENT||t.type===xe.ACK)&&cu(t)?this.encodeAsBinary({type:t.type===xe.EVENT?xe.BINARY_EVENT:xe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===xe.BINARY_EVENT||t.type===xe.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=iU(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function mS(e){return Object.prototype.toString.call(e)==="[object Object]"}class Py extends vt{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===xe.BINARY_EVENT;r||n.type===xe.BINARY_ACK?(n.type=r?xe.EVENT:xe.ACK,this.reconstructor=new lU(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Ey(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(xe[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===xe.BINARY_EVENT||r.type===xe.BINARY_ACK){const s=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(s,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(s,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(s,n+1))}if(t.charAt(++n)){const s=this.tryParse(t.substr(n));if(Py.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case xe.CONNECT:return mS(n);case xe.DISCONNECT:return n===void 0;case xe.CONNECT_ERROR:return typeof n=="string"||mS(n);case xe.EVENT:case xe.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&oU.indexOf(n[0])===-1);case xe.ACK:case xe.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class lU{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=sU(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const uU=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Py,Encoder:cU,get PacketType(){return xe},protocol:aU},Symbol.toStringTag,{value:"Module"}));function jn(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const dU=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class PT extends vt{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[jn(t,"open",this.onopen.bind(this)),jn(t,"packet",this.onpacket.bind(this)),jn(t,"error",this.onerror.bind(this)),jn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(dU.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:xe.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,a=n.pop();this._registerAckCallback(o,a),r.id=o}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},i);this.acks[t]=(...o)=>{this.io.clearTimeoutFn(s),n.apply(this,[null,...o])}}emitWithAck(t,...n){const r=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((i,s)=>{n.push((o,a)=>r?o?s(o):i(a):i(o)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:xe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case xe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case xe.EVENT:case xe.BINARY_EVENT:this.onevent(t);break;case xe.ACK:case xe.BINARY_ACK:this.onack(t);break;case xe.DISCONNECT:this.ondisconnect();break;case xe.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:xe.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:xe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Go(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Go.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Go.prototype.reset=function(){this.attempts=0};Go.prototype.setMin=function(e){this.ms=e};Go.prototype.setMax=function(e){this.max=e};Go.prototype.setJitter=function(e){this.jitter=e};class ym extends vt{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Zd(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Go({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||uU;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new TT(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=jn(n,"open",function(){r.onopen(),t&&t()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=jn(n,"error",s);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(jn(t,"ping",this.onping.bind(this)),jn(t,"data",this.ondata.bind(this)),jn(t,"error",this.onerror.bind(this)),jn(t,"close",this.onclose.bind(this)),jn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Ty(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new PT(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ma={};function Va(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Z$(e,t.path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=ma[i]&&s in ma[i].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return a?c=new ym(r,t):(ma[i]||(ma[i]=new ym(r,t)),c=ma[i]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(Va,{Manager:ym,Socket:PT,io:Va,connect:Va});function fU(e,t,n,r){const o=[[1,0],[0,1],[-1,0],[0,-1]],a=[];let c=100;for(a.push([e,t]),n[e][t]=!0;a.length>0;){const[l,d]=a.shift(),f=[];for(const p of o){const g=l+p[0],h=d+p[1];g>=0&&g<4&&h>=0&&h<3&&!n[g][h]&&(a.push([g,h]),n[g][h]=!0,f.push([g,h]))}setTimeout(()=>{const p=Array.from({length:4},()=>Array(3).fill(0));f.map(g=>{p[g[0]][g[1]]=1}),r(p)},c),c+=100}setTimeout(()=>{const l=Array.from({length:4},()=>Array(3).fill(0));r(l)},600)}function kT({userId:e,row:t,column:n}){console.log("Board rendered");const[r,i]=T.useState(Array.from({length:t},()=>Array(n).fill(0))),{dispatch:s,trigerClick:o,clickedBlock:a,gameover:c}=T.useContext(ky),l=T.useCallback((p,g)=>{s({type:kd,userId:e,clickedBlock:{rowIndex:p,colIndex:g}});const h=[...r];h[p][g]=2,i([...h]);const y=Zg[p][g];y.currentTime=0,y.play();const S=Array(4).fill(!1).map(()=>Array(3).fill(!1));fU(p,g,S,i)},[s,e,r]);T.useEffect(()=>{o&&l(a.rowIndex,a.colIndex)},[l,o]);const d=p=>k.jsx("tr",{children:Array.from({length:t},(g,h)=>f(p,h))},p),f=(p,g)=>k.jsx(ox,{flashcolor:Bu[g],initial:{scale:1},animate:r[p][g]>=1&&!c?{scale:[.9,1.1,.9,1]}:{},transition:{type:"spring",stiffness:150,duration:1},className:c?"gameover":r[p][g]===2?"flash":"",onClick:()=>l(p,g)},g);return k.jsx(sx,{children:k.jsx("tbody",{children:Array.from({length:t},(p,g)=>d(g))})})}function pU({turn:e,userId:t,row:n,column:r}){const{start:i}=T.useContext(Dd);return console.log("MyGame rendered",e),k.jsxs(kg,{children:[k.jsxs(kR,{children:[k.jsx(lx,{}),e==t||e==-1?k.jsx(kT,{turn:e,userId:t,row:n,column:r}):null]}),k.jsxs(AR,{children:["Player ID: ",t]}),i&&e==t&&k.jsx("h2",{color:"red",children:"Your Turn!"})]})}const hU=T.memo(pU);function mU({turn:e,users:t,userNum:n}){const{start:r}=T.useContext(ky),[i,s]=T.useState({});return console.log(t,n),T.useEffect(()=>{const o={};t.forEach(a=>{a.stream!==null&&(o[a.userId]=T.createRef())}),s(o)},[t,n]),T.useEffect(()=>{t.forEach(o=>{const a=i[o.userId];a&&a.current&&(a.current.srcObject=o.stream||null,a.current.play())})},[t,i]),k.jsx(k.Fragment,{children:t.map((o,a)=>k.jsxs(kg,{children:[k.jsxs(kR,{children:[k.jsx(DR,{children:k.jsx("video",{ref:i[o.userId],style:{position:"absolute",transform:"scaleX(-1)",width:`${Eo}vw`,height:`${Po}vh`,border:"5px solid #ffffff"}},a)},a),(r&&e==o.userId||e==-1)&&k.jsx(kT,{turn:e,userId:o.userId,row:3,column:4})]}),k.jsxs(AR,{children:["Player ID: ",o.userId]}),r&&e==o.userId&&k.jsx("h2",{style:{color:"white"},children:"Your Turn!"})]},a))})}const gU=T.memo(mU);function yU({show:e,winner:t,onStartGame:n,handleBeforeUnload:r}){return k.jsxs(Ht,{show:e,centered:!0,animation:!1,children:[k.jsx(Ht.Header,{children:k.jsx(Ht.Title,{id:"contained-modal-title-vcenter",children:k.jsx("h2",{children:"Game Over"})})}),k.jsxs(Ht.Body,{children:["Winner: ",t]}),k.jsxs(Ht.Footer,{children:[k.jsx(So,{variant:"outline-primary",onClick:n,children:"New Game"}),k.jsx(So,{children:k.jsx(Fo,{to:"/main/roomlist",style:{color:"white"},onClick:r,children:"Go Home"})})]})]})}const vU=T.memo(yU),wU={start:!1,end:!1,playersNum:1,turn:0,endTurn:!1,blockNum:1,blockList:[],prevBlockList:[],winner:-1,trigerClick:!1,clickedBlock:{rowIndex:-1,colIndex:-1}};let Qi;const _U=(e,t)=>{switch(t.type){case Ec:return e.start?e:(Qi!=null&&Qi.emit("get_game_data",{type:"START"}),{...e,start:!0,end:!1,turn:1,endTurn:!1,blockNum:0,blockList:[],prevBlockList:[],winner:-1});case kd:{const n=e.blockList.length;return Qi!=null&&!e.trigerClick&&Yu==e.turn&&Qi.emit("get_game_data",{type:"CLICK",userId:Yu,clickedBlock:{rowIndex:t.clickedBlock.rowIndex,colIndex:t.clickedBlock.colIndex}}),0<=n&&n<e.blockNum&&e.prevBlockList.length>0?e.prevBlockList[n].rowIndex!==t.clickedBlock.rowIndex||e.prevBlockList[n].colIndex!==t.clickedBlock.colIndex?(console.log("Game Over"),{...e,turn:-1,start:!1,end:!0,winner:t.userId,trigerClick:!1}):{...e,blockList:[...e.blockList,t.clickedBlock],trigerClick:!1}:{...e,endTurn:!0,blockList:[...e.blockList,t.clickedBlock],trigerClick:!1}}case ux:return console.log("change turn"),{...e,turn:e.turn%e.playersNum+1,endTurn:!1,blockNum:e.blockNum+1,blockList:[],prevBlockList:[...e.blockList]};case tu:return{...e,playersNum:e.playersNum+t.num};case dx:return{...e,trigerClick:!0,clickedBlock:t.clickedBlock};case fx:return console.log("change turn by other player"),{...e,turn:(e.turn+1)%e.playersNum+1,endTurn:!1,blockNum:e.blockNum+1,blockList:[],prevBlockList:[...e.blockList]};default:return e}},ky=T.createContext({start:!1,dispatch:()=>{},trigerClick:!1,clickedBlock:{rowIndex:-1,colIndex:-1},gameover:!1});let ga=[],Yu=1;function SU(){console.log("GamePage rendered");const[e,t]=T.useReducer(_U,wU),{playersNum:n,turn:r,start:i,end:s,endTurn:o,winner:a,trigerClick:c,clickedBlock:l}=e,{roomId:d}=gD(),f=T.useRef(),[p,g]=T.useState(!1),h=T.useCallback(()=>{f.current.emit("disconnect")},[]),y=T.useCallback(()=>{g(!1),t({type:Ec})},[]);T.useEffect(()=>(f.current==null&&(f.current=Va("https://choijungle.shop/mediasoup"),window.addEventListener("beforeunload",h),f.current.on("connection-success",()=>{navigator.mediaDevices.getUserMedia({video:{frameRate:{ideal:15,max:20},width:600,height:700}}).then(async w=>{d!==void 0&&await p$(w,f.current,d).then(_=>{console.log(_),_.map((b,C)=>{b&&ga.push({userId:C+1,nickname:b.producerId,stream:b.mediaStream})}),t({type:tu,num:_.length}),Yu=_.length+1})}).catch(w=>{console.error(w.message)})}),f.current.on("new-producer",async({producerId:w})=>{try{const _=await hT(w,f.current);_&&(ga.push({userId:n+1,nickname:w,stream:_}),t({type:tu,num:1}))}catch(_){console.error("Failed to signal new consumer transport:",_)}}),f.current.on("producer-closed",({remoteProducerId:w})=>{S$(w),ga=ga.filter(_=>_.nickname!==w),t({type:tu,num:-1})}),Qi=Va("https://choijungle.shop/data"),Qi.on("connection-success",()=>{console.log("dataSocket: connection-success")}),Qi.on("send_game_data",w=>{switch(w.data.type){case"START":y();break;case"TURN":t({type:fx});break;case"CLICK":t({type:dx,userId:w.data.userId,clickedBlock:{rowIndex:w.data.clickedBlock.rowIndex,colIndex:w.data.clickedBlock.colIndex}});break}})),()=>{window.removeEventListener("beforeunload",h)}),[]),T.useEffect(()=>{o&&setTimeout(()=>{t({type:ux})},1e3),s&&setTimeout(()=>{g(!0)},2e3)},[o,s]);const S=T.useMemo(()=>({start:i,dispatch:t,trigerClick:c,clickedBlock:l,gameover:s}),[i,c,s]);return k.jsxs(k.Fragment,{children:[k.jsx(ky.Provider,{value:S,children:k.jsxs(Pg,{children:[k.jsx(hU,{turn:r,userId:Yu,row:3,column:4}),k.jsx(gU,{turn:r,users:ga,userNum:n-1})]})}),k.jsx(px,{show:i||s,onStartGame:y,handleBeforeUnload:h}),k.jsx(vU,{show:p,winner:a.toString(),onStartGame:y,handleBeforeUnload:h})]})}function bU(){return k.jsxs(k.Fragment,{children:[k.jsx(jD,{basename:"/",children:k.jsxs(F1,{children:[k.jsx(xr,{path:"/login",element:k.jsx(NF,{})}),k.jsx(xr,{path:"/main/*",element:k.jsx(IF,{})}),k.jsx(xr,{path:"/game/:roomId",element:k.jsx(SU,{})}),k.jsx(xr,{path:"/sologame/:roomId",element:k.jsx(iN,{})}),k.jsx(xr,{path:"/",element:k.jsx(N1,{to:"/login"})})]})}),k.jsx(kD,{})]})}Fp.createRoot(document.getElementById("root")).render(k.jsx(k.Fragment,{children:k.jsx(bU,{})}));
